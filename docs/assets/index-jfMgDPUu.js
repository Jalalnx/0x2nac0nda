var g2=Object.defineProperty;var S1=n=>{throw TypeError(n)};var y2=(n,e,t)=>e in n?g2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>y2(n,typeof e!="symbol"?e+"":e,t),kv=(n,e,t)=>e.has(n)||S1("Cannot "+t);var a=(n,e,t)=>(kv(n,e,"read from private field"),t?t.call(n):e.get(n)),A=(n,e,t)=>e.has(n)?S1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),m=(n,e,t,i)=>(kv(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),S=(n,e,t)=>(kv(n,e,"access private method"),t);var Ke=(n,e,t,i)=>({set _(s){m(n,e,s,t)},get _(){return a(n,e,i)}});function v2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function YS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var KS={exports:{}},Hy={},QS={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=Symbol.for("react.element"),w2=Symbol.for("react.portal"),b2=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),A2=Symbol.for("react.profiler"),S2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),C2=Symbol.for("react.forward_ref"),_2=Symbol.for("react.suspense"),T2=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),E1=Symbol.iterator;function P2(n){return n===null||typeof n!="object"?null:(n=E1&&n[E1]||n["@@iterator"],typeof n=="function"?n:null)}var ZS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JS=Object.assign,eE={};function Ud(n,e,t){this.props=n,this.context=e,this.refs=eE,this.updater=t||ZS}Ud.prototype.isReactComponent={};Ud.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ud.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function tE(){}tE.prototype=Ud.prototype;function Ub(n,e,t){this.props=n,this.context=e,this.refs=eE,this.updater=t||ZS}var Vb=Ub.prototype=new tE;Vb.constructor=Ub;JS(Vb,Ud.prototype);Vb.isPureReactComponent=!0;var C1=Array.isArray,nE=Object.prototype.hasOwnProperty,Wb={current:null},iE={key:!0,ref:!0,__self:!0,__source:!0};function sE(n,e,t){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)nE.call(e,i)&&!iE.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Yp,type:n,key:r,ref:o,props:s,_owner:Wb.current}}function R2(n,e){return{$$typeof:Yp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Gb(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yp}function M2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var _1=/\/+/g;function Pv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?M2(""+n.key):e.toString(36)}function $m(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Yp:case w2:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+Pv(o,0):i,C1(s)?(t="",n!=null&&(t=n.replace(_1,"$&/")+"/"),$m(s,e,t,"",function(u){return u})):s!=null&&(Gb(s)&&(s=R2(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_1,"$&/")+"/")+n)),e.push(s)),1;if(o=0,i=i===""?".":i+":",C1(n))for(var l=0;l<n.length;l++){r=n[l];var c=i+Pv(r,l);o+=$m(r,e,t,c,s)}else if(c=P2(n),typeof c=="function")for(n=c.call(n),l=0;!(r=n.next()).done;)r=r.value,c=i+Pv(r,l++),o+=$m(r,e,t,c,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dm(n,e,t){if(n==null)return n;var i=[],s=0;return $m(n,i,"","",function(r){return e.call(t,r,s++)}),i}function N2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var fn={current:null},Hm={transition:null},D2={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:Hm,ReactCurrentOwner:Wb};function rE(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:dm,forEach:function(n,e,t){dm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return dm(n,function(){e++}),e},toArray:function(n){return dm(n,function(e){return e})||[]},only:function(n){if(!Gb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};fe.Component=Ud;fe.Fragment=b2;fe.Profiler=A2;fe.PureComponent=Ub;fe.StrictMode=x2;fe.Suspense=_2;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D2;fe.act=rE;fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=JS({},n.props),s=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Wb.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)nE.call(e,c)&&!iE.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Yp,type:n.type,key:s,ref:r,props:i,_owner:o}};fe.createContext=function(n){return n={$$typeof:E2,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:S2,_context:n},n.Consumer=n};fe.createElement=sE;fe.createFactory=function(n){var e=sE.bind(null,n);return e.type=n,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(n){return{$$typeof:C2,render:n}};fe.isValidElement=Gb;fe.lazy=function(n){return{$$typeof:k2,_payload:{_status:-1,_result:n},_init:N2}};fe.memo=function(n,e){return{$$typeof:T2,type:n,compare:e===void 0?null:e}};fe.startTransition=function(n){var e=Hm.transition;Hm.transition={};try{n()}finally{Hm.transition=e}};fe.unstable_act=rE;fe.useCallback=function(n,e){return fn.current.useCallback(n,e)};fe.useContext=function(n){return fn.current.useContext(n)};fe.useDebugValue=function(){};fe.useDeferredValue=function(n){return fn.current.useDeferredValue(n)};fe.useEffect=function(n,e){return fn.current.useEffect(n,e)};fe.useId=function(){return fn.current.useId()};fe.useImperativeHandle=function(n,e,t){return fn.current.useImperativeHandle(n,e,t)};fe.useInsertionEffect=function(n,e){return fn.current.useInsertionEffect(n,e)};fe.useLayoutEffect=function(n,e){return fn.current.useLayoutEffect(n,e)};fe.useMemo=function(n,e){return fn.current.useMemo(n,e)};fe.useReducer=function(n,e,t){return fn.current.useReducer(n,e,t)};fe.useRef=function(n){return fn.current.useRef(n)};fe.useState=function(n){return fn.current.useState(n)};fe.useSyncExternalStore=function(n,e,t){return fn.current.useSyncExternalStore(n,e,t)};fe.useTransition=function(){return fn.current.useTransition()};fe.version="18.3.1";QS.exports=fe;var P=QS.exports;const H=YS(P),oE=v2({__proto__:null,default:H},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=P,I2=Symbol.for("react.element"),O2=Symbol.for("react.fragment"),F2=Object.prototype.hasOwnProperty,j2=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B2={key:!0,ref:!0,__self:!0,__source:!0};function aE(n,e,t){var i,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)F2.call(e,i)&&!B2.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:I2,type:n,key:r,ref:o,props:s,_owner:j2.current}}Hy.Fragment=O2;Hy.jsx=aE;Hy.jsxs=aE;KS.exports=Hy;var C=KS.exports,lE={exports:{}},si={},cE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,I){var U=D.length;D.push(I);e:for(;0<U;){var te=U-1>>>1,V=D[te];if(0<s(V,I))D[te]=I,D[U]=V,U=te;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var I=D[0],U=D.pop();if(U!==I){D[0]=U;e:for(var te=0,V=D.length,K=V>>>1;te<K;){var se=2*(te+1)-1,we=D[se],_e=se+1,ne=D[_e];if(0>s(we,U))_e<V&&0>s(ne,we)?(D[te]=ne,D[_e]=U,te=_e):(D[te]=we,D[se]=U,te=se);else if(_e<V&&0>s(ne,U))D[te]=ne,D[_e]=U,te=_e;else break e}}return I}function s(D,I){var U=D.sortIndex-I.sortIndex;return U!==0?U:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var I=t(u);I!==null;){if(I.callback===null)i(u);else if(I.startTime<=D)i(u),I.sortIndex=I.expirationTime,e(c,I);else break;I=t(u)}}function E(D){if(g=!1,x(D),!v)if(t(c)!==null)v=!0,B(_);else{var I=t(u);I!==null&&j(E,I.startTime-D)}}function _(D,I){v=!1,g&&(g=!1,y(R),R=-1),p=!0;var U=f;try{for(x(I),h=t(c);h!==null&&(!(h.expirationTime>I)||D&&!L());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var V=te(h.expirationTime<=I);I=n.unstable_now(),typeof V=="function"?h.callback=V:h===t(c)&&i(c),x(I)}else i(c);h=t(c)}if(h!==null)var K=!0;else{var se=t(u);se!==null&&j(E,se.startTime-I),K=!1}return K}finally{h=null,f=U,p=!1}}var T=!1,k=null,R=-1,M=5,N=-1;function L(){return!(n.unstable_now()-N<M)}function O(){if(k!==null){var D=n.unstable_now();N=D;var I=!0;try{I=k(!0,D)}finally{I?G():(T=!1,k=null)}}else T=!1}var G;if(typeof w=="function")G=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=O,G=function(){X.postMessage(null)}}else G=function(){b(O,0)};function B(D){k=D,T||(T=!0,G())}function j(D,I){R=b(function(){D(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,B(_))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var U=f;f=I;try{return D()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return I()}finally{f=U}},n.unstable_scheduleCallback=function(D,I,U){var te=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,D={id:d++,callback:I,priorityLevel:D,startTime:U,expirationTime:V,sortIndex:-1},U>te?(D.sortIndex=U,e(u,D),t(c)===null&&D===t(u)&&(g?(y(R),R=-1):g=!0,j(E,U-te))):(D.sortIndex=V,e(c,D),v||p||(v=!0,B(_))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var I=f;return function(){var U=f;f=I;try{return D.apply(this,arguments)}finally{f=U}}}})(uE);cE.exports=uE;var z2=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=P,ii=z2;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,Wh={};function xc(n,e){Ld(n,e),Ld(n+"Capture",e)}function Ld(n,e){for(Wh[n]=e,n=0;n<e.length;n++)dE.add(e[n])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g0=Object.prototype.hasOwnProperty,H2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},k1={};function U2(n){return g0.call(k1,n)?!0:g0.call(T1,n)?!1:H2.test(n)?k1[n]=!0:(T1[n]=!0,!1)}function V2(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W2(n,e,t,i){if(e===null||typeof e>"u"||V2(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(n,e,t,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new pn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new pn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new pn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new pn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new pn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new pn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new pn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new pn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new pn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Xb=/[\-:]([a-z])/g;function qb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Xb,qb);$t[e]=new pn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Xb,qb);$t[e]=new pn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Xb,qb);$t[e]=new pn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new pn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new pn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Yb(n,e,t,i){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W2(e,t,s,i)&&(t=null),i||s===null?U2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var io=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hm=Symbol.for("react.element"),zc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),fE=Symbol.for("react.context"),Qb=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),Zb=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),pE=Symbol.for("react.offscreen"),P1=Symbol.iterator;function Qd(n){return n===null||typeof n!="object"?null:(n=P1&&n[P1]||n["@@iterator"],typeof n=="function"?n:null)}var Ye=Object.assign,Rv;function dh(n){if(Rv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Rv=e&&e[1]||""}return`
`+Rv+n}var Mv=!1;function Nv(n,e){if(!n||Mv)return"";Mv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var c=`
`+s[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=l);break}}}finally{Mv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?dh(n):""}function G2(n){switch(n.tag){case 5:return dh(n.type);case 16:return dh("Lazy");case 13:return dh("Suspense");case 19:return dh("SuspenseList");case 0:case 2:case 15:return n=Nv(n.type,!1),n;case 11:return n=Nv(n.type.render,!1),n;case 1:return n=Nv(n.type,!0),n;default:return""}}function b0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $c:return"Fragment";case zc:return"Portal";case y0:return"Profiler";case Kb:return"StrictMode";case v0:return"Suspense";case w0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fE:return(n.displayName||"Context")+".Consumer";case hE:return(n._context.displayName||"Context")+".Provider";case Qb:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Zb:return e=n.displayName||null,e!==null?e:b0(n.type)||"Memo";case fo:e=n._payload,n=n._init;try{return b0(n(e))}catch{}}return null}function X2(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _a(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function mE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function q2(n){var e=mE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fm(n){n._valueTracker||(n._valueTracker=q2(n))}function gE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=mE(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Dg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function x0(n,e){var t=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function R1(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=_a(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yE(n,e){e=e.checked,e!=null&&Yb(n,"checked",e,!1)}function A0(n,e){yE(n,e);var t=_a(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?S0(n,e.type,t):e.hasOwnProperty("defaultValue")&&S0(n,e.type,_a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function M1(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function S0(n,e,t){(e!=="number"||Dg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hh=Array.isArray;function tu(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+_a(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function E0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function N1(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(hh(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_a(t)}}function vE(n,e){var t=_a(e.value),i=_a(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function D1(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function wE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?wE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pm,bE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(pm=pm||document.createElement("div"),pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y2=["Webkit","ms","Moz","O"];Object.keys(Ih).forEach(function(n){Y2.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ih[e]=Ih[n]})});function xE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ih.hasOwnProperty(n)&&Ih[n]?(""+e).trim():e+"px"}function AE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=xE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var K2=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(n,e){if(e){if(K2[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function T0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=null;function Jb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var P0=null,nu=null,iu=null;function L1(n){if(n=Zp(n)){if(typeof P0!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Xy(e),P0(n.stateNode,n.type,e))}}function SE(n){nu?iu?iu.push(n):iu=[n]:nu=n}function EE(){if(nu){var n=nu,e=iu;if(iu=nu=null,L1(n),e)for(n=0;n<e.length;n++)L1(e[n])}}function CE(n,e){return n(e)}function _E(){}var Dv=!1;function TE(n,e,t){if(Dv)return n(e,t);Dv=!0;try{return CE(n,e,t)}finally{Dv=!1,(nu!==null||iu!==null)&&(_E(),EE())}}function Xh(n,e){var t=n.stateNode;if(t===null)return null;var i=Xy(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var R0=!1;if(qr)try{var Zd={};Object.defineProperty(Zd,"passive",{get:function(){R0=!0}}),window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{R0=!1}function Q2(n,e,t,i,s,r,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Oh=!1,Lg=null,Ig=!1,M0=null,Z2={onError:function(n){Oh=!0,Lg=n}};function J2(n,e,t,i,s,r,o,l,c){Oh=!1,Lg=null,Q2.apply(Z2,arguments)}function eR(n,e,t,i,s,r,o,l,c){if(J2.apply(this,arguments),Oh){if(Oh){var u=Lg;Oh=!1,Lg=null}else throw Error(z(198));Ig||(Ig=!0,M0=u)}}function Ac(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function kE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function I1(n){if(Ac(n)!==n)throw Error(z(188))}function tR(n){var e=n.alternate;if(!e){if(e=Ac(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return I1(s),n;if(r===i)return I1(s),e;r=r.sibling}throw Error(z(188))}if(t.return!==i.return)t=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===t){o=!0,t=s,i=r;break}if(l===i){o=!0,i=s,t=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===t){o=!0,t=r,i=s;break}if(l===i){o=!0,i=r,t=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==i)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function PE(n){return n=tR(n),n!==null?RE(n):null}function RE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=RE(n);if(e!==null)return e;n=n.sibling}return null}var ME=ii.unstable_scheduleCallback,O1=ii.unstable_cancelCallback,nR=ii.unstable_shouldYield,iR=ii.unstable_requestPaint,nt=ii.unstable_now,sR=ii.unstable_getCurrentPriorityLevel,ex=ii.unstable_ImmediatePriority,NE=ii.unstable_UserBlockingPriority,Og=ii.unstable_NormalPriority,rR=ii.unstable_LowPriority,DE=ii.unstable_IdlePriority,Uy=null,zs=null;function oR(n){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(Uy,n,void 0,(n.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:cR,aR=Math.log,lR=Math.LN2;function cR(n){return n>>>=0,n===0?32:31-(aR(n)/lR|0)|0}var mm=64,gm=4194304;function fh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Fg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~s;l!==0?i=fh(l):(r&=o,r!==0&&(i=fh(r)))}else o=t&~s,o!==0?i=fh(o):r!==0&&(i=fh(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-es(e),s=1<<t,i|=n[t],e&=~s;return i}function uR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-es(r),l=1<<o,c=s[o];c===-1?(!(l&t)||l&i)&&(s[o]=uR(l,e)):c<=e&&(n.expiredLanes|=l),r&=~l}}function N0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function LE(){var n=mm;return mm<<=1,!(mm&4194240)&&(mm=64),n}function Lv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Kp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-es(e),n[e]=t}function hR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-es(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function tx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-es(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var Ce=0;function IE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var OE,nx,FE,jE,BE,D0=!1,ym=[],va=null,wa=null,ba=null,qh=new Map,Yh=new Map,mo=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(n,e){switch(n){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":qh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(e.pointerId)}}function Jd(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Zp(e),e!==null&&nx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function pR(n,e,t,i,s){switch(e){case"focusin":return va=Jd(va,n,e,t,i,s),!0;case"dragenter":return wa=Jd(wa,n,e,t,i,s),!0;case"mouseover":return ba=Jd(ba,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return qh.set(r,Jd(qh.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Yh.set(r,Jd(Yh.get(r)||null,n,e,t,i,s)),!0}return!1}function zE(n){var e=Ya(n.target);if(e!==null){var t=Ac(e);if(t!==null){if(e=t.tag,e===13){if(e=kE(t),e!==null){n.blockedOn=e,BE(n.priority,function(){FE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Um(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=L0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);k0=i,t.target.dispatchEvent(i),k0=null}else return e=Zp(t),e!==null&&nx(e),n.blockedOn=t,!1;e.shift()}return!0}function j1(n,e,t){Um(n)&&t.delete(e)}function mR(){D0=!1,va!==null&&Um(va)&&(va=null),wa!==null&&Um(wa)&&(wa=null),ba!==null&&Um(ba)&&(ba=null),qh.forEach(j1),Yh.forEach(j1)}function eh(n,e){n.blockedOn===e&&(n.blockedOn=null,D0||(D0=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,mR)))}function Kh(n){function e(s){return eh(s,n)}if(0<ym.length){eh(ym[0],n);for(var t=1;t<ym.length;t++){var i=ym[t];i.blockedOn===n&&(i.blockedOn=null)}}for(va!==null&&eh(va,n),wa!==null&&eh(wa,n),ba!==null&&eh(ba,n),qh.forEach(e),Yh.forEach(e),t=0;t<mo.length;t++)i=mo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<mo.length&&(t=mo[0],t.blockedOn===null);)zE(t),t.blockedOn===null&&mo.shift()}var su=io.ReactCurrentBatchConfig,jg=!0;function gR(n,e,t,i){var s=Ce,r=su.transition;su.transition=null;try{Ce=1,ix(n,e,t,i)}finally{Ce=s,su.transition=r}}function yR(n,e,t,i){var s=Ce,r=su.transition;su.transition=null;try{Ce=4,ix(n,e,t,i)}finally{Ce=s,su.transition=r}}function ix(n,e,t,i){if(jg){var s=L0(n,e,t,i);if(s===null)Vv(n,e,i,Bg,t),F1(n,i);else if(pR(s,n,e,t,i))i.stopPropagation();else if(F1(n,i),e&4&&-1<fR.indexOf(n)){for(;s!==null;){var r=Zp(s);if(r!==null&&OE(r),r=L0(n,e,t,i),r===null&&Vv(n,e,i,Bg,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else Vv(n,e,i,null,t)}}var Bg=null;function L0(n,e,t,i){if(Bg=null,n=Jb(i),n=Ya(n),n!==null)if(e=Ac(n),e===null)n=null;else if(t=e.tag,t===13){if(n=kE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Bg=n,null}function $E(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sR()){case ex:return 1;case NE:return 4;case Og:case rR:return 16;case DE:return 536870912;default:return 16}default:return 16}}var ma=null,sx=null,Vm=null;function HE(){if(Vm)return Vm;var n,e=sx,t=e.length,i,s="value"in ma?ma.value:ma.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===s[r-i];i++);return Vm=s.slice(n,1<i?1-i:void 0)}function Wm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function vm(){return!0}function B1(){return!1}function ri(n){function e(t,i,s,r,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?vm:B1,this.isPropagationStopped=B1,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),e}var Vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=ri(Vd),Qp=Ye({},Vd,{view:0,detail:0}),vR=ri(Qp),Iv,Ov,th,Vy=Ye({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==th&&(th&&n.type==="mousemove"?(Iv=n.screenX-th.screenX,Ov=n.screenY-th.screenY):Ov=Iv=0,th=n),Iv)},movementY:function(n){return"movementY"in n?n.movementY:Ov}}),z1=ri(Vy),wR=Ye({},Vy,{dataTransfer:0}),bR=ri(wR),xR=Ye({},Qp,{relatedTarget:0}),Fv=ri(xR),AR=Ye({},Vd,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=ri(AR),ER=Ye({},Vd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CR=ri(ER),_R=Ye({},Vd,{data:0}),$1=ri(_R),TR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PR[n])?!!e[n]:!1}function ox(){return RR}var MR=Ye({},Qp,{key:function(n){if(n.key){var e=TR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Wm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(n){return n.type==="keypress"?Wm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NR=ri(MR),DR=Ye({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=ri(DR),LR=Ye({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),IR=ri(LR),OR=Ye({},Vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=ri(OR),jR=Ye({},Vy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BR=ri(jR),zR=[9,13,27,32],ax=qr&&"CompositionEvent"in window,Fh=null;qr&&"documentMode"in document&&(Fh=document.documentMode);var $R=qr&&"TextEvent"in window&&!Fh,UE=qr&&(!ax||Fh&&8<Fh&&11>=Fh),U1=" ",V1=!1;function VE(n,e){switch(n){case"keyup":return zR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hc=!1;function HR(n,e){switch(n){case"compositionend":return WE(e);case"keypress":return e.which!==32?null:(V1=!0,U1);case"textInput":return n=e.data,n===U1&&V1?null:n;default:return null}}function UR(n,e){if(Hc)return n==="compositionend"||!ax&&VE(n,e)?(n=HE(),Vm=sx=ma=null,Hc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UE&&e.locale!=="ko"?null:e.data;default:return null}}var VR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!VR[n.type]:e==="textarea"}function GE(n,e,t,i){SE(i),e=zg(e,"onChange"),0<e.length&&(t=new rx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var jh=null,Qh=null;function WR(n){iC(n,0)}function Wy(n){var e=Wc(n);if(gE(e))return n}function GR(n,e){if(n==="change")return e}var XE=!1;if(qr){var jv;if(qr){var Bv="oninput"in document;if(!Bv){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),Bv=typeof G1.oninput=="function"}jv=Bv}else jv=!1;XE=jv&&(!document.documentMode||9<document.documentMode)}function X1(){jh&&(jh.detachEvent("onpropertychange",qE),Qh=jh=null)}function qE(n){if(n.propertyName==="value"&&Wy(Qh)){var e=[];GE(e,Qh,n,Jb(n)),TE(WR,e)}}function XR(n,e,t){n==="focusin"?(X1(),jh=e,Qh=t,jh.attachEvent("onpropertychange",qE)):n==="focusout"&&X1()}function qR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wy(Qh)}function YR(n,e){if(n==="click")return Wy(e)}function KR(n,e){if(n==="input"||n==="change")return Wy(e)}function QR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ns=typeof Object.is=="function"?Object.is:QR;function Zh(n,e){if(ns(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!g0.call(e,s)||!ns(n[s],e[s]))return!1}return!0}function q1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Y1(n,e){var t=q1(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=q1(t)}}function YE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?YE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function KE(){for(var n=window,e=Dg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Dg(n.document)}return e}function lx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZR(n){var e=KE(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&YE(t.ownerDocument.documentElement,t)){if(i!==null&&lx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=Y1(t,r);var o=Y1(t,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JR=qr&&"documentMode"in document&&11>=document.documentMode,Uc=null,I0=null,Bh=null,O0=!1;function K1(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;O0||Uc==null||Uc!==Dg(i)||(i=Uc,"selectionStart"in i&&lx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Bh&&Zh(Bh,i)||(Bh=i,i=zg(I0,"onSelect"),0<i.length&&(e=new rx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Uc)))}function wm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vc={animationend:wm("Animation","AnimationEnd"),animationiteration:wm("Animation","AnimationIteration"),animationstart:wm("Animation","AnimationStart"),transitionend:wm("Transition","TransitionEnd")},zv={},QE={};qr&&(QE=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Gy(n){if(zv[n])return zv[n];if(!Vc[n])return n;var e=Vc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in QE)return zv[n]=e[t];return n}var ZE=Gy("animationend"),JE=Gy("animationiteration"),eC=Gy("animationstart"),tC=Gy("transitionend"),nC=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(n,e){nC.set(n,e),xc(e,[n])}for(var $v=0;$v<Q1.length;$v++){var Hv=Q1[$v],eM=Hv.toLowerCase(),tM=Hv[0].toUpperCase()+Hv.slice(1);Oa(eM,"on"+tM)}Oa(ZE,"onAnimationEnd");Oa(JE,"onAnimationIteration");Oa(eC,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(tC,"onTransitionEnd");Ld("onMouseEnter",["mouseout","mouseover"]);Ld("onMouseLeave",["mouseout","mouseover"]);Ld("onPointerEnter",["pointerout","pointerover"]);Ld("onPointerLeave",["pointerout","pointerover"]);xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function Z1(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,eR(i,e,void 0,n),n.currentTarget=null}function iC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==r&&s.isPropagationStopped())break e;Z1(s,l,u),r=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==r&&s.isPropagationStopped())break e;Z1(s,l,u),r=c}}}if(Ig)throw n=M0,Ig=!1,M0=null,n}function Ie(n,e){var t=e[$0];t===void 0&&(t=e[$0]=new Set);var i=n+"__bubble";t.has(i)||(sC(e,n,2,!1),t.add(i))}function Uv(n,e,t){var i=0;e&&(i|=4),sC(t,n,i,e)}var bm="_reactListening"+Math.random().toString(36).slice(2);function Jh(n){if(!n[bm]){n[bm]=!0,dE.forEach(function(t){t!=="selectionchange"&&(nM.has(t)||Uv(t,!1,n),Uv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[bm]||(e[bm]=!0,Uv("selectionchange",!1,e))}}function sC(n,e,t,i){switch($E(e)){case 1:var s=gR;break;case 4:s=yR;break;default:s=ix}t=s.bind(null,e,t,n),s=void 0,!R0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Vv(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ya(l),o===null)return;if(c=o.tag,c===5||c===6){i=r=o;continue e}l=l.parentNode}}i=i.return}TE(function(){var u=r,d=Jb(t),h=[];e:{var f=nC.get(n);if(f!==void 0){var p=rx,v=n;switch(n){case"keypress":if(Wm(t)===0)break e;case"keydown":case"keyup":p=NR;break;case"focusin":v="focus",p=Fv;break;case"focusout":v="blur",p=Fv;break;case"beforeblur":case"afterblur":p=Fv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IR;break;case ZE:case JE:case eC:p=SR;break;case tC:p=FR;break;case"scroll":p=vR;break;case"wheel":p=BR;break;case"copy":case"cut":case"paste":p=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H1}var g=(e&4)!==0,b=!g&&n==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,x;w!==null;){x=w;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,y!==null&&(E=Xh(w,y),E!=null&&g.push(ef(w,E,x)))),b)break;w=w.return}0<g.length&&(f=new p(f,v,null,t,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==k0&&(v=t.relatedTarget||t.fromElement)&&(Ya(v)||v[Yr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?Ya(v):null,v!==null&&(b=Ac(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=z1,E="onMouseLeave",y="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=H1,E="onPointerLeave",y="onPointerEnter",w="pointer"),b=p==null?f:Wc(p),x=v==null?f:Wc(v),f=new g(E,w+"leave",p,t,d),f.target=b,f.relatedTarget=x,E=null,Ya(d)===u&&(g=new g(y,w+"enter",v,t,d),g.target=x,g.relatedTarget=b,E=g),b=E,p&&v)t:{for(g=p,y=v,w=0,x=g;x;x=Rc(x))w++;for(x=0,E=y;E;E=Rc(E))x++;for(;0<w-x;)g=Rc(g),w--;for(;0<x-w;)y=Rc(y),x--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Rc(g),y=Rc(y)}g=null}else g=null;p!==null&&J1(h,f,p,g,!1),v!==null&&b!==null&&J1(h,b,v,g,!0)}}e:{if(f=u?Wc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=GR;else if(W1(f))if(XE)_=KR;else{_=qR;var T=XR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=YR);if(_&&(_=_(n,u))){GE(h,_,t,d);break e}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&S0(f,"number",f.value)}switch(T=u?Wc(u):window,n){case"focusin":(W1(T)||T.contentEditable==="true")&&(Uc=T,I0=u,Bh=null);break;case"focusout":Bh=I0=Uc=null;break;case"mousedown":O0=!0;break;case"contextmenu":case"mouseup":case"dragend":O0=!1,K1(h,t,d);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":K1(h,t,d)}var k;if(ax)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Hc?VE(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(UE&&t.locale!=="ko"&&(Hc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Hc&&(k=HE()):(ma=d,sx="value"in ma?ma.value:ma.textContent,Hc=!0)),T=zg(u,R),0<T.length&&(R=new $1(R,n,null,t,d),h.push({event:R,listeners:T}),k?R.data=k:(k=WE(t),k!==null&&(R.data=k)))),(k=$R?HR(n,t):UR(n,t))&&(u=zg(u,"onBeforeInput"),0<u.length&&(d=new $1("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=k))}iC(h,e)})}function ef(n,e,t){return{instance:n,listener:e,currentTarget:t}}function zg(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Xh(n,t),r!=null&&i.unshift(ef(n,r,s)),r=Xh(n,e),r!=null&&i.push(ef(n,r,s))),n=n.return}return i}function Rc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function J1(n,e,t,i,s){for(var r=e._reactName,o=[];t!==null&&t!==i;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=Xh(t,r),c!=null&&o.unshift(ef(t,c,l))):s||(c=Xh(t,r),c!=null&&o.push(ef(t,c,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function eA(n){return(typeof n=="string"?n:""+n).replace(iM,`
`).replace(sM,"")}function xm(n,e,t){if(e=eA(e),eA(n)!==e&&t)throw Error(z(425))}function $g(){}var F0=null,j0=null;function B0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,tA=typeof Promise=="function"?Promise:void 0,oM=typeof queueMicrotask=="function"?queueMicrotask:typeof tA<"u"?function(n){return tA.resolve(null).then(n).catch(aM)}:z0;function aM(n){setTimeout(function(){throw n})}function Wv(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),Kh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);Kh(e)}function xa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function nA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Wd=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Wd,tf="__reactProps$"+Wd,Yr="__reactContainer$"+Wd,$0="__reactEvents$"+Wd,lM="__reactListeners$"+Wd,cM="__reactHandles$"+Wd;function Ya(n){var e=n[Fs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Yr]||t[Fs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=nA(n);n!==null;){if(t=n[Fs])return t;n=nA(n)}return e}n=t,t=n.parentNode}return null}function Zp(n){return n=n[Fs]||n[Yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Xy(n){return n[tf]||null}var H0=[],Gc=-1;function Fa(n){return{current:n}}function Fe(n){0>Gc||(n.current=H0[Gc],H0[Gc]=null,Gc--)}function Ne(n,e){Gc++,H0[Gc]=n.current,n.current=e}var Ta={},Qt=Fa(Ta),Cn=Fa(!1),dc=Ta;function Id(n,e){var t=n.type.contextTypes;if(!t)return Ta;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function _n(n){return n=n.childContextTypes,n!=null}function Hg(){Fe(Cn),Fe(Qt)}function iA(n,e,t){if(Qt.current!==Ta)throw Error(z(168));Ne(Qt,e),Ne(Cn,t)}function rC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(z(108,X2(n)||"Unknown",s));return Ye({},t,i)}function Ug(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ta,dc=Qt.current,Ne(Qt,n),Ne(Cn,Cn.current),!0}function sA(n,e,t){var i=n.stateNode;if(!i)throw Error(z(169));t?(n=rC(n,e,dc),i.__reactInternalMemoizedMergedChildContext=n,Fe(Cn),Fe(Qt),Ne(Qt,n)):Fe(Cn),Ne(Cn,t)}var nr=null,qy=!1,Gv=!1;function oC(n){nr===null?nr=[n]:nr.push(n)}function uM(n){qy=!0,oC(n)}function ja(){if(!Gv&&nr!==null){Gv=!0;var n=0,e=Ce;try{var t=nr;for(Ce=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}nr=null,qy=!1}catch(s){throw nr!==null&&(nr=nr.slice(n+1)),ME(ex,ja),s}finally{Ce=e,Gv=!1}}return null}var Xc=[],qc=0,Vg=null,Wg=0,bi=[],xi=0,hc=null,Ur=1,Vr="";function $a(n,e){Xc[qc++]=Wg,Xc[qc++]=Vg,Vg=n,Wg=e}function aC(n,e,t){bi[xi++]=Ur,bi[xi++]=Vr,bi[xi++]=hc,hc=n;var i=Ur;n=Vr;var s=32-es(i)-1;i&=~(1<<s),t+=1;var r=32-es(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Ur=1<<32-es(e)+s|t<<s|i,Vr=r+n}else Ur=1<<r|t<<s|i,Vr=n}function cx(n){n.return!==null&&($a(n,1),aC(n,1,0))}function ux(n){for(;n===Vg;)Vg=Xc[--qc],Xc[qc]=null,Wg=Xc[--qc],Xc[qc]=null;for(;n===hc;)hc=bi[--xi],bi[xi]=null,Vr=bi[--xi],bi[xi]=null,Ur=bi[--xi],bi[xi]=null}var ei=null,Jn=null,Ue=!1,Zi=null;function lC(n,e){var t=Si(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function rA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ei=n,Jn=xa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ei=n,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=hc!==null?{id:Ur,overflow:Vr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Si(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ei=n,Jn=null,!0):!1;default:return!1}}function U0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function V0(n){if(Ue){var e=Jn;if(e){var t=e;if(!rA(n,e)){if(U0(n))throw Error(z(418));e=xa(t.nextSibling);var i=ei;e&&rA(n,e)?lC(i,t):(n.flags=n.flags&-4097|2,Ue=!1,ei=n)}}else{if(U0(n))throw Error(z(418));n.flags=n.flags&-4097|2,Ue=!1,ei=n}}}function oA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ei=n}function Am(n){if(n!==ei)return!1;if(!Ue)return oA(n),Ue=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!B0(n.type,n.memoizedProps)),e&&(e=Jn)){if(U0(n))throw cC(),Error(z(418));for(;e;)lC(n,e),e=xa(e.nextSibling)}if(oA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Jn=xa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Jn=null}}else Jn=ei?xa(n.stateNode.nextSibling):null;return!0}function cC(){for(var n=Jn;n;)n=xa(n.nextSibling)}function Od(){Jn=ei=null,Ue=!1}function dx(n){Zi===null?Zi=[n]:Zi.push(n)}var dM=io.ReactCurrentBatchConfig;function nh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var i=t.stateNode}if(!i)throw Error(z(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function Sm(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function aA(n){var e=n._init;return e(n._payload)}function uC(n){function e(y,w){if(n){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function t(y,w){if(!n)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function i(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Ca(y,w),y.index=0,y.sibling=null,y}function r(y,w,x){return y.index=x,n?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function l(y,w,x,E){return w===null||w.tag!==6?(w=Jv(x,y.mode,E),w.return=y,w):(w=s(w,x),w.return=y,w)}function c(y,w,x,E){var _=x.type;return _===$c?d(y,w,x.props.children,E,x.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fo&&aA(_)===w.type)?(E=s(w,x.props),E.ref=nh(y,w,x),E.return=y,E):(E=Zm(x.type,x.key,x.props,null,y.mode,E),E.ref=nh(y,w,x),E.return=y,E)}function u(y,w,x,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=e0(x,y.mode,E),w.return=y,w):(w=s(w,x.children||[]),w.return=y,w)}function d(y,w,x,E,_){return w===null||w.tag!==7?(w=uc(x,y.mode,E,_),w.return=y,w):(w=s(w,x),w.return=y,w)}function h(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jv(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hm:return x=Zm(w.type,w.key,w.props,null,y.mode,x),x.ref=nh(y,null,w),x.return=y,x;case zc:return w=e0(w,y.mode,x),w.return=y,w;case fo:var E=w._init;return h(y,E(w._payload),x)}if(hh(w)||Qd(w))return w=uc(w,y.mode,x,null),w.return=y,w;Sm(y,w)}return null}function f(y,w,x,E){var _=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(y,w,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hm:return x.key===_?c(y,w,x,E):null;case zc:return x.key===_?u(y,w,x,E):null;case fo:return _=x._init,f(y,w,_(x._payload),E)}if(hh(x)||Qd(x))return _!==null?null:d(y,w,x,E,null);Sm(y,x)}return null}function p(y,w,x,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(x)||null,l(w,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hm:return y=y.get(E.key===null?x:E.key)||null,c(w,y,E,_);case zc:return y=y.get(E.key===null?x:E.key)||null,u(w,y,E,_);case fo:var T=E._init;return p(y,w,x,T(E._payload),_)}if(hh(E)||Qd(E))return y=y.get(x)||null,d(w,y,E,_,null);Sm(w,E)}return null}function v(y,w,x,E){for(var _=null,T=null,k=w,R=w=0,M=null;k!==null&&R<x.length;R++){k.index>R?(M=k,k=null):M=k.sibling;var N=f(y,k,x[R],E);if(N===null){k===null&&(k=M);break}n&&k&&N.alternate===null&&e(y,k),w=r(N,w,R),T===null?_=N:T.sibling=N,T=N,k=M}if(R===x.length)return t(y,k),Ue&&$a(y,R),_;if(k===null){for(;R<x.length;R++)k=h(y,x[R],E),k!==null&&(w=r(k,w,R),T===null?_=k:T.sibling=k,T=k);return Ue&&$a(y,R),_}for(k=i(y,k);R<x.length;R++)M=p(k,y,R,x[R],E),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?R:M.key),w=r(M,w,R),T===null?_=M:T.sibling=M,T=M);return n&&k.forEach(function(L){return e(y,L)}),Ue&&$a(y,R),_}function g(y,w,x,E){var _=Qd(x);if(typeof _!="function")throw Error(z(150));if(x=_.call(x),x==null)throw Error(z(151));for(var T=_=null,k=w,R=w=0,M=null,N=x.next();k!==null&&!N.done;R++,N=x.next()){k.index>R?(M=k,k=null):M=k.sibling;var L=f(y,k,N.value,E);if(L===null){k===null&&(k=M);break}n&&k&&L.alternate===null&&e(y,k),w=r(L,w,R),T===null?_=L:T.sibling=L,T=L,k=M}if(N.done)return t(y,k),Ue&&$a(y,R),_;if(k===null){for(;!N.done;R++,N=x.next())N=h(y,N.value,E),N!==null&&(w=r(N,w,R),T===null?_=N:T.sibling=N,T=N);return Ue&&$a(y,R),_}for(k=i(y,k);!N.done;R++,N=x.next())N=p(k,y,R,N.value,E),N!==null&&(n&&N.alternate!==null&&k.delete(N.key===null?R:N.key),w=r(N,w,R),T===null?_=N:T.sibling=N,T=N);return n&&k.forEach(function(O){return e(y,O)}),Ue&&$a(y,R),_}function b(y,w,x,E){if(typeof x=="object"&&x!==null&&x.type===$c&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hm:e:{for(var _=x.key,T=w;T!==null;){if(T.key===_){if(_=x.type,_===$c){if(T.tag===7){t(y,T.sibling),w=s(T,x.props.children),w.return=y,y=w;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fo&&aA(_)===T.type){t(y,T.sibling),w=s(T,x.props),w.ref=nh(y,T,x),w.return=y,y=w;break e}t(y,T);break}else e(y,T);T=T.sibling}x.type===$c?(w=uc(x.props.children,y.mode,E,x.key),w.return=y,y=w):(E=Zm(x.type,x.key,x.props,null,y.mode,E),E.ref=nh(y,w,x),E.return=y,y=E)}return o(y);case zc:e:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){t(y,w.sibling),w=s(w,x.children||[]),w.return=y,y=w;break e}else{t(y,w);break}else e(y,w);w=w.sibling}w=e0(x,y.mode,E),w.return=y,y=w}return o(y);case fo:return T=x._init,b(y,w,T(x._payload),E)}if(hh(x))return v(y,w,x,E);if(Qd(x))return g(y,w,x,E);Sm(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(t(y,w.sibling),w=s(w,x),w.return=y,y=w):(t(y,w),w=Jv(x,y.mode,E),w.return=y,y=w),o(y)):t(y,w)}return b}var Fd=uC(!0),dC=uC(!1),Gg=Fa(null),Xg=null,Yc=null,hx=null;function fx(){hx=Yc=Xg=null}function px(n){var e=Gg.current;Fe(Gg),n._currentValue=e}function W0(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ru(n,e){Xg=n,hx=Yc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(En=!0),n.firstContext=null)}function _i(n){var e=n._currentValue;if(hx!==n)if(n={context:n,memoizedValue:e,next:null},Yc===null){if(Xg===null)throw Error(z(308));Yc=n,Xg.dependencies={lanes:0,firstContext:n}}else Yc=Yc.next=n;return e}var Ka=null;function mx(n){Ka===null?Ka=[n]:Ka.push(n)}function hC(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,mx(e)):(t.next=s.next,s.next=t),e.interleaved=t,Kr(n,i)}function Kr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var po=!1;function gx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Kr(n,t)}return s=i.interleaved,s===null?(e.next=e,mx(i)):(e.next=s.next,s.next=e),i.interleaved=e,Kr(n,t)}function Gm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,tx(n,t)}}function lA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qg(n,e,t,i){var s=n.updateQueue;po=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=s.baseState;o=0,d=u=c=null,l=r;do{var f=l.lane,p=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,g=l;switch(f=e,p=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Ye({},h,f);break e;case 2:po=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);pc|=o,n.lanes=o,n.memoizedState=h}}function cA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(z(191,s));s.call(i)}}}var Jp={},$s=Fa(Jp),nf=Fa(Jp),sf=Fa(Jp);function Qa(n){if(n===Jp)throw Error(z(174));return n}function yx(n,e){switch(Ne(sf,e),Ne(nf,n),Ne($s,Jp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:C0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=C0(e,n)}Fe($s),Ne($s,e)}function jd(){Fe($s),Fe(nf),Fe(sf)}function pC(n){Qa(sf.current);var e=Qa($s.current),t=C0(e,n.type);e!==t&&(Ne(nf,n),Ne($s,t))}function vx(n){nf.current===n&&(Fe($s),Fe(nf))}var Xe=Fa(0);function Yg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xv=[];function wx(){for(var n=0;n<Xv.length;n++)Xv[n]._workInProgressVersionPrimary=null;Xv.length=0}var Xm=io.ReactCurrentDispatcher,qv=io.ReactCurrentBatchConfig,fc=0,qe=null,gt=null,_t=null,Kg=!1,zh=!1,rf=0,hM=0;function Ut(){throw Error(z(321))}function bx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ns(n[t],e[t]))return!1;return!0}function xx(n,e,t,i,s,r){if(fc=r,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xm.current=n===null||n.memoizedState===null?gM:yM,n=t(i,s),zh){r=0;do{if(zh=!1,rf=0,25<=r)throw Error(z(301));r+=1,_t=gt=null,e.updateQueue=null,Xm.current=vM,n=t(i,s)}while(zh)}if(Xm.current=Qg,e=gt!==null&&gt.next!==null,fc=0,_t=gt=qe=null,Kg=!1,e)throw Error(z(300));return n}function Ax(){var n=rf!==0;return rf=0,n}function hs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?qe.memoizedState=_t=n:_t=_t.next=n,_t}function Ti(){if(gt===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var e=_t===null?qe.memoizedState:_t.next;if(e!==null)_t=e,gt=n;else{if(n===null)throw Error(z(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},_t===null?qe.memoizedState=_t=n:_t=_t.next=n}return _t}function of(n,e){return typeof e=="function"?e(n):e}function Yv(n){var e=Ti(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var i=gt,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,c=null,u=r;do{var d=u.lane;if((fc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=i):c=c.next=h,qe.lanes|=d,pc|=d}u=u.next}while(u!==null&&u!==r);c===null?o=i:c.next=l,ns(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,qe.lanes|=r,pc|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Kv(n){var e=Ti(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);ns(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function mC(){}function gC(n,e){var t=qe,i=Ti(),s=e(),r=!ns(i.memoizedState,s);if(r&&(i.memoizedState=s,En=!0),i=i.queue,Sx(wC.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||_t!==null&&_t.memoizedState.tag&1){if(t.flags|=2048,af(9,vC.bind(null,t,i,s,e),void 0,null),Tt===null)throw Error(z(349));fc&30||yC(t,e,s)}return s}function yC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function vC(n,e,t,i){e.value=t,e.getSnapshot=i,bC(e)&&xC(n)}function wC(n,e,t){return t(function(){bC(e)&&xC(n)})}function bC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ns(n,t)}catch{return!0}}function xC(n){var e=Kr(n,1);e!==null&&ts(e,n,1,-1)}function uA(n){var e=hs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:n},e.queue=n,n=n.dispatch=mM.bind(null,qe,n),[e.memoizedState,n]}function af(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function AC(){return Ti().memoizedState}function qm(n,e,t,i){var s=hs();qe.flags|=n,s.memoizedState=af(1|e,t,void 0,i===void 0?null:i)}function Yy(n,e,t,i){var s=Ti();i=i===void 0?null:i;var r=void 0;if(gt!==null){var o=gt.memoizedState;if(r=o.destroy,i!==null&&bx(i,o.deps)){s.memoizedState=af(e,t,r,i);return}}qe.flags|=n,s.memoizedState=af(1|e,t,r,i)}function dA(n,e){return qm(8390656,8,n,e)}function Sx(n,e){return Yy(2048,8,n,e)}function SC(n,e){return Yy(4,2,n,e)}function EC(n,e){return Yy(4,4,n,e)}function CC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function _C(n,e,t){return t=t!=null?t.concat([n]):null,Yy(4,4,CC.bind(null,e,n),t)}function Ex(){}function TC(n,e){var t=Ti();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&bx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function kC(n,e){var t=Ti();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&bx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function PC(n,e,t){return fc&21?(ns(t,e)||(t=LE(),qe.lanes|=t,pc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,En=!0),n.memoizedState=t)}function fM(n,e){var t=Ce;Ce=t!==0&&4>t?t:4,n(!0);var i=qv.transition;qv.transition={};try{n(!1),e()}finally{Ce=t,qv.transition=i}}function RC(){return Ti().memoizedState}function pM(n,e,t){var i=Ea(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},MC(n))NC(e,t);else if(t=hC(n,e,t,i),t!==null){var s=dn();ts(t,n,i,s),DC(t,e,i)}}function mM(n,e,t){var i=Ea(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(MC(n))NC(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,t);if(s.hasEagerState=!0,s.eagerState=l,ns(l,o)){var c=e.interleaved;c===null?(s.next=s,mx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=hC(n,e,s,i),t!==null&&(s=dn(),ts(t,n,i,s),DC(t,e,i))}}function MC(n){var e=n.alternate;return n===qe||e!==null&&e===qe}function NC(n,e){zh=Kg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function DC(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,tx(n,t)}}var Qg={readContext:_i,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},gM={readContext:_i,useCallback:function(n,e){return hs().memoizedState=[n,e===void 0?null:e],n},useContext:_i,useEffect:dA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,qm(4194308,4,CC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return qm(4194308,4,n,e)},useInsertionEffect:function(n,e){return qm(4,2,n,e)},useMemo:function(n,e){var t=hs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=hs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=pM.bind(null,qe,n),[i.memoizedState,n]},useRef:function(n){var e=hs();return n={current:n},e.memoizedState=n},useState:uA,useDebugValue:Ex,useDeferredValue:function(n){return hs().memoizedState=n},useTransition:function(){var n=uA(!1),e=n[0];return n=fM.bind(null,n[1]),hs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=qe,s=hs();if(Ue){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),Tt===null)throw Error(z(349));fc&30||yC(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,dA(wC.bind(null,i,r,n),[n]),i.flags|=2048,af(9,vC.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=hs(),e=Tt.identifierPrefix;if(Ue){var t=Vr,i=Ur;t=(i&~(1<<32-es(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=rf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=hM++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},yM={readContext:_i,useCallback:TC,useContext:_i,useEffect:Sx,useImperativeHandle:_C,useInsertionEffect:SC,useLayoutEffect:EC,useMemo:kC,useReducer:Yv,useRef:AC,useState:function(){return Yv(of)},useDebugValue:Ex,useDeferredValue:function(n){var e=Ti();return PC(e,gt.memoizedState,n)},useTransition:function(){var n=Yv(of)[0],e=Ti().memoizedState;return[n,e]},useMutableSource:mC,useSyncExternalStore:gC,useId:RC,unstable_isNewReconciler:!1},vM={readContext:_i,useCallback:TC,useContext:_i,useEffect:Sx,useImperativeHandle:_C,useInsertionEffect:SC,useLayoutEffect:EC,useMemo:kC,useReducer:Kv,useRef:AC,useState:function(){return Kv(of)},useDebugValue:Ex,useDeferredValue:function(n){var e=Ti();return gt===null?e.memoizedState=n:PC(e,gt.memoizedState,n)},useTransition:function(){var n=Kv(of)[0],e=Ti().memoizedState;return[n,e]},useMutableSource:mC,useSyncExternalStore:gC,useId:RC,unstable_isNewReconciler:!1};function Fi(n,e){if(n&&n.defaultProps){e=Ye({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function G0(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ye({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ky={isMounted:function(n){return(n=n._reactInternals)?Ac(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=dn(),s=Ea(n),r=Wr(i,s);r.payload=e,t!=null&&(r.callback=t),e=Aa(n,r,s),e!==null&&(ts(e,n,s,i),Gm(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=dn(),s=Ea(n),r=Wr(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Aa(n,r,s),e!==null&&(ts(e,n,s,i),Gm(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=dn(),i=Ea(n),s=Wr(t,i);s.tag=2,e!=null&&(s.callback=e),e=Aa(n,s,i),e!==null&&(ts(e,n,i,t),Gm(e,n,i))}};function hA(n,e,t,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Zh(t,i)||!Zh(s,r):!0}function LC(n,e,t){var i=!1,s=Ta,r=e.contextType;return typeof r=="object"&&r!==null?r=_i(r):(s=_n(e)?dc:Qt.current,i=e.contextTypes,r=(i=i!=null)?Id(n,s):Ta),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ky,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function fA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Ky.enqueueReplaceState(e,e.state,null)}function X0(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},gx(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=_i(r):(r=_n(e)?dc:Qt.current,s.context=Id(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(G0(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ky.enqueueReplaceState(s,s.state,null),qg(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Bd(n,e){try{var t="",i=e;do t+=G2(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function Qv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function q0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var wM=typeof WeakMap=="function"?WeakMap:Map;function IC(n,e,t){t=Wr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Jg||(Jg=!0,sw=i),q0(n,e)},t}function OC(n,e,t){t=Wr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){q0(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){q0(n,e),typeof i!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function pA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new wM;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=DM.bind(null,n,e,t),e.then(n,n))}function mA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function gA(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Wr(-1,1),e.tag=2,Aa(t,e,1))),t.lanes|=1),n)}var bM=io.ReactCurrentOwner,En=!1;function ln(n,e,t,i){e.child=n===null?dC(e,null,t,i):Fd(e,n.child,t,i)}function yA(n,e,t,i,s){t=t.render;var r=e.ref;return ru(e,s),i=xx(n,e,t,i,r,s),t=Ax(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Qr(n,e,s)):(Ue&&t&&cx(e),e.flags|=1,ln(n,e,i,s),e.child)}function vA(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!Nx(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,FC(n,e,r,i,s)):(n=Zm(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:Zh,t(o,i)&&n.ref===e.ref)return Qr(n,e,s)}return e.flags|=1,n=Ca(r,i),n.ref=e.ref,n.return=e,e.child=n}function FC(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(Zh(r,i)&&n.ref===e.ref)if(En=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(En=!0);else return e.lanes=n.lanes,Qr(n,e,s)}return Y0(n,e,t,i,s)}function jC(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Qc,Yn),Yn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ne(Qc,Yn),Yn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,Ne(Qc,Yn),Yn|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,Ne(Qc,Yn),Yn|=i;return ln(n,e,s,t),e.child}function BC(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Y0(n,e,t,i,s){var r=_n(t)?dc:Qt.current;return r=Id(e,r),ru(e,s),t=xx(n,e,t,i,r,s),i=Ax(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Qr(n,e,s)):(Ue&&i&&cx(e),e.flags|=1,ln(n,e,t,s),e.child)}function wA(n,e,t,i,s){if(_n(t)){var r=!0;Ug(e)}else r=!1;if(ru(e,s),e.stateNode===null)Ym(n,e),LC(e,t,i),X0(e,t,i,s),i=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=_i(u):(u=_n(t)?dc:Qt.current,u=Id(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==u)&&fA(e,o,i,u),po=!1;var f=e.memoizedState;o.state=f,qg(e,i,o,s),c=e.memoizedState,l!==i||f!==c||Cn.current||po?(typeof d=="function"&&(G0(e,t,d,i),c=e.memoizedState),(l=po||hA(e,t,l,i,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,fC(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fi(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=_i(c):(c=_n(t)?dc:Qt.current,c=Id(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&fA(e,o,i,c),po=!1,f=e.memoizedState,o.state=f,qg(e,i,o,s);var v=e.memoizedState;l!==h||f!==v||Cn.current||po?(typeof p=="function"&&(G0(e,t,p,i),v=e.memoizedState),(u=po||hA(e,t,u,i,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return K0(n,e,t,i,r,s)}function K0(n,e,t,i,s,r){BC(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&sA(e,t,!1),Qr(n,e,r);i=e.stateNode,bM.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Fd(e,n.child,null,r),e.child=Fd(e,null,l,r)):ln(n,e,l,r),e.memoizedState=i.state,s&&sA(e,t,!0),e.child}function zC(n){var e=n.stateNode;e.pendingContext?iA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&iA(n,e.context,!1),yx(n,e.containerInfo)}function bA(n,e,t,i,s){return Od(),dx(s),e.flags|=256,ln(n,e,t,i),e.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function Z0(n){return{baseLanes:n,cachePool:null,transitions:null}}function $C(n,e,t){var i=e.pendingProps,s=Xe.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ne(Xe,s&1),n===null)return V0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Jy(o,i,0,null),n=uc(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Z0(t),e.memoizedState=Q0,n):Cx(e,o));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xM(n,e,o,i,l,s,t);if(r){r=i.fallback,o=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Ca(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Ca(l,r):(r=uc(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o=o===null?Z0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=Q0,i}return r=n.child,n=r.sibling,i=Ca(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Cx(n,e){return e=Jy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Em(n,e,t,i){return i!==null&&dx(i),Fd(e,n.child,null,t),n=Cx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function xM(n,e,t,i,s,r,o){if(t)return e.flags&256?(e.flags&=-257,i=Qv(Error(z(422))),Em(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Jy({mode:"visible",children:i.children},s,0,null),r=uc(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Fd(e,n.child,null,o),e.child.memoizedState=Z0(o),e.memoizedState=Q0,r);if(!(e.mode&1))return Em(n,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(z(419)),i=Qv(r,i,void 0),Em(n,e,o,i)}if(l=(o&n.childLanes)!==0,En||l){if(i=Tt,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Kr(n,s),ts(i,n,s,-1))}return Mx(),i=Qv(Error(z(421))),Em(n,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=LM.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,Jn=xa(s.nextSibling),ei=e,Ue=!0,Zi=null,n!==null&&(bi[xi++]=Ur,bi[xi++]=Vr,bi[xi++]=hc,Ur=n.id,Vr=n.overflow,hc=e),e=Cx(e,i.children),e.flags|=4096,e)}function xA(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),W0(n.return,e,t)}function Zv(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function HC(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(ln(n,e,i.children,t),i=Xe.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xA(n,t,e);else if(n.tag===19)xA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ne(Xe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Yg(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Zv(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Yg(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Zv(e,!0,t,null,r);break;case"together":Zv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ym(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Qr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Ca(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ca(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function AM(n,e,t){switch(e.tag){case 3:zC(e),Od();break;case 5:pC(e);break;case 1:_n(e.type)&&Ug(e);break;case 4:yx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ne(Gg,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ne(Xe,Xe.current&1),e.flags|=128,null):t&e.child.childLanes?$C(n,e,t):(Ne(Xe,Xe.current&1),n=Qr(n,e,t),n!==null?n.sibling:null);Ne(Xe,Xe.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return HC(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Xe,Xe.current),i)break;return null;case 22:case 23:return e.lanes=0,jC(n,e,t)}return Qr(n,e,t)}var UC,J0,VC,WC;UC=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};J0=function(){};VC=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Qa($s.current);var r=null;switch(t){case"input":s=x0(n,s),i=x0(n,i),r=[];break;case"select":s=Ye({},s,{value:void 0}),i=Ye({},i,{value:void 0}),r=[];break;case"textarea":s=E0(n,s),i=E0(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=$g)}_0(t,i);var o;t=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wh.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(r||(r=[]),r.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",n),r||l===c||(r=[])):(r=r||[]).push(u,c))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};WC=function(n,e,t,i){t!==i&&(e.flags|=4)};function ih(n,e){if(!Ue)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Vt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function SM(n,e,t){var i=e.pendingProps;switch(ux(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return _n(e.type)&&Hg(),Vt(e),null;case 3:return i=e.stateNode,jd(),Fe(Cn),Fe(Qt),wx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Am(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zi!==null&&(aw(Zi),Zi=null))),J0(n,e),Vt(e),null;case 5:vx(e);var s=Qa(sf.current);if(t=e.type,n!==null&&e.stateNode!=null)VC(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return Vt(e),null}if(n=Qa($s.current),Am(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[Fs]=e,i[tf]=r,n=(e.mode&1)!==0,t){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(s=0;s<ph.length;s++)Ie(ph[s],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":R1(i,r),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Ie("invalid",i);break;case"textarea":N1(i,r),Ie("invalid",i)}_0(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&xm(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&xm(i.textContent,l,n),s=["children",""+l]):Wh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",i)}switch(t){case"input":fm(i),M1(i,r,!0);break;case"textarea":fm(i),D1(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=$g)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Fs]=e,n[tf]=i,UC(n,e,!1,!1),e.stateNode=n;e:{switch(o=T0(t,i),t){case"dialog":Ie("cancel",n),Ie("close",n),s=i;break;case"iframe":case"object":case"embed":Ie("load",n),s=i;break;case"video":case"audio":for(s=0;s<ph.length;s++)Ie(ph[s],n);s=i;break;case"source":Ie("error",n),s=i;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),s=i;break;case"details":Ie("toggle",n),s=i;break;case"input":R1(n,i),s=x0(n,i),Ie("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Ye({},i,{value:void 0}),Ie("invalid",n);break;case"textarea":N1(n,i),s=E0(n,i),Ie("invalid",n);break;default:s=i}_0(t,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var c=l[r];r==="style"?AE(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bE(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Gh(n,c):typeof c=="number"&&Gh(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Wh.hasOwnProperty(r)?c!=null&&r==="onScroll"&&Ie("scroll",n):c!=null&&Yb(n,r,c,o))}switch(t){case"input":fm(n),M1(n,i,!1);break;case"textarea":fm(n),D1(n);break;case"option":i.value!=null&&n.setAttribute("value",""+_a(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?tu(n,!!i.multiple,r,!1):i.defaultValue!=null&&tu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=$g)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(n&&e.stateNode!=null)WC(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(t=Qa(sf.current),Qa($s.current),Am(e)){if(i=e.stateNode,t=e.memoizedProps,i[Fs]=e,(r=i.nodeValue!==t)&&(n=ei,n!==null))switch(n.tag){case 3:xm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xm(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Fs]=e,e.stateNode=i}return Vt(e),null;case 13:if(Fe(Xe),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ue&&Jn!==null&&e.mode&1&&!(e.flags&128))cC(),Od(),e.flags|=98560,r=!1;else if(r=Am(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(z(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(z(317));r[Fs]=e}else Od(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),r=!1}else Zi!==null&&(aw(Zi),Zi=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Xe.current&1?vt===0&&(vt=3):Mx())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return jd(),J0(n,e),n===null&&Jh(e.stateNode.containerInfo),Vt(e),null;case 10:return px(e.type._context),Vt(e),null;case 17:return _n(e.type)&&Hg(),Vt(e),null;case 19:if(Fe(Xe),r=e.memoizedState,r===null)return Vt(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)ih(r,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Yg(n),o!==null){for(e.flags|=128,ih(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ne(Xe,Xe.current&1|2),e.child}n=n.sibling}r.tail!==null&&nt()>zd&&(e.flags|=128,i=!0,ih(r,!1),e.lanes=4194304)}else{if(!i)if(n=Yg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ih(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Ue)return Vt(e),null}else 2*nt()-r.renderingStartTime>zd&&t!==1073741824&&(e.flags|=128,i=!0,ih(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=nt(),e.sibling=null,t=Xe.current,Ne(Xe,i?t&1|2:t&1),e):(Vt(e),null);case 22:case 23:return Rx(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Yn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function EM(n,e){switch(ux(e),e.tag){case 1:return _n(e.type)&&Hg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jd(),Fe(Cn),Fe(Qt),wx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return vx(e),null;case 13:if(Fe(Xe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Od()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fe(Xe),null;case 4:return jd(),null;case 10:return px(e.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var Cm=!1,Kt=!1,CM=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Kc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Je(n,e,i)}else t.current=null}function ew(n,e,t){try{t()}catch(i){Je(n,e,i)}}var AA=!1;function _M(n,e){if(F0=jg,n=KE(),lx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(l=o+s),h!==r||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(l=o),f===r&&++d===i&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(j0={focusedElem:n,selectionRange:t},jg=!1,Q=e;Q!==null;)if(e=Q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Q=n;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Fi(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){Je(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}return v=AA,AA=!1,v}function $h(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&ew(e,t,r)}s=s.next}while(s!==i)}}function Qy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function tw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function GC(n){var e=n.alternate;e!==null&&(n.alternate=null,GC(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fs],delete e[tf],delete e[$0],delete e[lM],delete e[cM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function XC(n){return n.tag===5||n.tag===3||n.tag===4}function SA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||XC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$g));else if(i!==4&&(n=n.child,n!==null))for(nw(n,e,t),n=n.sibling;n!==null;)nw(n,e,t),n=n.sibling}function iw(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(iw(n,e,t),n=n.sibling;n!==null;)iw(n,e,t),n=n.sibling}var It=null,Qi=!1;function ao(n,e,t){for(t=t.child;t!==null;)qC(n,e,t),t=t.sibling}function qC(n,e,t){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(Uy,t)}catch{}switch(t.tag){case 5:Kt||Kc(t,e);case 6:var i=It,s=Qi;It=null,ao(n,e,t),It=i,Qi=s,It!==null&&(Qi?(n=It,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):It.removeChild(t.stateNode));break;case 18:It!==null&&(Qi?(n=It,t=t.stateNode,n.nodeType===8?Wv(n.parentNode,t):n.nodeType===1&&Wv(n,t),Kh(n)):Wv(It,t.stateNode));break;case 4:i=It,s=Qi,It=t.stateNode.containerInfo,Qi=!0,ao(n,e,t),It=i,Qi=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&ew(t,e,o),s=s.next}while(s!==i)}ao(n,e,t);break;case 1:if(!Kt&&(Kc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){Je(t,e,l)}ao(n,e,t);break;case 21:ao(n,e,t);break;case 22:t.mode&1?(Kt=(i=Kt)||t.memoizedState!==null,ao(n,e,t),Kt=i):ao(n,e,t);break;default:ao(n,e,t)}}function EA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CM),e.forEach(function(i){var s=IM.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function Li(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,Qi=!1;break e;case 3:It=l.stateNode.containerInfo,Qi=!0;break e;case 4:It=l.stateNode.containerInfo,Qi=!0;break e}l=l.return}if(It===null)throw Error(z(160));qC(r,o,s),It=null,Qi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YC(e,n),e=e.sibling}function YC(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Li(e,n),ls(n),i&4){try{$h(3,n,n.return),Qy(3,n)}catch(g){Je(n,n.return,g)}try{$h(5,n,n.return)}catch(g){Je(n,n.return,g)}}break;case 1:Li(e,n),ls(n),i&512&&t!==null&&Kc(t,t.return);break;case 5:if(Li(e,n),ls(n),i&512&&t!==null&&Kc(t,t.return),n.flags&32){var s=n.stateNode;try{Gh(s,"")}catch(g){Je(n,n.return,g)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&yE(s,r),T0(l,o);var u=T0(l,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?AE(s,h):d==="dangerouslySetInnerHTML"?bE(s,h):d==="children"?Gh(s,h):Yb(s,d,h,u)}switch(l){case"input":A0(s,r);break;case"textarea":vE(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?tu(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?tu(s,!!r.multiple,r.defaultValue,!0):tu(s,!!r.multiple,r.multiple?[]:"",!1))}s[tf]=r}catch(g){Je(n,n.return,g)}}break;case 6:if(Li(e,n),ls(n),i&4){if(n.stateNode===null)throw Error(z(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(g){Je(n,n.return,g)}}break;case 3:if(Li(e,n),ls(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Kh(e.containerInfo)}catch(g){Je(n,n.return,g)}break;case 4:Li(e,n),ls(n);break;case 13:Li(e,n),ls(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(kx=nt())),i&4&&EA(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Kt=(u=Kt)||d,Li(e,n),Kt=u):Li(e,n),ls(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Q=n,d=n.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:$h(4,f,f.return);break;case 1:Kc(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Je(i,t,g)}}break;case 5:Kc(f,f.return);break;case 22:if(f.memoizedState!==null){_A(h);continue}}p!==null?(p.return=f,Q=p):_A(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xE("display",o))}catch(g){Je(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Je(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Li(e,n),ls(n),i&4&&EA(n);break;case 21:break;default:Li(e,n),ls(n)}}function ls(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(XC(t)){var i=t;break e}t=t.return}throw Error(z(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Gh(s,""),i.flags&=-33);var r=SA(n);iw(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=SA(n);nw(n,l,o);break;default:throw Error(z(161))}}catch(c){Je(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function TM(n,e,t){Q=n,KC(n)}function KC(n,e,t){for(var i=(n.mode&1)!==0;Q!==null;){var s=Q,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Cm;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=Cm;var u=Kt;if(Cm=o,(Kt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?TA(s):c!==null?(c.return=o,Q=c):TA(s);for(;r!==null;)Q=r,KC(r),r=r.sibling;Q=s,Cm=l,Kt=u}CA(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Q=r):CA(n)}}function CA(n){for(;Q!==null;){var e=Q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Qy(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Fi(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&cA(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}cA(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Kt||e.flags&512&&tw(e)}catch(f){Je(e,e.return,f)}}if(e===n){Q=null;break}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}}function _A(n){for(;Q!==null;){var e=Q;if(e===n){Q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Q=t;break}Q=e.return}}function TA(n){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Qy(4,e)}catch(c){Je(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){Je(e,s,c)}}var r=e.return;try{tw(e)}catch(c){Je(e,r,c)}break;case 5:var o=e.return;try{tw(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===n){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var kM=Math.ceil,Zg=io.ReactCurrentDispatcher,_x=io.ReactCurrentOwner,Ei=io.ReactCurrentBatchConfig,ge=0,Tt=null,lt=null,Bt=0,Yn=0,Qc=Fa(0),vt=0,lf=null,pc=0,Zy=0,Tx=0,Hh=null,Sn=null,kx=0,zd=1/0,Js=null,Jg=!1,sw=null,Sa=null,_m=!1,ga=null,ey=0,Uh=0,rw=null,Km=-1,Qm=0;function dn(){return ge&6?nt():Km!==-1?Km:Km=nt()}function Ea(n){return n.mode&1?ge&2&&Bt!==0?Bt&-Bt:dM.transition!==null?(Qm===0&&(Qm=LE()),Qm):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:$E(n.type)),n):1}function ts(n,e,t,i){if(50<Uh)throw Uh=0,rw=null,Error(z(185));Kp(n,t,i),(!(ge&2)||n!==Tt)&&(n===Tt&&(!(ge&2)&&(Zy|=t),vt===4&&go(n,Bt)),Tn(n,i),t===1&&ge===0&&!(e.mode&1)&&(zd=nt()+500,qy&&ja()))}function Tn(n,e){var t=n.callbackNode;dR(n,e);var i=Fg(n,n===Tt?Bt:0);if(i===0)t!==null&&O1(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&O1(t),e===1)n.tag===0?uM(kA.bind(null,n)):oC(kA.bind(null,n)),oM(function(){!(ge&6)&&ja()}),t=null;else{switch(IE(i)){case 1:t=ex;break;case 4:t=NE;break;case 16:t=Og;break;case 536870912:t=DE;break;default:t=Og}t=s_(t,QC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function QC(n,e){if(Km=-1,Qm=0,ge&6)throw Error(z(327));var t=n.callbackNode;if(ou()&&n.callbackNode!==t)return null;var i=Fg(n,n===Tt?Bt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=ty(n,i);else{e=i;var s=ge;ge|=2;var r=JC();(Tt!==n||Bt!==e)&&(Js=null,zd=nt()+500,cc(n,e));do try{MM();break}catch(l){ZC(n,l)}while(!0);fx(),Zg.current=r,ge=s,lt!==null?e=0:(Tt=null,Bt=0,e=vt)}if(e!==0){if(e===2&&(s=N0(n),s!==0&&(i=s,e=ow(n,s))),e===1)throw t=lf,cc(n,0),go(n,i),Tn(n,nt()),t;if(e===6)go(n,i);else{if(s=n.current.alternate,!(i&30)&&!PM(s)&&(e=ty(n,i),e===2&&(r=N0(n),r!==0&&(i=r,e=ow(n,r))),e===1))throw t=lf,cc(n,0),go(n,i),Tn(n,nt()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:Ha(n,Sn,Js);break;case 3:if(go(n,i),(i&130023424)===i&&(e=kx+500-nt(),10<e)){if(Fg(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){dn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=z0(Ha.bind(null,n,Sn,Js),e);break}Ha(n,Sn,Js);break;case 4:if(go(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var o=31-es(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kM(i/1960))-i,10<i){n.timeoutHandle=z0(Ha.bind(null,n,Sn,Js),i);break}Ha(n,Sn,Js);break;case 5:Ha(n,Sn,Js);break;default:throw Error(z(329))}}}return Tn(n,nt()),n.callbackNode===t?QC.bind(null,n):null}function ow(n,e){var t=Hh;return n.current.memoizedState.isDehydrated&&(cc(n,e).flags|=256),n=ty(n,e),n!==2&&(e=Sn,Sn=t,e!==null&&aw(e)),n}function aw(n){Sn===null?Sn=n:Sn.push.apply(Sn,n)}function PM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!ns(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(n,e){for(e&=~Tx,e&=~Zy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-es(e),i=1<<t;n[t]=-1,e&=~i}}function kA(n){if(ge&6)throw Error(z(327));ou();var e=Fg(n,0);if(!(e&1))return Tn(n,nt()),null;var t=ty(n,e);if(n.tag!==0&&t===2){var i=N0(n);i!==0&&(e=i,t=ow(n,i))}if(t===1)throw t=lf,cc(n,0),go(n,e),Tn(n,nt()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ha(n,Sn,Js),Tn(n,nt()),null}function Px(n,e){var t=ge;ge|=1;try{return n(e)}finally{ge=t,ge===0&&(zd=nt()+500,qy&&ja())}}function mc(n){ga!==null&&ga.tag===0&&!(ge&6)&&ou();var e=ge;ge|=1;var t=Ei.transition,i=Ce;try{if(Ei.transition=null,Ce=1,n)return n()}finally{Ce=i,Ei.transition=t,ge=e,!(ge&6)&&ja()}}function Rx(){Yn=Qc.current,Fe(Qc)}function cc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rM(t)),lt!==null)for(t=lt.return;t!==null;){var i=t;switch(ux(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hg();break;case 3:jd(),Fe(Cn),Fe(Qt),wx();break;case 5:vx(i);break;case 4:jd();break;case 13:Fe(Xe);break;case 19:Fe(Xe);break;case 10:px(i.type._context);break;case 22:case 23:Rx()}t=t.return}if(Tt=n,lt=n=Ca(n.current,null),Bt=Yn=e,vt=0,lf=null,Tx=Zy=pc=0,Sn=Hh=null,Ka!==null){for(e=0;e<Ka.length;e++)if(t=Ka[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}t.pending=i}Ka=null}return n}function ZC(n,e){do{var t=lt;try{if(fx(),Xm.current=Qg,Kg){for(var i=qe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kg=!1}if(fc=0,_t=gt=qe=null,zh=!1,rf=0,_x.current=null,t===null||t.return===null){vt=1,lf=e,lt=null;break}e:{var r=n,o=t.return,l=t,c=e;if(e=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mA(o);if(p!==null){p.flags&=-257,gA(p,o,l,r,e),p.mode&1&&pA(r,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){pA(r,u,e),Mx();break e}c=Error(z(426))}}else if(Ue&&l.mode&1){var b=mA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),gA(b,o,l,r,e),dx(Bd(c,l));break e}}r=c=Bd(c,l),vt!==4&&(vt=2),Hh===null?Hh=[r]:Hh.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=IC(r,c,e);lA(r,y);break e;case 1:l=c;var w=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sa===null||!Sa.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var E=OC(r,l,e);lA(r,E);break e}}r=r.return}while(r!==null)}t_(t)}catch(_){e=_,lt===t&&t!==null&&(lt=t=t.return);continue}break}while(!0)}function JC(){var n=Zg.current;return Zg.current=Qg,n===null?Qg:n}function Mx(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(pc&268435455)&&!(Zy&268435455)||go(Tt,Bt)}function ty(n,e){var t=ge;ge|=2;var i=JC();(Tt!==n||Bt!==e)&&(Js=null,cc(n,e));do try{RM();break}catch(s){ZC(n,s)}while(!0);if(fx(),ge=t,Zg.current=i,lt!==null)throw Error(z(261));return Tt=null,Bt=0,vt}function RM(){for(;lt!==null;)e_(lt)}function MM(){for(;lt!==null&&!nR();)e_(lt)}function e_(n){var e=i_(n.alternate,n,Yn);n.memoizedProps=n.pendingProps,e===null?t_(n):lt=e,_x.current=null}function t_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=EM(t,e),t!==null){t.flags&=32767,lt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,lt=null;return}}else if(t=SM(t,e,Yn),t!==null){lt=t;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=n}while(e!==null);vt===0&&(vt=5)}function Ha(n,e,t){var i=Ce,s=Ei.transition;try{Ei.transition=null,Ce=1,NM(n,e,t,i)}finally{Ei.transition=s,Ce=i}return null}function NM(n,e,t,i){do ou();while(ga!==null);if(ge&6)throw Error(z(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(hR(n,r),n===Tt&&(lt=Tt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||_m||(_m=!0,s_(Og,function(){return ou(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Ei.transition,Ei.transition=null;var o=Ce;Ce=1;var l=ge;ge|=4,_x.current=null,_M(n,t),YC(t,n),ZR(j0),jg=!!F0,j0=F0=null,n.current=t,TM(t),iR(),ge=l,Ce=o,Ei.transition=r}else n.current=t;if(_m&&(_m=!1,ga=n,ey=s),r=n.pendingLanes,r===0&&(Sa=null),oR(t.stateNode),Tn(n,nt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(Jg)throw Jg=!1,n=sw,sw=null,n;return ey&1&&n.tag!==0&&ou(),r=n.pendingLanes,r&1?n===rw?Uh++:(Uh=0,rw=n):Uh=0,ja(),null}function ou(){if(ga!==null){var n=IE(ey),e=Ei.transition,t=Ce;try{if(Ei.transition=null,Ce=16>n?16:n,ga===null)var i=!1;else{if(n=ga,ga=null,ey=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=n.current;Q!==null;){var r=Q,o=r.child;if(Q.flags&16){var l=r.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:$h(8,d,r)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,p=d.return;if(GC(d),d===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var v=r.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Q=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Q=o;else e:for(;Q!==null;){if(r=Q,r.flags&2048)switch(r.tag){case 0:case 11:case 15:$h(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,Q=y;break e}Q=r.return}}var w=n.current;for(Q=w;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=w;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qy(9,l)}}catch(_){Je(l,l.return,_)}if(l===o){Q=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Q=E;break e}Q=l.return}}if(ge=s,ja(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(Uy,n)}catch{}i=!0}return i}finally{Ce=t,Ei.transition=e}}return!1}function PA(n,e,t){e=Bd(t,e),e=IC(n,e,1),n=Aa(n,e,1),e=dn(),n!==null&&(Kp(n,1,e),Tn(n,e))}function Je(n,e,t){if(n.tag===3)PA(n,n,t);else for(;e!==null;){if(e.tag===3){PA(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sa===null||!Sa.has(i))){n=Bd(t,n),n=OC(e,n,1),e=Aa(e,n,1),n=dn(),e!==null&&(Kp(e,1,n),Tn(e,n));break}}e=e.return}}function DM(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=dn(),n.pingedLanes|=n.suspendedLanes&t,Tt===n&&(Bt&t)===t&&(vt===4||vt===3&&(Bt&130023424)===Bt&&500>nt()-kx?cc(n,0):Tx|=t),Tn(n,e)}function n_(n,e){e===0&&(n.mode&1?(e=gm,gm<<=1,!(gm&130023424)&&(gm=4194304)):e=1);var t=dn();n=Kr(n,e),n!==null&&(Kp(n,e,t),Tn(n,t))}function LM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),n_(n,t)}function IM(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),n_(n,t)}var i_;i_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Cn.current)En=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return En=!1,AM(n,e,t);En=!!(n.flags&131072)}else En=!1,Ue&&e.flags&1048576&&aC(e,Wg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ym(n,e),n=e.pendingProps;var s=Id(e,Qt.current);ru(e,t),s=xx(null,e,i,n,s,t);var r=Ax();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(i)?(r=!0,Ug(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gx(e),s.updater=Ky,e.stateNode=s,s._reactInternals=e,X0(e,i,n,t),e=K0(null,e,i,!0,r,t)):(e.tag=0,Ue&&r&&cx(e),ln(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Ym(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=FM(i),n=Fi(i,n),s){case 0:e=Y0(null,e,i,n,t);break e;case 1:e=wA(null,e,i,n,t);break e;case 11:e=yA(null,e,i,n,t);break e;case 14:e=vA(null,e,i,Fi(i.type,n),t);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),Y0(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),wA(n,e,i,s,t);case 3:e:{if(zC(e),n===null)throw Error(z(387));i=e.pendingProps,r=e.memoizedState,s=r.element,fC(n,e),qg(e,i,null,t);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Bd(Error(z(423)),e),e=bA(n,e,i,t,s);break e}else if(i!==s){s=Bd(Error(z(424)),e),e=bA(n,e,i,t,s);break e}else for(Jn=xa(e.stateNode.containerInfo.firstChild),ei=e,Ue=!0,Zi=null,t=dC(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Od(),i===s){e=Qr(n,e,t);break e}ln(n,e,i,t)}e=e.child}return e;case 5:return pC(e),n===null&&V0(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,B0(i,s)?o=null:r!==null&&B0(i,r)&&(e.flags|=32),BC(n,e),ln(n,e,o,t),e.child;case 6:return n===null&&V0(e),null;case 13:return $C(n,e,t);case 4:return yx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Fd(e,null,i,t):ln(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),yA(n,e,i,s,t);case 7:return ln(n,e,e.pendingProps,t),e.child;case 8:return ln(n,e,e.pendingProps.children,t),e.child;case 12:return ln(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Ne(Gg,i._currentValue),i._currentValue=o,r!==null)if(ns(r.value,o)){if(r.children===s.children&&!Cn.current){e=Qr(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=Wr(-1,t&-t),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),W0(r.return,t,e),l.lanes|=t;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(z(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),W0(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ln(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ru(e,t),s=_i(s),i=i(s),e.flags|=1,ln(n,e,i,t),e.child;case 14:return i=e.type,s=Fi(i,e.pendingProps),s=Fi(i.type,s),vA(n,e,i,s,t);case 15:return FC(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),Ym(n,e),e.tag=1,_n(i)?(n=!0,Ug(e)):n=!1,ru(e,t),LC(e,i,s),X0(e,i,s,t),K0(null,e,i,!0,n,t);case 19:return HC(n,e,t);case 22:return jC(n,e,t)}throw Error(z(156,e.tag))};function s_(n,e){return ME(n,e)}function OM(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(n,e,t,i){return new OM(n,e,t,i)}function Nx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FM(n){if(typeof n=="function")return Nx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Qb)return 11;if(n===Zb)return 14}return 2}function Ca(n,e){var t=n.alternate;return t===null?(t=Si(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Zm(n,e,t,i,s,r){var o=2;if(i=n,typeof n=="function")Nx(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $c:return uc(t.children,s,r,e);case Kb:o=8,s|=8;break;case y0:return n=Si(12,t,e,s|2),n.elementType=y0,n.lanes=r,n;case v0:return n=Si(13,t,e,s),n.elementType=v0,n.lanes=r,n;case w0:return n=Si(19,t,e,s),n.elementType=w0,n.lanes=r,n;case pE:return Jy(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hE:o=10;break e;case fE:o=9;break e;case Qb:o=11;break e;case Zb:o=14;break e;case fo:o=16,i=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=Si(o,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function uc(n,e,t,i){return n=Si(7,n,i,e),n.lanes=t,n}function Jy(n,e,t,i){return n=Si(22,n,i,e),n.elementType=pE,n.lanes=t,n.stateNode={isHidden:!1},n}function Jv(n,e,t){return n=Si(6,n,null,e),n.lanes=t,n}function e0(n,e,t){return e=Si(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function jM(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dx(n,e,t,i,s,r,o,l,c){return n=new jM(n,e,t,l,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Si(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},gx(r),n}function BM(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function r_(n){if(!n)return Ta;n=n._reactInternals;e:{if(Ac(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(_n(t))return rC(n,t,e)}return e}function o_(n,e,t,i,s,r,o,l,c){return n=Dx(t,i,!0,n,s,r,o,l,c),n.context=r_(null),t=n.current,i=dn(),s=Ea(t),r=Wr(i,s),r.callback=e??null,Aa(t,r,s),n.current.lanes=s,Kp(n,s,i),Tn(n,i),n}function ev(n,e,t,i){var s=e.current,r=dn(),o=Ea(s);return t=r_(t),e.context===null?e.context=t:e.pendingContext=t,e=Wr(r,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Aa(s,e,o),n!==null&&(ts(n,s,o,r),Gm(n,s,o)),o}function ny(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function RA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Lx(n,e){RA(n,e),(n=n.alternate)&&RA(n,e)}function zM(){return null}var a_=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ix(n){this._internalRoot=n}tv.prototype.render=Ix.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));ev(n,e,null,null)};tv.prototype.unmount=Ix.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;mc(function(){ev(null,n,null,null)}),e[Yr]=null}};function tv(n){this._internalRoot=n}tv.prototype.unstable_scheduleHydration=function(n){if(n){var e=jE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<mo.length&&e!==0&&e<mo[t].priority;t++);mo.splice(t,0,n),t===0&&zE(n)}};function Ox(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function nv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function MA(){}function $M(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=ny(o);r.call(u)}}var o=o_(e,i,n,0,null,!1,!1,"",MA);return n._reactRootContainer=o,n[Yr]=o.current,Jh(n.nodeType===8?n.parentNode:n),mc(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=ny(c);l.call(u)}}var c=Dx(n,0,!1,null,null,!1,!1,"",MA);return n._reactRootContainer=c,n[Yr]=c.current,Jh(n.nodeType===8?n.parentNode:n),mc(function(){ev(e,c,t,i)}),c}function iv(n,e,t,i,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var c=ny(o);l.call(c)}}ev(e,o,n,s)}else o=$M(t,e,n,s,i);return ny(o)}OE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=fh(e.pendingLanes);t!==0&&(tx(e,t|1),Tn(e,nt()),!(ge&6)&&(zd=nt()+500,ja()))}break;case 13:mc(function(){var i=Kr(n,1);if(i!==null){var s=dn();ts(i,n,1,s)}}),Lx(n,1)}};nx=function(n){if(n.tag===13){var e=Kr(n,134217728);if(e!==null){var t=dn();ts(e,n,134217728,t)}Lx(n,134217728)}};FE=function(n){if(n.tag===13){var e=Ea(n),t=Kr(n,e);if(t!==null){var i=dn();ts(t,n,e,i)}Lx(n,e)}};jE=function(){return Ce};BE=function(n,e){var t=Ce;try{return Ce=n,e()}finally{Ce=t}};P0=function(n,e,t){switch(e){case"input":if(A0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=Xy(i);if(!s)throw Error(z(90));gE(i),A0(i,s)}}}break;case"textarea":vE(n,t);break;case"select":e=t.value,e!=null&&tu(n,!!t.multiple,e,!1)}};CE=Px;_E=mc;var HM={usingClientEntryPoint:!1,Events:[Zp,Wc,Xy,SE,EE,Px]},sh={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UM={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PE(n),n===null?null:n.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{Uy=Tm.inject(UM),zs=Tm}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;si.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ox(e))throw Error(z(200));return BM(n,e,null,t)};si.createRoot=function(n,e){if(!Ox(n))throw Error(z(299));var t=!1,i="",s=a_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dx(n,1,!1,null,null,t,!1,i,s),n[Yr]=e.current,Jh(n.nodeType===8?n.parentNode:n),new Ix(e)};si.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=PE(e),n=n===null?null:n.stateNode,n};si.flushSync=function(n){return mc(n)};si.hydrate=function(n,e,t){if(!nv(e))throw Error(z(200));return iv(null,n,e,!0,t)};si.hydrateRoot=function(n,e,t){if(!Ox(n))throw Error(z(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",o=a_;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=o_(e,null,n,1,t??null,s,!1,r,o),n[Yr]=e.current,Jh(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new tv(e)};si.render=function(n,e,t){if(!nv(e))throw Error(z(200));return iv(null,n,e,!1,t)};si.unmountComponentAtNode=function(n){if(!nv(n))throw Error(z(40));return n._reactRootContainer?(mc(function(){iv(null,null,n,!1,function(){n._reactRootContainer=null,n[Yr]=null})}),!0):!1};si.unstable_batchedUpdates=Px;si.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!nv(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return iv(n,e,t,!1,i)};si.version="18.3.1-next-f1338f8080-20240426";function l_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l_)}catch(n){console.error(n)}}l_(),lE.exports=si;var em=lE.exports;const c_=YS(em);var u_,NA=em;u_=NA.createRoot,NA.hydrateRoot;const VM=1,WM=1e6;let t0=0;function GM(){return t0=(t0+1)%Number.MAX_SAFE_INTEGER,t0.toString()}const n0=new Map,DA=n=>{if(n0.has(n))return;const e=setTimeout(()=>{n0.delete(n),Vh({type:"REMOVE_TOAST",toastId:n})},WM);n0.set(n,e)},XM=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,VM)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?DA(t):n.toasts.forEach(i=>{DA(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Jm=[];let eg={toasts:[]};function Vh(n){eg=XM(eg,n),Jm.forEach(e=>{e(eg)})}function qM({...n}){const e=GM(),t=s=>Vh({type:"UPDATE_TOAST",toast:{...s,id:e}}),i=()=>Vh({type:"DISMISS_TOAST",toastId:e});return Vh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||i()}}}),{id:e,dismiss:i,update:t}}function d_(){const[n,e]=P.useState(eg);return P.useEffect(()=>(Jm.push(e),()=>{const t=Jm.indexOf(e);t>-1&&Jm.splice(t,1)}),[n]),{...n,toast:qM,dismiss:t=>Vh({type:"DISMISS_TOAST",toastId:t})}}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function LA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function h_(...n){return e=>{let t=!1;const i=n.map(s=>{const r=LA(s,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():LA(n[s],null)}}}}function is(...n){return P.useCallback(h_(...n),n)}function sv(n,e=[]){let t=[];function i(r,o){const l=P.createContext(o),c=t.length;t=[...t,o];const u=h=>{var y;const{scope:f,children:p,...v}=h,g=((y=f==null?void 0:f[n])==null?void 0:y[c])||l,b=P.useMemo(()=>v,Object.values(v));return C.jsx(g.Provider,{value:b,children:p})};u.displayName=r+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[n])==null?void 0:g[c])||l,v=P.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${r}\``)}return[u,d]}const s=()=>{const r=t.map(o=>P.createContext(o));return function(l){const c=(l==null?void 0:l[n])||r;return P.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return s.scopeName=n,[i,YM(s,...e)]}function YM(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const o=i.reduce((l,{useScope:c,scopeName:u})=>{const h=c(r)[`__scope${u}`];return{...l,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function iy(n){const e=QM(n),t=P.forwardRef((i,s)=>{const{children:r,...o}=i,l=P.Children.toArray(r),c=l.find(JM);if(c){const u=c.props.children,d=l.map(h=>h===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:s,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:r})});return t.displayName=`${n}.Slot`,t}var KM=iy("Slot");function QM(n){const e=P.forwardRef((t,i)=>{const{children:s,...r}=t;if(P.isValidElement(s)){const o=tN(s),l=eN(r,s.props);return s.type!==P.Fragment&&(l.ref=i?h_(i,o):o),P.cloneElement(s,l)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var f_=Symbol("radix.slottable");function ZM(n){const e=({children:t})=>C.jsx(C.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=f_,e}function JM(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===f_}function eN(n,e){const t={...e};for(const i in e){const s=n[i],r=e[i];/^on[A-Z]/.test(i)?s&&r?t[i]=(...l)=>{const c=r(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...r}:i==="className"&&(t[i]=[s,r].filter(Boolean).join(" "))}return{...n,...t}}function tN(n){var i,s;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function nN(n){const e=n+"CollectionProvider",[t,i]=sv(e),[s,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:y}=g,w=H.useRef(null),x=H.useRef(new Map).current;return C.jsx(s,{scope:b,itemMap:x,collectionRef:w,children:y})};o.displayName=e;const l=n+"CollectionSlot",c=iy(l),u=H.forwardRef((g,b)=>{const{scope:y,children:w}=g,x=r(l,y),E=is(b,x.collectionRef);return C.jsx(c,{ref:E,children:w})});u.displayName=l;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=iy(d),p=H.forwardRef((g,b)=>{const{scope:y,children:w,...x}=g,E=H.useRef(null),_=is(b,E),T=r(d,y);return H.useEffect(()=>(T.itemMap.set(E,{ref:E,...x}),()=>void T.itemMap.delete(E))),C.jsx(f,{[h]:"",ref:_,children:w})});p.displayName=d;function v(g){const b=r(n+"CollectionConsumer",g);return H.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((T,k)=>x.indexOf(T.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,i]}var iN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pn=iN.reduce((n,e)=>{const t=iy(`Primitive.${e}`),i=P.forwardRef((s,r)=>{const{asChild:o,...l}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(c,{...l,ref:r})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function p_(n,e){n&&em.flushSync(()=>n.dispatchEvent(e))}function ka(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function sN(n,e=globalThis==null?void 0:globalThis.document){const t=ka(n);P.useEffect(()=>{const i=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var rN="DismissableLayer",lw="dismissableLayer.update",oN="dismissableLayer.pointerDownOutside",aN="dismissableLayer.focusOutside",IA,m_=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fx=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:o,onDismiss:l,...c}=n,u=P.useContext(m_),[d,h]=P.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=P.useState({}),v=is(e,k=>h(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),w=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,_=cN(k=>{const R=k.target,M=[...u.branches].some(N=>N.contains(R));!E||M||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},f),T=uN(k=>{const R=k.target;[...u.branches].some(N=>N.contains(R))||(r==null||r(k),o==null||o(k),k.defaultPrevented||l==null||l())},f);return sN(k=>{w===u.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),P.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(IA=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OA(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=IA)}},[d,f,t,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OA())},[d,u]),P.useEffect(()=>{const k=()=>p({});return document.addEventListener(lw,k),()=>document.removeEventListener(lw,k)},[]),C.jsx(Pn.div,{...c,ref:v,style:{pointerEvents:x?E?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,T.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,_.onPointerDownCapture)})});Fx.displayName=rN;var lN="DismissableLayerBranch",g_=P.forwardRef((n,e)=>{const t=P.useContext(m_),i=P.useRef(null),s=is(e,i);return P.useEffect(()=>{const r=i.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),C.jsx(Pn.div,{...n,ref:s})});g_.displayName=lN;function cN(n,e=globalThis==null?void 0:globalThis.document){const t=ka(n),i=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const r=l=>{if(l.target&&!i.current){let c=function(){y_(oN,t,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",r),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function uN(n,e=globalThis==null?void 0:globalThis.document){const t=ka(n),i=P.useRef(!1);return P.useEffect(()=>{const s=r=>{r.target&&!i.current&&y_(aN,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function OA(){const n=new CustomEvent(lw);document.dispatchEvent(n)}function y_(n,e,t,{discrete:i}){const s=t.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?p_(s,r):s.dispatchEvent(r)}var dN=Fx,hN=g_,Pa=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},fN="Portal",v_=P.forwardRef((n,e)=>{var l;const{container:t,...i}=n,[s,r]=P.useState(!1);Pa(()=>r(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?c_.createPortal(C.jsx(Pn.div,{...i,ref:e}),o):null});v_.displayName=fN;function pN(n,e){return P.useReducer((t,i)=>e[t][i]??t,n)}var jx=n=>{const{present:e,children:t}=n,i=mN(e),s=typeof t=="function"?t({present:i.isPresent}):P.Children.only(t),r=is(i.ref,gN(s));return typeof t=="function"||i.isPresent?P.cloneElement(s,{ref:r}):null};jx.displayName="Presence";function mN(n){const[e,t]=P.useState(),i=P.useRef(null),s=P.useRef(n),r=P.useRef("none"),o=n?"mounted":"unmounted",[l,c]=pN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=km(i.current);r.current=l==="mounted"?u:"none"},[l]),Pa(()=>{const u=i.current,d=s.current;if(d!==n){const f=r.current,p=km(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Pa(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=km(i.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(r.current=km(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(u=>{i.current=u?getComputedStyle(u):null,t(u)},[])}}function km(n){return(n==null?void 0:n.animationName)||"none"}function gN(n){var i,s;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var yN=oE[" useInsertionEffect ".trim().toString()]||Pa;function vN({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[s,r,o]=wN({defaultProp:e,onChange:t}),l=n!==void 0,c=l?n:s;{const d=P.useRef(n!==void 0);P.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,i])}const u=P.useCallback(d=>{var h;if(l){const f=bN(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else r(d)},[l,n,r,o]);return[c,u]}function wN({defaultProp:n,onChange:e}){const[t,i]=P.useState(n),s=P.useRef(t),r=P.useRef(e);return yN(()=>{r.current=e},[e]),P.useEffect(()=>{var o;s.current!==t&&((o=r.current)==null||o.call(r,t),s.current=t)},[t,s]),[t,i,r]}function bN(n){return typeof n=="function"}var xN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AN="VisuallyHidden",rv=P.forwardRef((n,e)=>C.jsx(Pn.span,{...n,ref:e,style:{...xN,...n.style}}));rv.displayName=AN;var SN=rv,Bx="ToastProvider",[zx,EN,CN]=nN("Toast"),[w_,PB]=sv("Toast",[CN]),[_N,ov]=w_(Bx),b_=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:o}=n,[l,c]=P.useState(null),[u,d]=P.useState(0),h=P.useRef(!1),f=P.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bx}\`. Expected non-empty \`string\`.`),C.jsx(zx.Provider,{scope:e,children:C.jsx(_N,{scope:e,label:t,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:P.useCallback(()=>d(p=>p+1),[]),onToastRemove:P.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};b_.displayName=Bx;var x_="ToastViewport",TN=["F8"],cw="toast.viewportPause",uw="toast.viewportResume",A_=P.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=TN,label:s="Notifications ({hotkey})",...r}=n,o=ov(x_,t),l=EN(t),c=P.useRef(null),u=P.useRef(null),d=P.useRef(null),h=P.useRef(null),f=is(e,h,o.onViewportChange),p=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;P.useEffect(()=>{const b=y=>{var x;i.length!==0&&i.every(E=>y[E]||y.code===E)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),P.useEffect(()=>{const b=c.current,y=h.current;if(v&&b&&y){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(cw);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(uw);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},E=T=>{!b.contains(T.relatedTarget)&&x()},_=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",E),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=P.useCallback(({tabbingDirection:b})=>{const w=l().map(x=>{const E=x.ref.current,_=[E,...zN(E)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return P.useEffect(()=>{const b=h.current;if(b){const y=w=>{var _,T,k;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const R=document.activeElement,M=w.shiftKey;if(w.target===b&&M){(_=u.current)==null||_.focus();return}const O=g({tabbingDirection:M?"backwards":"forwards"}),G=O.findIndex(F=>F===R);i0(O.slice(G+1))?w.preventDefault():M?(T=u.current)==null||T.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,g]),C.jsxs(hN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&C.jsx(dw,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});i0(b)}}),C.jsx(zx.Slot,{scope:t,children:C.jsx(Pn.ol,{tabIndex:-1,...r,ref:f})}),v&&C.jsx(dw,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});i0(b)}})]})});A_.displayName=x_;var S_="ToastFocusProxy",dw=P.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...s}=n,r=ov(S_,t);return C.jsx(rv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=r.viewport)!=null&&u.contains(l))&&i()}})});dw.displayName=S_;var tm="Toast",kN="toast.swipeStart",PN="toast.swipeMove",RN="toast.swipeCancel",MN="toast.swipeEnd",E_=P.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:s,onOpenChange:r,...o}=n,[l,c]=vN({prop:i,defaultProp:s??!0,onChange:r,caller:tm});return C.jsx(jx,{present:t||l,children:C.jsx(LN,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ka(n.onPause),onResume:ka(n.onResume),onSwipeStart:yt(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:yt(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});E_.displayName=tm;var[NN,DN]=w_(tm,{onClose(){}}),LN=P.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:s,open:r,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=n,g=ov(tm,t),[b,y]=P.useState(null),w=is(e,F=>y(F)),x=P.useRef(null),E=P.useRef(null),_=s||g.duration,T=P.useRef(0),k=P.useRef(_),R=P.useRef(0),{onToastAdd:M,onToastRemove:N}=g,L=ka(()=>{var X;(b==null?void 0:b.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),o()}),O=P.useCallback(F=>{!F||F===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(L,F))},[L]);P.useEffect(()=>{const F=g.viewport;if(F){const X=()=>{O(k.current),u==null||u()},B=()=>{const j=new Date().getTime()-T.current;k.current=k.current-j,window.clearTimeout(R.current),c==null||c()};return F.addEventListener(cw,B),F.addEventListener(uw,X),()=>{F.removeEventListener(cw,B),F.removeEventListener(uw,X)}}},[g.viewport,_,c,u,O]),P.useEffect(()=>{r&&!g.isClosePausedRef.current&&O(_)},[r,_,g.isClosePausedRef,O]),P.useEffect(()=>(M(),()=>N()),[M,N]);const G=P.useMemo(()=>b?M_(b):null,[b]);return g.viewport?C.jsxs(C.Fragment,{children:[G&&C.jsx(IN,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),C.jsx(NN,{scope:t,onClose:L,children:em.createPortal(C.jsx(zx.ItemSlot,{scope:t,children:C.jsx(dN,{asChild:!0,onEscapeKeyDown:yt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Pn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:yt(n.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:yt(n.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:yt(n.onPointerMove,F=>{if(!x.current)return;const X=F.clientX-x.current.x,B=F.clientY-x.current.y,j=!!E.current,D=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=D?I(0,X):0,te=D?0:I(0,B),V=F.pointerType==="touch"?10:2,K={x:U,y:te},se={originalEvent:F,delta:K};j?(E.current=K,Pm(PN,h,se,{discrete:!1})):FA(K,g.swipeDirection,V)?(E.current=K,Pm(kN,d,se,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>V||Math.abs(B)>V)&&(x.current=null)}),onPointerUp:yt(n.onPointerUp,F=>{const X=E.current,B=F.target;if(B.hasPointerCapture(F.pointerId)&&B.releasePointerCapture(F.pointerId),E.current=null,x.current=null,X){const j=F.currentTarget,D={originalEvent:F,delta:X};FA(X,g.swipeDirection,g.swipeThreshold)?Pm(MN,p,D,{discrete:!0}):Pm(RN,f,D,{discrete:!0}),j.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),IN=n=>{const{__scopeToast:e,children:t,...i}=n,s=ov(tm,e),[r,o]=P.useState(!1),[l,c]=P.useState(!1);return jN(()=>o(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:C.jsx(v_,{asChild:!0,children:C.jsx(rv,{...i,children:r&&C.jsxs(C.Fragment,{children:[s.label," ",t]})})})},ON="ToastTitle",C_=P.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(Pn.div,{...i,ref:e})});C_.displayName=ON;var FN="ToastDescription",__=P.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(Pn.div,{...i,ref:e})});__.displayName=FN;var T_="ToastAction",k_=P.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?C.jsx(R_,{altText:t,asChild:!0,children:C.jsx($x,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${T_}\`. Expected non-empty \`string\`.`),null)});k_.displayName=T_;var P_="ToastClose",$x=P.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,s=DN(P_,t);return C.jsx(R_,{asChild:!0,children:C.jsx(Pn.button,{type:"button",...i,ref:e,onClick:yt(n.onClick,s.onClose)})})});$x.displayName=P_;var R_=P.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...s}=n;return C.jsx(Pn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:e})});function M_(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),BN(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...M_(i))}}),e}function Pm(n,e,t,{discrete:i}){const s=t.originalEvent.currentTarget,r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?p_(s,r):s.dispatchEvent(r)}var FA=(n,e,t=0)=>{const i=Math.abs(n.x),s=Math.abs(n.y),r=i>s;return e==="left"||e==="right"?r&&i>t:!r&&s>t};function jN(n=()=>{}){const e=ka(n);Pa(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function BN(n){return n.nodeType===n.ELEMENT_NODE}function zN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function i0(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var $N=b_,N_=A_,D_=E_,L_=C_,I_=__,O_=k_,F_=$x;function j_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=j_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function B_(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=j_(n))&&(i&&(i+=" "),i+=e);return i}const jA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,BA=B_,z_=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return BA(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:r}=e,o=Object.keys(s).map(u=>{const d=t==null?void 0:t[u],h=r==null?void 0:r[u];if(d===null)return null;const f=jA(d)||jA(h);return s[u][f]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...r,...l}[g]):{...r,...l}[g]===b})?[...u,h,f]:u},[]);return BA(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$_=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...UN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:$_("lucide",s),...l},[...o.map(([u,d])=>P.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(n,e)=>{const t=P.forwardRef(({className:i,...s},r)=>P.createElement(VN,{ref:r,iconNode:e,className:$_(`lucide-${HN(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=st("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=st("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=st("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=st("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=st("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=st("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=st("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=st("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=st("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=st("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=st("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=st("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=st("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hx="-",oD=n=>{const e=lD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const l=o.split(Hx);return l[0]===""&&l.length!==1&&l.shift(),X_(l,e)||aD(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},X_=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),s=i?X_(n.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const r=n.join(Hx);return(o=e.validators.find(({validator:l})=>l(r)))==null?void 0:o.classGroupId},zA=/^\[(.+)\]$/,aD=n=>{if(zA.test(n)){const e=zA.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lD=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return uD(Object.entries(n.classGroups),t).forEach(([r,o])=>{hw(o,i,r,e)}),i},hw=(n,e,t,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?e:$A(e,s);r.classGroupId=t;return}if(typeof s=="function"){if(cD(s)){hw(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([r,o])=>{hw(o,$A(e,r),t,i)})})},$A=(n,e)=>{let t=n;return e.split(Hx).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},cD=n=>n.isThemeGetter,uD=(n,e)=>e?n.map(([t,i])=>{const s=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,l])=>[e+o,l])):r);return[t,s]}):n,dD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(r,o)=>{t.set(r,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(r){let o=t.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){t.has(r)?t.set(r,o):s(r,o)}}},q_="!",hD=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,s=e[0],r=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(i||l.slice(b,b+r)===e)){c.push(l.slice(d,b)),d=b+r;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(q_),v=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return t?l=>t({className:l,parseClassName:o}):o},fD=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},pD=n=>({cache:dD(n.cacheSize),parseClassName:hD(n),...oD(n)}),mD=/\s+/,gD=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s}=e,r=[],o=n.trim().split(mD);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let v=!!p,g=i(v?f.substring(0,p):f);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=i(f),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=fD(d).join(":"),y=h?b+q_:b,w=y+g;if(r.includes(w))continue;r.push(w);const x=s(g,v);for(let E=0;E<x.length;++E){const _=x[E];r.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function yD(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Y_(e))&&(i&&(i+=" "),i+=t);return i}const Y_=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Y_(n[i]))&&(t&&(t+=" "),t+=e);return t};function vD(n,...e){let t,i,s,r=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=pD(u),i=t.cache.get,s=t.cache.set,r=l,l(c)}function l(c){const u=i(c);if(u)return u;const d=gD(c,t);return s(c,d),d}return function(){return r(yD.apply(null,arguments))}}const Le=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},K_=/^\[(?:([a-z-]+):)?(.+)\]$/i,wD=/^\d+\/\d+$/,bD=new Set(["px","full","screen"]),xD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ED=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=n=>au(n)||bD.has(n)||wD.test(n),lo=n=>Gd(n,"length",DD),au=n=>!!n&&!Number.isNaN(Number(n)),s0=n=>Gd(n,"number",au),rh=n=>!!n&&Number.isInteger(Number(n)),_D=n=>n.endsWith("%")&&au(n.slice(0,-1)),ce=n=>K_.test(n),co=n=>xD.test(n),TD=new Set(["length","size","percentage"]),kD=n=>Gd(n,TD,Q_),PD=n=>Gd(n,"position",Q_),RD=new Set(["image","url"]),MD=n=>Gd(n,RD,ID),ND=n=>Gd(n,"",LD),oh=()=>!0,Gd=(n,e,t)=>{const i=K_.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},DD=n=>AD.test(n)&&!SD.test(n),Q_=()=>!1,LD=n=>ED.test(n),ID=n=>CD.test(n),OD=()=>{const n=Le("colors"),e=Le("spacing"),t=Le("blur"),i=Le("brightness"),s=Le("borderColor"),r=Le("borderRadius"),o=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),u=Le("grayscale"),d=Le("hueRotate"),h=Le("invert"),f=Le("gap"),p=Le("gradientColorStops"),v=Le("gradientColorStopPositions"),g=Le("inset"),b=Le("margin"),y=Le("opacity"),w=Le("padding"),x=Le("saturate"),E=Le("scale"),_=Le("sepia"),T=Le("skew"),k=Le("space"),R=Le("translate"),M=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ce,e],O=()=>[ce,e],G=()=>["",qs,lo],F=()=>["auto",au,ce],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ce],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[au,ce];return{cacheSize:500,separator:":",theme:{colors:[oh],spacing:[qs,lo],blur:["none","",co,ce],brightness:te(),borderColor:[n],borderRadius:["none","","full",co,ce],borderSpacing:O(),borderWidth:G(),contrast:te(),grayscale:I(),hueRotate:te(),invert:I(),gap:O(),gradientColorStops:[n],gradientColorStopPositions:[_D,lo],inset:L(),margin:L(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:I(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[co]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ce]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rh,ce]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",rh,ce]}],"grid-cols":[{"grid-cols":[oh]}],"col-start-end":[{col:["auto",{span:["full",rh,ce]},ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[oh]}],"row-start-end":[{row:["auto",{span:[rh,ce]},ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[co]},co]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",co,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s0]}],"font-family":[{font:[oh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",au,s0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qs,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qs,lo]}],"underline-offset":[{"underline-offset":["auto",qs,ce]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),PD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MD]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[qs,ce]}],"outline-w":[{outline:[qs,lo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[qs,lo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",co,ND]}],"shadow-color":[{shadow:[oh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",co,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[rh,ce]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[qs,lo,s0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FD=vD(OD);function Gs(...n){return FD(B_(n))}const jD=$N,Z_=P.forwardRef(({className:n,...e},t)=>C.jsx(N_,{ref:t,className:Gs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Z_.displayName=N_.displayName;const BD=z_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J_=P.forwardRef(({className:n,variant:e,...t},i)=>C.jsx(D_,{ref:i,className:Gs(BD({variant:e}),n),...t}));J_.displayName=D_.displayName;const zD=P.forwardRef(({className:n,...e},t)=>C.jsx(O_,{ref:t,className:Gs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));zD.displayName=O_.displayName;const eT=P.forwardRef(({className:n,...e},t)=>C.jsx(F_,{ref:t,className:Gs("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:C.jsx(G_,{className:"h-4 w-4"})}));eT.displayName=F_.displayName;const tT=P.forwardRef(({className:n,...e},t)=>C.jsx(L_,{ref:t,className:Gs("text-sm font-semibold",n),...e}));tT.displayName=L_.displayName;const nT=P.forwardRef(({className:n,...e},t)=>C.jsx(I_,{ref:t,className:Gs("text-sm opacity-90",n),...e}));nT.displayName=I_.displayName;function $D(){const{toasts:n}=d_();return C.jsxs(jD,{children:[n.map(function({id:e,title:t,description:i,action:s,...r}){return C.jsxs(J_,{...r,children:[C.jsxs("div",{className:"grid gap-1",children:[t&&C.jsx(tT,{children:t}),i&&C.jsx(nT,{children:i})]}),s,C.jsx(eT,{})]},e)}),C.jsx(Z_,{})]})}var HA=["light","dark"],HD="(prefers-color-scheme: dark)",UD=P.createContext(void 0),VD={setTheme:n=>{},themes:[]},WD=()=>{var n;return(n=P.useContext(UD))!=null?n:VD};P.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:s,defaultTheme:r,value:o,attrs:l,nonce:c})=>{let u=r==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?HA.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,b=!0)=>{let y=o?o[v]:v,w=g?v+"|| ''":`'${y}'`,x="";return s&&b&&!g&&HA.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),t==="class"?g||y?x+=`c.add(${w})`:x+="null":y&&(x+=`d[s](n,${w})`),x},p=n?`!function(){${d}${f(n)}}()`:i?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${HD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(r,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(r,!1,!1)};}${h}}catch(t){}}();`;return P.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var GD=n=>{switch(n){case"success":return YD;case"info":return QD;case"warning":return KD;case"error":return ZD;default:return null}},XD=Array(12).fill(0),qD=({visible:n,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},H.createElement("div",{className:"sonner-spinner"},XD.map((t,i)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),YD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eL=()=>{let[n,e]=H.useState(document.hidden);return H.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},fw=1,tL=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:fw++,r=this.toasts.find(l=>l.id===s),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...n,id:s,title:t}),{...l,...n,id:s,dismissible:o,title:t}):l):this.addToast({title:t,...i,dismissible:o,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),s=t!==void 0,r,o=i.then(async c=>{if(r=["resolve",c],H.isValidElement(c))s=!1,this.create({id:t,type:"default",message:c});else if(iL(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(r=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>r[0]==="reject"?u(r[1]):c(r[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:l}:Object.assign(t,{unwrap:l})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||fw++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xn=new tL,nL=(n,e)=>{let t=(e==null?void 0:e.id)||fw++;return xn.addToast({title:n,...e,id:t}),t},iL=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",sL=nL,rL=()=>xn.toasts,oL=()=>xn.getActiveToasts();Object.assign(sL,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:rL,getToasts:oL});function aL(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}aL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rm(n){return n.label!==void 0}var lL=3,cL="32px",uL="16px",UA=4e3,dL=356,hL=14,fL=20,pL=200;function Ii(...n){return n.filter(Boolean).join(" ")}function mL(n){let[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}var gL=n=>{var e,t,i,s,r,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:v,interacting:g,setHeights:b,visibleToasts:y,heights:w,index:x,toasts:E,expanded:_,removeToast:T,defaultRichColors:k,closeButton:R,style:M,cancelButtonStyle:N,actionButtonStyle:L,className:O="",descriptionClassName:G="",duration:F,position:X,gap:B,loadingIcon:j,expandByDefault:D,classNames:I,icons:U,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:V}=n,[K,se]=H.useState(null),[we,_e]=H.useState(null),[ne,as]=H.useState(!1),[oi,Pi]=H.useState(!1),[Ht,mn]=H.useState(!1),[Ri,Cc]=H.useState(!1),[Ev,cm]=H.useState(!1),[Cv,Yd]=H.useState(0),[_c,y1]=H.useState(0),Kd=H.useRef(p.duration||F||UA),v1=H.useRef(null),Ba=H.useRef(null),a2=x===0,l2=x+1<=y,ai=p.type,Tc=p.dismissible!==!1,c2=p.className||"",u2=p.descriptionClassName||"",um=H.useMemo(()=>w.findIndex(ae=>ae.toastId===p.id)||0,[w,p.id]),d2=H.useMemo(()=>{var ae;return(ae=p.closeButton)!=null?ae:R},[p.closeButton,R]),w1=H.useMemo(()=>p.duration||F||UA,[p.duration,F]),_v=H.useRef(0),kc=H.useRef(0),b1=H.useRef(0),Pc=H.useRef(null),[h2,f2]=X.split("-"),x1=H.useMemo(()=>w.reduce((ae,Te,je)=>je>=um?ae:ae+Te.height,0),[w,um]),A1=eL(),p2=p.invert||f,Tv=ai==="loading";kc.current=H.useMemo(()=>um*B+x1,[um,x1]),H.useEffect(()=>{Kd.current=w1},[w1]),H.useEffect(()=>{as(!0)},[]),H.useEffect(()=>{let ae=Ba.current;if(ae){let Te=ae.getBoundingClientRect().height;return y1(Te),b(je=>[{toastId:p.id,height:Te,position:p.position},...je]),()=>b(je=>je.filter(Mi=>Mi.toastId!==p.id))}},[b,p.id]),H.useLayoutEffect(()=>{if(!ne)return;let ae=Ba.current,Te=ae.style.height;ae.style.height="auto";let je=ae.getBoundingClientRect().height;ae.style.height=Te,y1(je),b(Mi=>Mi.find(Ni=>Ni.toastId===p.id)?Mi.map(Ni=>Ni.toastId===p.id?{...Ni,height:je}:Ni):[{toastId:p.id,height:je,position:p.position},...Mi])},[ne,p.title,p.description,b,p.id]);let so=H.useCallback(()=>{Pi(!0),Yd(kc.current),b(ae=>ae.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{T(p)},pL)},[p,T,b,kc]);H.useEffect(()=>{if(p.promise&&ai==="loading"||p.duration===1/0||p.type==="loading")return;let ae;return _||g||V&&A1?(()=>{if(b1.current<_v.current){let Te=new Date().getTime()-_v.current;Kd.current=Kd.current-Te}b1.current=new Date().getTime()})():Kd.current!==1/0&&(_v.current=new Date().getTime(),ae=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),so()},Kd.current)),()=>clearTimeout(ae)},[_,g,p,ai,V,A1,so]),H.useEffect(()=>{p.delete&&so()},[so,p.delete]);function m2(){var ae,Te,je;return U!=null&&U.loading?H.createElement("div",{className:Ii(I==null?void 0:I.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":ai==="loading"},U.loading):j?H.createElement("div",{className:Ii(I==null?void 0:I.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":ai==="loading"},j):H.createElement(qD,{className:Ii(I==null?void 0:I.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:ai==="loading"})}return H.createElement("li",{tabIndex:0,ref:Ba,className:Ii(O,c2,I==null?void 0:I.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,I==null?void 0:I.default,I==null?void 0:I[ai],(t=p==null?void 0:p.classNames)==null?void 0:t[ai]),"data-sonner-toast":"","data-rich-colors":(i=p.richColors)!=null?i:k,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":ne,"data-promise":!!p.promise,"data-swiped":Ev,"data-removed":oi,"data-visible":l2,"data-y-position":h2,"data-x-position":f2,"data-index":x,"data-front":a2,"data-swiping":Ht,"data-dismissible":Tc,"data-type":ai,"data-invert":p2,"data-swipe-out":Ri,"data-swipe-direction":we,"data-expanded":!!(_||D&&ne),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${oi?Cv:kc.current}px`,"--initial-height":D?"auto":`${_c}px`,...M,...p.style},onDragEnd:()=>{mn(!1),se(null),Pc.current=null},onPointerDown:ae=>{Tv||!Tc||(v1.current=new Date,Yd(kc.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(mn(!0),Pc.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Te,je,Mi;if(Ri||!Tc)return;Pc.current=null;let Ni=Number(((ae=Ba.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ro=Number(((Te=Ba.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),za=new Date().getTime()-((je=v1.current)==null?void 0:je.getTime()),Di=K==="x"?Ni:ro,oo=Math.abs(Di)/za;if(Math.abs(Di)>=fL||oo>.11){Yd(kc.current),(Mi=p.onDismiss)==null||Mi.call(p,p),_e(K==="x"?Ni>0?"right":"left":ro>0?"down":"up"),so(),Cc(!0),cm(!1);return}mn(!1),se(null)},onPointerMove:ae=>{var Te,je,Mi,Ni;if(!Pc.current||!Tc||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let ro=ae.clientY-Pc.current.y,za=ae.clientX-Pc.current.x,Di=(je=n.swipeDirections)!=null?je:mL(X);!K&&(Math.abs(za)>1||Math.abs(ro)>1)&&se(Math.abs(za)>Math.abs(ro)?"x":"y");let oo={x:0,y:0};K==="y"?(Di.includes("top")||Di.includes("bottom"))&&(Di.includes("top")&&ro<0||Di.includes("bottom")&&ro>0)&&(oo.y=ro):K==="x"&&(Di.includes("left")||Di.includes("right"))&&(Di.includes("left")&&za<0||Di.includes("right")&&za>0)&&(oo.x=za),(Math.abs(oo.x)>0||Math.abs(oo.y)>0)&&cm(!0),(Mi=Ba.current)==null||Mi.style.setProperty("--swipe-amount-x",`${oo.x}px`),(Ni=Ba.current)==null||Ni.style.setProperty("--swipe-amount-y",`${oo.y}px`)}},d2&&!p.jsx?H.createElement("button",{"aria-label":te,"data-disabled":Tv,"data-close-button":!0,onClick:Tv||!Tc?()=>{}:()=>{var ae;so(),(ae=p.onDismiss)==null||ae.call(p,p)},className:Ii(I==null?void 0:I.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(r=U==null?void 0:U.close)!=null?r:JD):null,p.jsx||P.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,ai||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:Ii(I==null?void 0:I.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||m2():null,p.type!=="loading"?p.icon||(U==null?void 0:U[ai])||GD(ai):null):null,H.createElement("div",{"data-content":"",className:Ii(I==null?void 0:I.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:Ii(I==null?void 0:I.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:Ii(G,u2,I==null?void 0:I.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),P.isValidElement(p.cancel)?p.cancel:p.cancel&&Rm(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:ae=>{var Te,je;Rm(p.cancel)&&Tc&&((je=(Te=p.cancel).onClick)==null||je.call(Te,ae),so())},className:Ii(I==null?void 0:I.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,P.isValidElement(p.action)?p.action:p.action&&Rm(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:ae=>{var Te,je;Rm(p.action)&&((je=(Te=p.action).onClick)==null||je.call(Te,ae),!ae.defaultPrevented&&so())},className:Ii(I==null?void 0:I.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function VA(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function yL(n,e){let t={};return[n,e].forEach((i,s)=>{let r=s===1,o=r?"--mobile-offset":"--offset",l=r?uL:cL;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?t[`${o}-${u}`]=l:t[`${o}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(l)}),t}var vL=P.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:v=lL,toastOptions:g,dir:b=VA(),gap:y=hL,loadingIcon:w,icons:x,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:_}=n,[T,k]=H.useState([]),R=H.useMemo(()=>Array.from(new Set([i].concat(T.filter(V=>V.position).map(V=>V.position)))),[T,i]),[M,N]=H.useState([]),[L,O]=H.useState(!1),[G,F]=H.useState(!1),[X,B]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=H.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=H.useRef(null),U=H.useRef(!1),te=H.useCallback(V=>{k(K=>{var se;return(se=K.find(we=>we.id===V.id))!=null&&se.delete||xn.dismiss(V.id),K.filter(({id:we})=>we!==V.id)})},[]);return H.useEffect(()=>xn.subscribe(V=>{if(V.dismiss){k(K=>K.map(se=>se.id===V.id?{...se,delete:!0}:se));return}setTimeout(()=>{c_.flushSync(()=>{k(K=>{let se=K.findIndex(we=>we.id===V.id);return se!==-1?[...K.slice(0,se),{...K[se],...V},...K.slice(se+1)]:[V,...K]})})})}),[]),H.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:K})=>{B(K?"dark":"light")})}catch{V.addListener(({matches:se})=>{try{B(se?"dark":"light")}catch(we){console.error(we)}})}},[d]),H.useEffect(()=>{T.length<=1&&O(!1)},[T]),H.useEffect(()=>{let V=K=>{var se,we;s.every(_e=>K[_e]||K.code===_e)&&(O(!0),(se=j.current)==null||se.focus()),K.code==="Escape"&&(document.activeElement===j.current||(we=j.current)!=null&&we.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),H.useEffect(()=>{if(j.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,U.current=!1)}},[j.current]),H.createElement("section",{ref:e,"aria-label":`${E} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((V,K)=>{var se;let[we,_e]=V.split("-");return T.length?H.createElement("ol",{key:V,dir:b==="auto"?VA():b,tabIndex:-1,ref:j,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":we,"data-lifted":L&&T.length>1&&!r,"data-x-position":_e,style:{"--front-toast-height":`${((se=M[0])==null?void 0:se.height)||0}px`,"--width":`${dL}px`,"--gap":`${y}px`,...p,...yL(c,u)},onBlur:ne=>{U.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(U.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||U.current||(U.current=!0,I.current=ne.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{G||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},T.filter(ne=>!ne.position&&K===0||ne.position===V).map((ne,as)=>{var oi,Pi;return H.createElement(gL,{key:ne.id,icons:x,index:as,toast:ne,defaultRichColors:h,duration:(oi=g==null?void 0:g.duration)!=null?oi:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:v,closeButton:(Pi=g==null?void 0:g.closeButton)!=null?Pi:o,interacting:G,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:T.filter(Ht=>Ht.position==ne.position),heights:M.filter(Ht=>Ht.position==ne.position),setHeights:N,expandByDefault:r,gap:y,loadingIcon:w,expanded:L,pauseWhenPageIsHidden:_,swipeDirections:n.swipeDirections})})):null}))});const wL=({...n})=>{const{theme:e="system"}=WD();return C.jsx(vL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},bL=["top","right","bottom","left"],Ra=Math.min,Qn=Math.max,ry=Math.round,Mm=Math.floor,Hs=n=>({x:n,y:n}),xL={left:"right",right:"left",bottom:"top",top:"bottom"},AL={start:"end",end:"start"};function pw(n,e,t){return Qn(n,Ra(e,t))}function Zr(n,e){return typeof n=="function"?n(e):n}function Jr(n){return n.split("-")[0]}function Xd(n){return n.split("-")[1]}function Ux(n){return n==="x"?"y":"x"}function Vx(n){return n==="y"?"height":"width"}const SL=new Set(["top","bottom"]);function Bs(n){return SL.has(Jr(n))?"y":"x"}function Wx(n){return Ux(Bs(n))}function EL(n,e,t){t===void 0&&(t=!1);const i=Xd(n),s=Wx(n),r=Vx(s);let o=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=oy(o)),[o,oy(o)]}function CL(n){const e=oy(n);return[mw(n),e,mw(e)]}function mw(n){return n.replace(/start|end/g,e=>AL[e])}const WA=["left","right"],GA=["right","left"],_L=["top","bottom"],TL=["bottom","top"];function kL(n,e,t){switch(n){case"top":case"bottom":return t?e?GA:WA:e?WA:GA;case"left":case"right":return e?_L:TL;default:return[]}}function PL(n,e,t,i){const s=Xd(n);let r=kL(Jr(n),t==="start",i);return s&&(r=r.map(o=>o+"-"+s),e&&(r=r.concat(r.map(mw)))),r}function oy(n){return n.replace(/left|right|bottom|top/g,e=>xL[e])}function RL(n){return{top:0,right:0,bottom:0,left:0,...n}}function iT(n){return typeof n!="number"?RL(n):{top:n,right:n,bottom:n,left:n}}function ay(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function XA(n,e,t){let{reference:i,floating:s}=n;const r=Bs(e),o=Wx(e),l=Vx(o),c=Jr(e),u=r==="y",d=i.x+i.width/2-s.width/2,h=i.y+i.height/2-s.height/2,f=i[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:i.y-s.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-s.width,y:h};break;default:p={x:i.x,y:i.y}}switch(Xd(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const ML=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=t,l=r.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=XA(u,i,c),f=i,p={},v=0;for(let g=0;g<l.length;g++){const{name:b,fn:y}=l[g],{x:w,y:x,data:E,reset:_}=await y({x:d,y:h,initialPlacement:i,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=w??d,h=x??h,p={...p,[b]:{...p[b],...E}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):_.rects),{x:d,y:h}=XA(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function cf(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:o,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Zr(e,n),v=iT(p),b=l[f?h==="floating"?"reference":"floating":h],y=ay(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(b)))==null||t?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),E=await(r.isElement==null?void 0:r.isElement(x))?await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1}:{x:1,y:1},_=ay(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:x,strategy:c}):w);return{top:(y.top-_.top+v.top)/E.y,bottom:(_.bottom-y.bottom+v.bottom)/E.y,left:(y.left-_.left+v.left)/E.x,right:(_.right-y.right+v.right)/E.x}}const NL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:s,rects:r,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Zr(n,e)||{};if(u==null)return{};const h=iT(d),f={x:t,y:i},p=Wx(s),v=Vx(p),g=await o.getDimensions(u),b=p==="y",y=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",E=r.reference[v]+r.reference[p]-f[p]-r.floating[v],_=f[p]-r.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=T?T[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=l.floating[x]||r.floating[v]);const R=E/2-_/2,M=k/2-g[v]/2-1,N=Ra(h[y],M),L=Ra(h[w],M),O=N,G=k-g[v]-L,F=k/2-g[v]/2+R,X=pw(O,F,G),B=!c.arrow&&Xd(s)!=null&&F!==X&&r.reference[v]/2-(F<O?N:L)-g[v]/2<0,j=B?F<O?F-O:F-G:0;return{[p]:f[p]+j,data:{[p]:X,centerOffset:F-X-j,...B&&{alignmentOffset:j}},reset:B}}}),DL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Zr(n,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const y=Jr(s),w=Bs(l),x=Jr(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(x||!g?[oy(l)]:CL(l)),T=v!=="none";!f&&T&&_.push(...PL(l,g,v,E));const k=[l,..._],R=await cf(e,b),M=[];let N=((i=r.flip)==null?void 0:i.overflows)||[];if(d&&M.push(R[y]),h){const F=EL(s,o,E);M.push(R[F[0]],R[F[1]])}if(N=[...N,{placement:s,overflows:M}],!M.every(F=>F<=0)){var L,O;const F=(((L=r.flip)==null?void 0:L.index)||0)+1,X=k[F];if(X&&(!(h==="alignment"?w!==Bs(X):!1)||N.every(D=>D.overflows[0]>0&&Bs(D.placement)===w)))return{data:{index:F,overflows:N},reset:{placement:X}};let B=(O=N.filter(j=>j.overflows[0]<=0).sort((j,D)=>j.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(p){case"bestFit":{var G;const j=(G=N.filter(D=>{if(T){const I=Bs(D.placement);return I===w||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:G[0];j&&(B=j);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function qA(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function YA(n){return bL.some(e=>n[e]>=0)}const LL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...s}=Zr(n,e);switch(i){case"referenceHidden":{const r=await cf(e,{...s,elementContext:"reference"}),o=qA(r,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YA(o)}}}case"escaped":{const r=await cf(e,{...s,altBoundary:!0}),o=qA(r,t.floating);return{data:{escapedOffsets:o,escaped:YA(o)}}}default:return{}}}}},sT=new Set(["left","top"]);async function IL(n,e){const{placement:t,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=Jr(t),l=Xd(t),c=Bs(t)==="y",u=sT.has(o)?-1:1,d=r&&c?-1:1,h=Zr(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const OL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:r,placement:o,middlewareData:l}=e,c=await IL(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:r+c.y,data:{...c,placement:o}}}}},FL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=Zr(n,e),u={x:t,y:i},d=await cf(e,c),h=Bs(Jr(s)),f=Ux(h);let p=u[f],v=u[h];if(r){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=p+d[b],x=p-d[y];p=pw(w,p,x)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=v+d[b],x=v-d[y];v=pw(w,v,x)}const g=l.fn({...e,[f]:p,[h]:v});return{...g,data:{x:g.x-t,y:g.y-i,enabled:{[f]:r,[h]:o}}}}}},jL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:s,rects:r,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zr(n,e),d={x:t,y:i},h=Bs(s),f=Ux(h);let p=d[f],v=d[h];const g=Zr(l,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=f==="y"?"height":"width",E=r.reference[f]-r.floating[x]+b.mainAxis,_=r.reference[f]+r.reference[x]-b.mainAxis;p<E?p=E:p>_&&(p=_)}if(u){var y,w;const x=f==="y"?"width":"height",E=sT.has(Jr(s)),_=r.reference[h]-r.floating[x]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:b.crossAxis),T=r.reference[h]+r.reference[x]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?b.crossAxis:0);v<_?v=_:v>T&&(v=T)}return{[f]:p,[h]:v}}}},BL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:s,rects:r,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Zr(n,e),d=await cf(e,u),h=Jr(s),f=Xd(s),p=Bs(s)==="y",{width:v,height:g}=r.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,x=v-d.left-d.right,E=Ra(g-d[b],w),_=Ra(v-d[y],x),T=!e.middlewareData.shift;let k=E,R=_;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=x),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=w),T&&!f){const N=Qn(d.left,0),L=Qn(d.right,0),O=Qn(d.top,0),G=Qn(d.bottom,0);p?R=v-2*(N!==0||L!==0?N+L:Qn(d.left,d.right)):k=g-2*(O!==0||G!==0?O+G:Qn(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:k});const M=await o.getDimensions(l.floating);return v!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function av(){return typeof window<"u"}function qd(n){return rT(n)?(n.nodeName||"").toLowerCase():"#document"}function ti(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Xs(n){var e;return(e=(rT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function rT(n){return av()?n instanceof Node||n instanceof ti(n).Node:!1}function ss(n){return av()?n instanceof Element||n instanceof ti(n).Element:!1}function Us(n){return av()?n instanceof HTMLElement||n instanceof ti(n).HTMLElement:!1}function KA(n){return!av()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ti(n).ShadowRoot}const zL=new Set(["inline","contents"]);function nm(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!zL.has(s)}const $L=new Set(["table","td","th"]);function HL(n){return $L.has(qd(n))}const UL=[":popover-open",":modal"];function lv(n){return UL.some(e=>{try{return n.matches(e)}catch{return!1}})}const VL=["transform","translate","scale","rotate","perspective"],WL=["transform","translate","scale","rotate","perspective","filter"],GL=["paint","layout","strict","content"];function Gx(n){const e=Xx(),t=ss(n)?rs(n):n;return VL.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||WL.some(i=>(t.willChange||"").includes(i))||GL.some(i=>(t.contain||"").includes(i))}function XL(n){let e=Ma(n);for(;Us(e)&&!$d(e);){if(Gx(e))return e;if(lv(e))return null;e=Ma(e)}return null}function Xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qL=new Set(["html","body","#document"]);function $d(n){return qL.has(qd(n))}function rs(n){return ti(n).getComputedStyle(n)}function cv(n){return ss(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ma(n){if(qd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||KA(n)&&n.host||Xs(n);return KA(e)?e.host:e}function oT(n){const e=Ma(n);return $d(e)?n.ownerDocument?n.ownerDocument.body:n.body:Us(e)&&nm(e)?e:oT(e)}function uf(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=oT(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),o=ti(s);if(r){const l=gw(o);return e.concat(o,o.visualViewport||[],nm(s)?s:[],l&&t?uf(l):[])}return e.concat(s,uf(s,[],t))}function gw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function aT(n){const e=rs(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Us(n),r=s?n.offsetWidth:t,o=s?n.offsetHeight:i,l=ry(t)!==r||ry(i)!==o;return l&&(t=r,i=o),{width:t,height:i,$:l}}function qx(n){return ss(n)?n:n.contextElement}function lu(n){const e=qx(n);if(!Us(e))return Hs(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:r}=aT(e);let o=(r?ry(t.width):t.width)/i,l=(r?ry(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const YL=Hs(0);function lT(n){const e=ti(n);return!Xx()||!e.visualViewport?YL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ti(n)?!1:e}function gc(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),r=qx(n);let o=Hs(1);e&&(i?ss(i)&&(o=lu(i)):o=lu(n));const l=KL(r,t,i)?lT(r):Hs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(r){const f=ti(r),p=i&&ss(i)?ti(i):i;let v=f,g=gw(v);for(;g&&i&&p!==v;){const b=lu(g),y=g.getBoundingClientRect(),w=rs(g),x=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*b.x,E=y.top+(g.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=E,v=ti(g),g=gw(v)}}return ay({width:d,height:h,x:c,y:u})}function Yx(n,e){const t=cv(n).scrollLeft;return e?e.left+t:gc(Xs(n)).left+t}function cT(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=i.left+e.scrollLeft-(t?0:Yx(n,i)),r=i.top+e.scrollTop;return{x:s,y:r}}function QL(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const r=s==="fixed",o=Xs(i),l=e?lv(e.floating):!1;if(i===o||l&&r)return t;let c={scrollLeft:0,scrollTop:0},u=Hs(1);const d=Hs(0),h=Us(i);if((h||!h&&!r)&&((qd(i)!=="body"||nm(o))&&(c=cv(i)),Us(i))){const p=gc(i);u=lu(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}const f=o&&!h&&!r?cT(o,c,!0):Hs(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function ZL(n){return Array.from(n.getClientRects())}function JL(n){const e=Xs(n),t=cv(n),i=n.ownerDocument.body,s=Qn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=Qn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+Yx(n);const l=-t.scrollTop;return rs(i).direction==="rtl"&&(o+=Qn(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:l}}function eI(n,e){const t=ti(n),i=Xs(n),s=t.visualViewport;let r=i.clientWidth,o=i.clientHeight,l=0,c=0;if(s){r=s.width,o=s.height;const u=Xx();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:r,height:o,x:l,y:c}}const tI=new Set(["absolute","fixed"]);function nI(n,e){const t=gc(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,r=Us(n)?lu(n):Hs(1),o=n.clientWidth*r.x,l=n.clientHeight*r.y,c=s*r.x,u=i*r.y;return{width:o,height:l,x:c,y:u}}function QA(n,e,t){let i;if(e==="viewport")i=eI(n,t);else if(e==="document")i=JL(Xs(n));else if(ss(e))i=nI(e,t);else{const s=lT(n);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ay(i)}function uT(n,e){const t=Ma(n);return t===e||!ss(t)||$d(t)?!1:rs(t).position==="fixed"||uT(t,e)}function iI(n,e){const t=e.get(n);if(t)return t;let i=uf(n,[],!1).filter(l=>ss(l)&&qd(l)!=="body"),s=null;const r=rs(n).position==="fixed";let o=r?Ma(n):n;for(;ss(o)&&!$d(o);){const l=rs(o),c=Gx(o);!c&&l.position==="fixed"&&(s=null),(r?!c&&!s:!c&&l.position==="static"&&!!s&&tI.has(s.position)||nm(o)&&!c&&uT(n,o))?i=i.filter(d=>d!==o):s=l,o=Ma(o)}return e.set(n,i),i}function sI(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const o=[...t==="clippingAncestors"?lv(e)?[]:iI(e,this._c):[].concat(t),i],l=o[0],c=o.reduce((u,d)=>{const h=QA(e,d,s);return u.top=Qn(h.top,u.top),u.right=Ra(h.right,u.right),u.bottom=Ra(h.bottom,u.bottom),u.left=Qn(h.left,u.left),u},QA(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rI(n){const{width:e,height:t}=aT(n);return{width:e,height:t}}function oI(n,e,t){const i=Us(e),s=Xs(e),r=t==="fixed",o=gc(n,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=Hs(0);function u(){c.x=Yx(s)}if(i||!i&&!r)if((qd(e)!=="body"||nm(s))&&(l=cv(e)),i){const p=gc(e,!0,r,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();r&&!i&&s&&u();const d=s&&!i&&!r?cT(s,l):Hs(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function r0(n){return rs(n).position==="static"}function ZA(n,e){if(!Us(n)||rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Xs(n)===t&&(t=t.ownerDocument.body),t}function dT(n,e){const t=ti(n);if(lv(n))return t;if(!Us(n)){let s=Ma(n);for(;s&&!$d(s);){if(ss(s)&&!r0(s))return s;s=Ma(s)}return t}let i=ZA(n,e);for(;i&&HL(i)&&r0(i);)i=ZA(i,e);return i&&$d(i)&&r0(i)&&!Gx(i)?t:i||XL(n)||t}const aI=async function(n){const e=this.getOffsetParent||dT,t=this.getDimensions,i=await t(n.floating);return{reference:oI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function lI(n){return rs(n).direction==="rtl"}const cI={convertOffsetParentRelativeRectToViewportRelativeRect:QL,getDocumentElement:Xs,getClippingRect:sI,getOffsetParent:dT,getElementRects:aI,getClientRects:ZL,getDimensions:rI,getScale:lu,isElement:ss,isRTL:lI};function hT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function uI(n,e){let t=null,i;const s=Xs(n);function r(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),r();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||e(),!f||!p)return;const v=Mm(h),g=Mm(s.clientWidth-(d+f)),b=Mm(s.clientHeight-(h+p)),y=Mm(d),x={rootMargin:-v+"px "+-g+"px "+-b+"px "+-y+"px",threshold:Qn(0,Ra(1,c))||1};let E=!0;function _(T){const k=T[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):i=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!hT(u,n.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{t=new IntersectionObserver(_,x)}t.observe(n)}return o(!0),r}function dI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=qx(n),d=s||r?[...u?uf(u):[],...uf(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",t,{passive:!0}),r&&y.addEventListener("resize",t)});const h=u&&l?uI(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let v,g=c?gc(n):null;c&&b();function b(){const y=gc(n);g&&!hT(g,y)&&t(),g=y,v=requestAnimationFrame(b)}return t(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",t),r&&w.removeEventListener("resize",t)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const hI=OL,fI=FL,pI=DL,mI=BL,gI=LL,JA=NL,yI=jL,vI=(n,e,t)=>{const i=new Map,s={platform:cI,...t},r={...s.platform,_c:i};return ML(n,e,{...s,platform:r})};var wI=typeof document<"u",bI=function(){},tg=wI?P.useLayoutEffect:bI;function ly(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!ly(n[i],e[i]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!ly(n[r],e[r]))return!1}return!0}return n!==n&&e!==e}function fT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function eS(n,e){const t=fT(n);return Math.round(e*t)/t}function o0(n){const e=P.useRef(n);return tg(()=>{e.current=n}),e}function xI(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[d,h]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=P.useState(i);ly(f,i)||p(i);const[v,g]=P.useState(null),[b,y]=P.useState(null),w=P.useCallback(D=>{D!==T.current&&(T.current=D,g(D))},[]),x=P.useCallback(D=>{D!==k.current&&(k.current=D,y(D))},[]),E=r||v,_=o||b,T=P.useRef(null),k=P.useRef(null),R=P.useRef(d),M=c!=null,N=o0(c),L=o0(s),O=o0(u),G=P.useCallback(()=>{if(!T.current||!k.current)return;const D={placement:e,strategy:t,middleware:f};L.current&&(D.platform=L.current),vI(T.current,k.current,D).then(I=>{const U={...I,isPositioned:O.current!==!1};F.current&&!ly(R.current,U)&&(R.current=U,em.flushSync(()=>{h(U)}))})},[f,e,t,L,O]);tg(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const F=P.useRef(!1);tg(()=>(F.current=!0,()=>{F.current=!1}),[]),tg(()=>{if(E&&(T.current=E),_&&(k.current=_),E&&_){if(N.current)return N.current(E,_,G);G()}},[E,_,G,N,M]);const X=P.useMemo(()=>({reference:T,floating:k,setReference:w,setFloating:x}),[w,x]),B=P.useMemo(()=>({reference:E,floating:_}),[E,_]),j=P.useMemo(()=>{const D={position:t,left:0,top:0};if(!B.floating)return D;const I=eS(B.floating,d.x),U=eS(B.floating,d.y);return l?{...D,transform:"translate("+I+"px, "+U+"px)",...fT(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:I,top:U}},[t,l,B.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:G,refs:X,elements:B,floatingStyles:j}),[d,G,X,B,j])}const AI=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:s}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?JA({element:i.current,padding:s}).fn(t):{}:i?JA({element:i,padding:s}).fn(t):{}}}},SI=(n,e)=>({...hI(n),options:[n,e]}),EI=(n,e)=>({...fI(n),options:[n,e]}),CI=(n,e)=>({...yI(n),options:[n,e]}),_I=(n,e)=>({...pI(n),options:[n,e]}),TI=(n,e)=>({...mI(n),options:[n,e]}),kI=(n,e)=>({...gI(n),options:[n,e]}),PI=(n,e)=>({...AI(n),options:[n,e]});var RI="Arrow",pT=P.forwardRef((n,e)=>{const{children:t,width:i=10,height:s=5,...r}=n;return C.jsx(Pn.svg,{...r,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});pT.displayName=RI;var MI=pT;function NI(n){const[e,t]=P.useState(void 0);return Pa(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let o,l;if("borderBoxSize"in r){const c=r.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var mT="Popper",[gT,yT]=sv(mT),[RB,vT]=gT(mT),wT="PopperAnchor",bT=P.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...s}=n,r=vT(wT,t),o=P.useRef(null),l=is(e,o);return P.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:C.jsx(Pn.div,{...s,ref:l})});bT.displayName=wT;var Kx="PopperContent",[DI,LI]=gT(Kx),xT=P.forwardRef((n,e)=>{var ne,as,oi,Pi,Ht,mn;const{__scopePopper:t,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=n,b=vT(Kx,t),[y,w]=P.useState(null),x=is(e,Ri=>w(Ri)),[E,_]=P.useState(null),T=NI(E),k=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,M=i+(r!=="center"?"-"+r:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],O=L.length>0,G={padding:N,boundary:L.filter(OI),altBoundary:O},{refs:F,floatingStyles:X,placement:B,isPositioned:j,middlewareData:D}=xI({strategy:"fixed",placement:M,whileElementsMounted:(...Ri)=>dI(...Ri,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[SI({mainAxis:s+R,alignmentAxis:o}),c&&EI({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?CI():void 0,...G}),c&&_I({...G}),TI({...G,apply:({elements:Ri,rects:Cc,availableWidth:Ev,availableHeight:cm})=>{const{width:Cv,height:Yd}=Cc.reference,_c=Ri.floating.style;_c.setProperty("--radix-popper-available-width",`${Ev}px`),_c.setProperty("--radix-popper-available-height",`${cm}px`),_c.setProperty("--radix-popper-anchor-width",`${Cv}px`),_c.setProperty("--radix-popper-anchor-height",`${Yd}px`)}}),E&&PI({element:E,padding:l}),FI({arrowWidth:k,arrowHeight:R}),f&&kI({strategy:"referenceHidden",...G})]}),[I,U]=ET(B),te=ka(v);Pa(()=>{j&&(te==null||te())},[j,te]);const V=(ne=D.arrow)==null?void 0:ne.x,K=(as=D.arrow)==null?void 0:as.y,se=((oi=D.arrow)==null?void 0:oi.centerOffset)!==0,[we,_e]=P.useState();return Pa(()=>{y&&_e(window.getComputedStyle(y).zIndex)},[y]),C.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:j?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Pi=D.transformOrigin)==null?void 0:Pi.x,(Ht=D.transformOrigin)==null?void 0:Ht.y].join(" "),...((mn=D.hide)==null?void 0:mn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(DI,{scope:t,placedSide:I,onArrowChange:_,arrowX:V,arrowY:K,shouldHideArrow:se,children:C.jsx(Pn.div,{"data-side":I,"data-align":U,...g,ref:x,style:{...g.style,animation:j?void 0:"none"}})})})});xT.displayName=Kx;var AT="PopperArrow",II={top:"bottom",right:"left",bottom:"top",left:"right"},ST=P.forwardRef(function(e,t){const{__scopePopper:i,...s}=e,r=LI(AT,i),o=II[r.placedSide];return C.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:C.jsx(MI,{...s,ref:t,style:{...s.style,display:"block"}})})});ST.displayName=AT;function OI(n){return n!==null}var FI=n=>({name:"transformOrigin",options:n,fn(e){var b,y,w;const{placement:t,rects:i,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=ET(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?h:`${f}px`,g=`${-c}px`):u==="top"?(v=o?h:`${f}px`,g=`${i.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?h:`${p}px`):u==="left"&&(v=`${i.floating.width+c}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function ET(n){const[e,t="center"]=n.split("-");return[e,t]}var jI=bT,BI=xT,zI=ST,[uv,MB]=sv("Tooltip",[yT]),Qx=yT(),CT="TooltipProvider",$I=700,tS="tooltip.open",[HI,_T]=uv(CT),TT=n=>{const{__scopeTooltip:e,delayDuration:t=$I,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,o=P.useRef(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),C.jsx(HI,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:r})};TT.displayName=CT;var kT="Tooltip",[NB,dv]=uv(kT),yw="TooltipTrigger",UI=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=dv(yw,t),r=_T(yw,t),o=Qx(t),l=P.useRef(null),c=is(e,l,s.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),h=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx(jI,{asChild:!0,...o,children:C.jsx(Pn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:c,onPointerMove:yt(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:yt(n.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:yt(n.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:yt(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:yt(n.onBlur,s.onClose),onClick:yt(n.onClick,s.onClose)})})});UI.displayName=yw;var VI="TooltipPortal",[DB,WI]=uv(VI,{forceMount:void 0}),Hd="TooltipContent",PT=P.forwardRef((n,e)=>{const t=WI(Hd,n.__scopeTooltip),{forceMount:i=t.forceMount,side:s="top",...r}=n,o=dv(Hd,n.__scopeTooltip);return C.jsx(jx,{present:i||o.open,children:o.disableHoverableContent?C.jsx(RT,{side:s,...r,ref:e}):C.jsx(GI,{side:s,...r,ref:e})})}),GI=P.forwardRef((n,e)=>{const t=dv(Hd,n.__scopeTooltip),i=_T(Hd,n.__scopeTooltip),s=P.useRef(null),r=is(e,s),[o,l]=P.useState(null),{trigger:c,onClose:u}=t,d=s.current,{onPointerInTransitChange:h}=i,f=P.useCallback(()=>{l(null),h(!1)},[h]),p=P.useCallback((v,g)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},w=QI(y,b.getBoundingClientRect()),x=ZI(y,w),E=JI(g.getBoundingClientRect()),_=tO([...x,...E]);l(_),h(!0)},[h]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(c&&d){const v=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),P.useEffect(()=>{if(o){const v=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!eO(y,o);w?f():x&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),C.jsx(RT,{...n,ref:r})}),[XI,qI]=uv(kT,{isInside:!1}),YI=ZM("TooltipContent"),RT=P.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:o,...l}=n,c=dv(Hd,t),u=Qx(t),{onClose:d}=c;return P.useEffect(()=>(document.addEventListener(tS,d),()=>document.removeEventListener(tS,d)),[d]),P.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),C.jsx(Fx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(BI,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(YI,{children:i}),C.jsx(XI,{scope:t,isInside:!0,children:C.jsx(SN,{id:c.contentId,role:"tooltip",children:s||i})})]})})});PT.displayName=Hd;var MT="TooltipArrow",KI=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=Qx(t);return qI(MT,t).isInside?null:C.jsx(zI,{...s,...i,ref:e})});KI.displayName=MT;function QI(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),r=Math.abs(e.left-n.x);switch(Math.min(t,i,s,r)){case r:return"left";case s:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function ZI(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function JI(n){const{top:e,right:t,bottom:i,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:i},{x:s,y:i}]}function eO(n,e){const{x:t,y:i}=n;let s=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const l=e[r],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>i!=f>i&&t<(h-u)*(i-d)/(f-d)+u&&(s=!s)}return s}function tO(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),nO(e)}function nO(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],o=t[t.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var iO=TT,NT=PT;const sO=iO,rO=P.forwardRef(({className:n,sideOffset:e=4,...t},i)=>C.jsx(NT,{ref:i,sideOffset:e,className:Gs("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));rO.displayName=NT.displayName;var hv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fv=typeof window>"u"||"Deno"in globalThis;function ji(){}function oO(n,e){return typeof n=="function"?n(e):n}function aO(n){return typeof n=="number"&&n>=0&&n!==1/0}function lO(n,e){return Math.max(n+(e||0)-Date.now(),0)}function vw(n,e){return typeof n=="function"?n(e):n}function cO(n,e){return typeof n=="function"?n(e):n}function nS(n,e){const{type:t="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:l}=n;if(o){if(i){if(e.queryHash!==Zx(o,e.options))return!1}else if(!hf(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||r&&!r(e))}function iS(n,e){const{exact:t,status:i,predicate:s,mutationKey:r}=n;if(r){if(!e.options.mutationKey)return!1;if(t){if(df(e.options.mutationKey)!==df(r))return!1}else if(!hf(e.options.mutationKey,r))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function Zx(n,e){return((e==null?void 0:e.queryKeyHashFn)||df)(n)}function df(n){return JSON.stringify(n,(e,t)=>ww(t)?Object.keys(t).sort().reduce((i,s)=>(i[s]=t[s],i),{}):t)}function hf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>hf(n[t],e[t])):!1}function DT(n,e){if(n===e)return n;const t=sS(n)&&sS(e);if(t||ww(n)&&ww(e)){const i=t?n:Object.keys(n),s=i.length,r=t?e:Object.keys(e),o=r.length,l=t?[]:{},c=new Set(i);let u=0;for(let d=0;d<o;d++){const h=t?d:r[d];(!t&&c.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=DT(n[h],e[h]),l[h]===n[h]&&n[h]!==void 0&&u++)}return s===o&&u===s?n:l}return e}function sS(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ww(n){if(!rS(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!rS(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function rS(n){return Object.prototype.toString.call(n)==="[object Object]"}function uO(n){return new Promise(e=>{setTimeout(e,n)})}function dO(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?DT(n,e):e}function hO(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function fO(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var Jx=Symbol();function LT(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Jx?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Za,vo,du,zS,pO=(zS=class extends hv{constructor(){super();A(this,Za);A(this,vo);A(this,du);m(this,du,e=>{if(!fv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){a(this,vo)||this.setEventListener(a(this,du))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,vo))==null||e.call(this),m(this,vo,void 0))}setEventListener(e){var t;m(this,du,e),(t=a(this,vo))==null||t.call(this),m(this,vo,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){a(this,Za)!==e&&(m(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof a(this,Za)=="boolean"?a(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,vo=new WeakMap,du=new WeakMap,zS),IT=new pO,hu,wo,fu,$S,mO=($S=class extends hv{constructor(){super();A(this,hu,!0);A(this,wo);A(this,fu);m(this,fu,e=>{if(!fv&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){a(this,wo)||this.setEventListener(a(this,fu))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,wo))==null||e.call(this),m(this,wo,void 0))}setEventListener(e){var t;m(this,fu,e),(t=a(this,wo))==null||t.call(this),m(this,wo,e(this.setOnline.bind(this)))}setOnline(e){a(this,hu)!==e&&(m(this,hu,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return a(this,hu)}},hu=new WeakMap,wo=new WeakMap,fu=new WeakMap,$S),cy=new mO;function gO(){let n,e;const t=new Promise((s,r)=>{n=s,e=r});t.status="pending",t.catch(()=>{});function i(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},t.reject=s=>{i({status:"rejected",reason:s}),e(s)},t}function yO(n){return Math.min(1e3*2**n,3e4)}function OT(n){return(n??"online")==="online"?cy.isOnline():!0}var FT=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function a0(n){return n instanceof FT}function jT(n){let e=!1,t=0,i=!1,s;const r=gO(),o=g=>{var b;i||(f(new FT(g)),(b=n.abort)==null||b.call(n))},l=()=>{e=!0},c=()=>{e=!1},u=()=>IT.isFocused()&&(n.networkMode==="always"||cy.isOnline())&&n.canRun(),d=()=>OT(n.networkMode)&&n.canRun(),h=g=>{var b;i||(i=!0,(b=n.onSuccess)==null||b.call(n,g),s==null||s(),r.resolve(g))},f=g=>{var b;i||(i=!0,(b=n.onError)==null||b.call(n,g),s==null||s(),r.reject(g))},p=()=>new Promise(g=>{var b;s=y=>{(i||u())&&g(y)},(b=n.onPause)==null||b.call(n)}).then(()=>{var g;s=void 0,i||(g=n.onContinue)==null||g.call(n)}),v=()=>{if(i)return;let g;const b=t===0?n.initialPromise:void 0;try{g=b??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var T;if(i)return;const w=n.retry??(fv?0:3),x=n.retryDelay??yO,E=typeof x=="function"?x(t,y):x,_=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,y);if(e||!_){f(y);return}t++,(T=n.onFail)==null||T.call(n,t,y),uO(E).then(()=>u()?void 0:p()).then(()=>{e?f(y):v()})})};return{promise:r,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),r)}}var vO=n=>setTimeout(n,0);function wO(){let n=[],e=0,t=l=>{l()},i=l=>{l()},s=vO;const r=l=>{e?n.push(l):s(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{r(()=>{l(...c)})},schedule:r,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var cn=wO(),Ja,HS,BT=(HS=class{constructor(){A(this,Ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aO(this.gcTime)&&m(this,Ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(fv?1/0:5*60*1e3))}clearGcTimeout(){a(this,Ja)&&(clearTimeout(a(this,Ja)),m(this,Ja,void 0))}},Ja=new WeakMap,HS),pu,el,ui,tl,Gt,yf,nl,Bi,Ys,US,bO=(US=class extends BT{constructor(e){super();A(this,Bi);A(this,pu);A(this,el);A(this,ui);A(this,tl);A(this,Gt);A(this,yf);A(this,nl);m(this,nl,!1),m(this,yf,e.defaultOptions),this.setOptions(e.options),this.observers=[],m(this,tl,e.client),m(this,ui,a(this,tl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,m(this,pu,AO(this.options)),this.state=e.state??a(this,pu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=a(this,Gt))==null?void 0:e.promise}setOptions(e){this.options={...a(this,yf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,ui).remove(this)}setData(e,t){const i=dO(this.state.data,e,this.options);return S(this,Bi,Ys).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){S(this,Bi,Ys).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,s;const t=(i=a(this,Gt))==null?void 0:i.promise;return(s=a(this,Gt))==null||s.cancel(e),t?t.then(ji).catch(ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,pu))}isActive(){return this.observers.some(e=>cO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lO(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,Gt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,Gt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),a(this,ui).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(a(this,Gt)&&(a(this,nl)?a(this,Gt).cancel({revert:!0}):a(this,Gt).cancelRetry()),this.scheduleGc()),a(this,ui).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||S(this,Bi,Ys).call(this,{type:"invalidate"})}fetch(e,t){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(a(this,Gt))return a(this,Gt).continueRetry(),a(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(m(this,nl,!0),i.signal)})},r=()=>{const f=LT(this.options,t),v=(()=>{const g={client:a(this,tl),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return m(this,nl,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:a(this,tl),state:this.state,fetchFn:r};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),m(this,el,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&S(this,Bi,Ys).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,v,g,b;a0(f)&&f.silent||S(this,Bi,Ys).call(this,{type:"error",error:f}),a0(f)||((v=(p=a(this,ui).config).onError)==null||v.call(p,f,this),(b=(g=a(this,ui).config).onSettled)==null||b.call(g,this.state.data,f,this)),this.scheduleGc()};return m(this,Gt,jT({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,v,g,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(v=(p=a(this,ui).config).onSuccess)==null||v.call(p,f,this),(b=(g=a(this,ui).config).onSettled)==null||b.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{S(this,Bi,Ys).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{S(this,Bi,Ys).call(this,{type:"pause"})},onContinue:()=>{S(this,Bi,Ys).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),a(this,Gt).start()}},pu=new WeakMap,el=new WeakMap,ui=new WeakMap,tl=new WeakMap,Gt=new WeakMap,yf=new WeakMap,nl=new WeakMap,Bi=new WeakSet,Ys=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...xO(i.data,this.options),fetchMeta:e.meta??null};case"success":return m(this,el,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return a0(s)&&s.revert&&a(this,el)?{...a(this,el),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),a(this,ui).notify({query:this,type:"updated",action:e})})},US);function xO(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function AO(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var fs,VS,SO=(VS=class extends hv{constructor(e={}){super();A(this,fs);this.config=e,m(this,fs,new Map)}build(e,t,i){const s=t.queryKey,r=t.queryHash??Zx(s,t);let o=this.get(r);return o||(o=new bO({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){a(this,fs).has(e.queryHash)||(a(this,fs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=a(this,fs).get(e.queryHash);t&&(e.destroy(),t===e&&a(this,fs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,fs).get(e)}getAll(){return[...a(this,fs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>nS(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>nS(e,i)):t}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fs=new WeakMap,VS),ps,en,il,ms,uo,WS,EO=(WS=class extends BT{constructor(e){super();A(this,ms);A(this,ps);A(this,en);A(this,il);this.mutationId=e.mutationId,m(this,en,e.mutationCache),m(this,ps,[]),this.state=e.state||CO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){a(this,ps).includes(e)||(a(this,ps).push(e),this.clearGcTimeout(),a(this,en).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){m(this,ps,a(this,ps).filter(t=>t!==e)),this.scheduleGc(),a(this,en).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){a(this,ps).length||(this.state.status==="pending"?this.scheduleGc():a(this,en).remove(this))}continue(){var e;return((e=a(this,il))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,o,l,c,u,d,h,f,p,v,g,b,y,w,x,E,_,T,k,R;const t=()=>{S(this,ms,uo).call(this,{type:"continue"})};m(this,il,jT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,N)=>{S(this,ms,uo).call(this,{type:"failed",failureCount:M,error:N})},onPause:()=>{S(this,ms,uo).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,en).canRun(this)}));const i=this.state.status==="pending",s=!a(this,il).canStart();try{if(i)t();else{S(this,ms,uo).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(r=a(this,en).config).onMutate)==null?void 0:o.call(r,e,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));N!==this.state.context&&S(this,ms,uo).call(this,{type:"pending",context:N,variables:e,isPaused:s})}const M=await a(this,il).start();return await((d=(u=a(this,en).config).onSuccess)==null?void 0:d.call(u,M,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,M,e,this.state.context)),await((v=(p=a(this,en).config).onSettled)==null?void 0:v.call(p,M,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,M,null,e,this.state.context)),S(this,ms,uo).call(this,{type:"success",data:M}),M}catch(M){try{throw await((w=(y=a(this,en).config).onError)==null?void 0:w.call(y,M,e,this.state.context,this)),await((E=(x=this.options).onError)==null?void 0:E.call(x,M,e,this.state.context)),await((T=(_=a(this,en).config).onSettled)==null?void 0:T.call(_,void 0,M,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,M,e,this.state.context)),M}finally{S(this,ms,uo).call(this,{type:"error",error:M})}}finally{a(this,en).runNext(this)}}},ps=new WeakMap,en=new WeakMap,il=new WeakMap,ms=new WeakSet,uo=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cn.batch(()=>{a(this,ps).forEach(i=>{i.onMutationUpdate(e)}),a(this,en).notify({mutation:this,type:"updated",action:e})})},WS);function CO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ir,zi,vf,GS,_O=(GS=class extends hv{constructor(e={}){super();A(this,ir);A(this,zi);A(this,vf);this.config=e,m(this,ir,new Set),m(this,zi,new Map),m(this,vf,0)}build(e,t,i){const s=new EO({mutationCache:this,mutationId:++Ke(this,vf)._,options:e.defaultMutationOptions(t),state:i});return this.add(s),s}add(e){a(this,ir).add(e);const t=Nm(e);if(typeof t=="string"){const i=a(this,zi).get(t);i?i.push(e):a(this,zi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,ir).delete(e)){const t=Nm(e);if(typeof t=="string"){const i=a(this,zi).get(t);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&a(this,zi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Nm(e);if(typeof t=="string"){const i=a(this,zi).get(t),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const t=Nm(e);if(typeof t=="string"){const s=(i=a(this,zi).get(t))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{a(this,ir).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,ir).clear(),a(this,zi).clear()})}getAll(){return Array.from(a(this,ir))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>iS(t,i))}findAll(e={}){return this.getAll().filter(t=>iS(e,t))}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ji))))}},ir=new WeakMap,zi=new WeakMap,vf=new WeakMap,GS);function Nm(n){var e;return(e=n.options.scope)==null?void 0:e.id}function oS(n){return{onFetch:(e,t)=>{var d,h,f,p,v;const i=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,r=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=LT(e.options,e.fetchOptions),w=async(x,E,_)=>{if(g)return Promise.reject();if(E==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return b(L),L})(),R=await y(k),{maxPages:M}=e.options,N=_?fO:hO;return{pages:N(x.pages,R,M),pageParams:N(x.pageParams,E,M)}};if(s&&r.length){const x=s==="backward",E=x?TO:aS,_={pages:r,pageParams:o},T=E(i,_);l=await w(_,T,x)}else{const x=n??r.length;do{const E=c===0?o[0]??i.initialPageParam:aS(i,l);if(c>0&&E==null)break;l=await w(l,E),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function aS(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function TO(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Qe,bo,xo,mu,gu,Ao,yu,vu,XS,kO=(XS=class{constructor(n={}){A(this,Qe);A(this,bo);A(this,xo);A(this,mu);A(this,gu);A(this,Ao);A(this,yu);A(this,vu);m(this,Qe,n.queryCache||new SO),m(this,bo,n.mutationCache||new _O),m(this,xo,n.defaultOptions||{}),m(this,mu,new Map),m(this,gu,new Map),m(this,Ao,0)}mount(){Ke(this,Ao)._++,a(this,Ao)===1&&(m(this,yu,IT.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,Qe).onFocus())})),m(this,vu,cy.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,Qe).onOnline())})))}unmount(){var n,e;Ke(this,Ao)._--,a(this,Ao)===0&&((n=a(this,yu))==null||n.call(this),m(this,yu,void 0),(e=a(this,vu))==null||e.call(this),m(this,vu,void 0))}isFetching(n){return a(this,Qe).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return a(this,bo).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,Qe).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=a(this,Qe).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(vw(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return a(this,Qe).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),s=a(this,Qe).get(i.queryHash),r=s==null?void 0:s.state.data,o=oO(e,r);if(o!==void 0)return a(this,Qe).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return cn.batch(()=>a(this,Qe).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,Qe).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=a(this,Qe);cn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=a(this,Qe);return cn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=cn.batch(()=>a(this,Qe).findAll(n).map(s=>s.cancel(t)));return Promise.all(i).then(ji).catch(ji)}invalidateQueries(n,e={}){return cn.batch(()=>(a(this,Qe).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=cn.batch(()=>a(this,Qe).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,t);return t.throwOnError||(r=r.catch(ji)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(ji)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=a(this,Qe).build(this,e);return t.isStaleByTime(vw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ji).catch(ji)}fetchInfiniteQuery(n){return n.behavior=oS(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ji).catch(ji)}ensureInfiniteQueryData(n){return n.behavior=oS(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return cy.isOnline()?a(this,bo).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,Qe)}getMutationCache(){return a(this,bo)}getDefaultOptions(){return a(this,xo)}setDefaultOptions(n){m(this,xo,n)}setQueryDefaults(n,e){a(this,mu).set(df(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...a(this,mu).values()],t={};return e.forEach(i=>{hf(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){a(this,gu).set(df(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...a(this,gu).values()],t={};return e.forEach(i=>{hf(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...a(this,xo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Zx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Jx&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...a(this,xo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){a(this,Qe).clear(),a(this,bo).clear()}},Qe=new WeakMap,bo=new WeakMap,xo=new WeakMap,mu=new WeakMap,gu=new WeakMap,Ao=new WeakMap,yu=new WeakMap,vu=new WeakMap,XS),PO=P.createContext(void 0),RO=({client:n,children:e})=>(P.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(PO.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uy(){return uy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uy.apply(this,arguments)}var ya;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ya||(ya={}));const lS="popstate";function MO(n){n===void 0&&(n={});function e(i,s){let{pathname:r,search:o,hash:l}=i.location;return bw("",{pathname:r,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:$T(s)}return DO(e,t,null,n)}function kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NO(){return Math.random().toString(36).substr(2,8)}function cS(n,e){return{usr:n.state,key:n.key,idx:e}}function bw(n,e,t,i){return t===void 0&&(t=null),uy({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pv(e):e,{state:t,key:e&&e.key||i||NO()})}function $T(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function pv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function DO(n,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=ya.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(uy({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=ya.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function f(b,y){l=ya.Push;let w=bw(g.location,b,y);u=d()+1;let x=cS(w,u),E=g.createHref(w);try{o.pushState(x,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(E)}r&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l=ya.Replace;let w=bw(g.location,b,y);u=d();let x=cS(w,u),E=g.createHref(w);o.replaceState(x,"",E),r&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:$T(b);return w=w.replace(/ $/,"%20"),kn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return l},get location(){return n(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lS,h),c=b,()=>{s.removeEventListener(lS,h),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}var uS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(uS||(uS={}));function LO(n,e,t){return t===void 0&&(t="/"),IO(n,e,t,!1)}function IO(n,e,t,i){let s=typeof e=="string"?pv(e):e,r=VT(s.pathname||"/",t);if(r==null)return null;let o=HT(n);OO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=XO(r);l=WO(o[c],u,i)}return l}function HT(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(r,o,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(kn(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let u=cu([i,c.relativePath]),d=t.concat(c);r.children&&r.children.length>0&&(kn(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HT(r.children,e,d,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:UO(u,r.index),routesMeta:d})};return n.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,o);else for(let c of UT(r.path))s(r,o,c)}),e}function UT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=UT(i.join("/")),l=[];return l.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function OO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const FO=/^:[\w-]+$/,jO=3,BO=2,zO=1,$O=10,HO=-2,dS=n=>n==="*";function UO(n,e){let t=n.split("/"),i=t.length;return t.some(dS)&&(i+=HO),e&&(i+=BO),t.filter(s=>!dS(s)).reduce((s,r)=>s+(FO.test(r)?jO:r===""?zO:$O),i)}function VO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function WO(n,e,t){let{routesMeta:i}=n,s={},r="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],u=l===i.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=hS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=hS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:cu([r,h.pathname]),pathnameBase:qO(cu([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=cu([r,h.pathnameBase]))}return o}function hS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=GO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function GO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),zT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function XO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function VT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const cu=n=>n.join("/").replace(/\/\/+/g,"/"),qO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function YO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const WT=["post","put","patch","delete"];new Set(WT);const KO=["get",...WT];new Set(KO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dy.apply(this,arguments)}const QO=P.createContext(null),ZO=P.createContext(null),GT=P.createContext(null),mv=P.createContext(null),gv=P.createContext({outlet:null,matches:[],isDataRoute:!1}),XT=P.createContext(null);function e1(){return P.useContext(mv)!=null}function qT(){return e1()||kn(!1),P.useContext(mv).location}function JO(n,e){return eF(n,e)}function eF(n,e,t,i){e1()||kn(!1);let{navigator:s}=P.useContext(GT),{matches:r}=P.useContext(gv),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qT(),d;if(e){var h;let b=typeof e=="string"?pv(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||kn(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=LO(n,{pathname:p}),g=rF(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:cu([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:cu([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,t,i);return e&&g?P.createElement(mv.Provider,{value:{location:dy({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ya.Pop}},g):g}function tF(){let n=cF(),e=YO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,null)}const nF=P.createElement(tF,null);class iF extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(gv.Provider,{value:this.props.routeContext},P.createElement(XT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sF(n){let{routeContext:e,match:t,children:i}=n,s=P.useContext(QO);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(gv.Provider,{value:e},i)}function rF(n,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||kn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,g=null,b=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||nF,c&&(u<0&&f===0?(v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let x;return p?x=g:v?x=b:h.route.Component?x=P.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,P.createElement(sF,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(iF,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var xw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(xw||{});function oF(n){let e=P.useContext(ZO);return e||kn(!1),e}function aF(n){let e=P.useContext(gv);return e||kn(!1),e}function lF(n){let e=aF(),t=e.matches[e.matches.length-1];return t.route.id||kn(!1),t.route.id}function cF(){var n;let e=P.useContext(XT),t=oF(xw.UseRouteError),i=lF(xw.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function uF(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function ng(n){kn(!1)}function dF(n){let{basename:e="/",children:t=null,location:i,navigationType:s=ya.Pop,navigator:r,static:o=!1,future:l}=n;e1()&&kn(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:r,static:o,future:dy({v7_relativeSplatPath:!1},l)}),[c,l,r,o]);typeof i=="string"&&(i=pv(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=i,g=P.useMemo(()=>{let b=VT(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return g==null?null:P.createElement(GT.Provider,{value:u},P.createElement(mv.Provider,{children:t,value:g}))}function hF(n){let{children:e,location:t}=n;return JO(Aw(e),t)}new Promise(()=>{});function Aw(n,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(n,(i,s)=>{if(!P.isValidElement(i))return;let r=[...e,s];if(i.type===P.Fragment){t.push.apply(t,Aw(i.props.children,r));return}i.type!==ng&&kn(!1),!i.props.index||!i.props.children||kn(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Aw(i.props.children,r)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fF="6";try{window.__reactRouterVersion=fF}catch{}const pF="startTransition",fS=oE[pF];function mF(n){let{basename:e,children:t,future:i,window:s}=n,r=P.useRef();r.current==null&&(r.current=MO({window:s,v5Compat:!0}));let o=r.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=P.useCallback(h=>{u&&fS?fS(()=>c(h)):c(h)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>uF(i),[i]),P.createElement(dF,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:i})}var pS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(pS||(pS={}));var mS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(mS||(mS={}));const gF=z_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-background font-semibold shadow-lg hover:bg-primary-glow transition-all duration-300",heroOutline:"border-2 border-primary text-primary bg-transparent font-semibold hover:bg-primary hover:text-background transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),eo=P.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...s},r)=>{const o=i?KM:"button";return C.jsx(o,{className:Gs(gF({variant:e,size:t,className:n})),ref:r,...s})});eo.displayName="Button";const gS=[{label:"About",href:"#about"},{label:"Skills",href:"#skills"},{label:"Experience",href:"#experience"},{label:"Certificates",href:"#certificates"},{label:"CTF",href:"#ctf"},{label:"Projects",href:"#projects"},{label:"Contact",href:"#contact"}],yF=()=>{const[n,e]=P.useState(!1),[t,i]=P.useState(!1);return P.useEffect(()=>{const s=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),C.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-background/95 backdrop-blur-md border-b border-primary/20 shadow-lg":"bg-transparent"}`,children:C.jsxs("div",{className:"container mx-auto px-4",children:[C.jsxs("div",{className:"flex items-center justify-between h-16",children:[C.jsx("a",{href:"#hero",className:"mono text-xl font-bold text-primary hover:text-primary-glow transition-colors",children:"0x2nac0nda"}),C.jsx("div",{className:"hidden md:flex items-center space-x-6",children:gS.map(s=>C.jsx("a",{href:s.href,className:"text-sm text-foreground/80 hover:text-primary transition-colors neon-link",children:s.label},s.href))}),C.jsx(eo,{variant:"ghost",size:"icon",className:"md:hidden text-primary",onClick:()=>i(!t),"aria-label":"Toggle menu",children:t?C.jsx(G_,{size:24}):C.jsx(nD,{size:24})})]}),t&&C.jsx("div",{className:"md:hidden py-4 space-y-2 border-t border-primary/20 animate-fade-in-up",children:gS.map(s=>C.jsx("a",{href:s.href,className:"block py-2 text-foreground/80 hover:text-primary transition-colors",onClick:()=>i(!1),children:s.label},s.href))})]})})},vF=()=>{const n=P.useRef(null);return P.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||!n.current)return;n.current.querySelectorAll("path").forEach(i=>{const s=i.getTotalLength();i.style.strokeDasharray=s.toString(),i.style.strokeDashoffset=s.toString()})},[]),C.jsxs("svg",{ref:n,className:"absolute inset-0 w-full h-full pointer-events-none opacity-40",viewBox:"0 0 1200 400",preserveAspectRatio:"xMidYMid slice",xmlns:"http://www.w3.org/2000/svg",children:[C.jsxs("defs",{children:[C.jsxs("linearGradient",{id:"snakeGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[C.jsx("stop",{offset:"0%",stopColor:"hsl(142, 71%, 45%)",stopOpacity:"0.8"}),C.jsx("stop",{offset:"100%",stopColor:"hsl(180, 100%, 40%)",stopOpacity:"0.8"})]}),C.jsxs("linearGradient",{id:"snakeGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[C.jsx("stop",{offset:"0%",stopColor:"hsl(180, 100%, 50%)",stopOpacity:"0.6"}),C.jsx("stop",{offset:"100%",stopColor:"hsl(142, 71%, 45%)",stopOpacity:"0.6"})]}),C.jsxs("filter",{id:"glow",children:[C.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),C.jsxs("feMerge",{children:[C.jsx("feMergeNode",{in:"coloredBlur"}),C.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),C.jsx("path",{d:"M -50 80 Q 150 60, 300 100 T 600 80 T 900 120 T 1250 80",fill:"none",stroke:"url(#snakeGradient1)",strokeWidth:"3",strokeLinecap:"round",filter:"url(#glow)",className:"animate-snake-slither",style:{animationDelay:"0s"}}),C.jsx("path",{d:"M -50 200 Q 200 180, 400 220 T 800 200 T 1250 220",fill:"none",stroke:"url(#snakeGradient2)",strokeWidth:"2.5",strokeLinecap:"round",filter:"url(#glow)",className:"animate-snake-slither",style:{animationDelay:"2s"}}),C.jsx("path",{d:"M -50 320 Q 250 300, 450 340 T 850 320 T 1250 340",fill:"none",stroke:"url(#snakeGradient1)",strokeWidth:"2",strokeLinecap:"round",filter:"url(#glow)",className:"animate-snake-slither",style:{animationDelay:"4s"}}),C.jsx("circle",{cx:"300",cy:"100",r:"2",fill:"hsl(142, 71%, 45%)",className:"animate-glow-pulse",style:{animationDelay:"0.5s"}}),C.jsx("circle",{cx:"600",cy:"200",r:"2",fill:"hsl(180, 100%, 50%)",className:"animate-glow-pulse",style:{animationDelay:"1.5s"}}),C.jsx("circle",{cx:"900",cy:"320",r:"2",fill:"hsl(142, 71%, 45%)",className:"animate-glow-pulse",style:{animationDelay:"2.5s"}})]})},yS=["VAPT Specialist","Bug Bounty Hunter","CTF Player","Security Trainer"],wF=()=>{const[n,e]=P.useState(0);P.useEffect(()=>{const i=setInterval(()=>{e(s=>(s+1)%yS.length)},3e3);return()=>clearInterval(i)},[]);const t=()=>{var i;(i=document.getElementById("contact"))==null||i.scrollIntoView({behavior:"smooth"})};return C.jsxs("section",{id:"hero",className:"relative min-h-screen flex items-center justify-center matrix-bg overflow-hidden",children:[C.jsx(vF,{}),C.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[C.jsx("div",{className:"absolute top-0 left-[10%] text-primary text-xs mono animate-fade-in-up opacity-50",children:"01010011 01100101 01100011"}),C.jsx("div",{className:"absolute top-[20%] right-[15%] text-primary text-xs mono animate-fade-in-up opacity-40",style:{animationDelay:"0.5s"},children:"01110101 01110010 01101001"}),C.jsx("div",{className:"absolute bottom-[30%] left-[20%] text-primary text-xs mono animate-fade-in-up opacity-30",style:{animationDelay:"1s"},children:"01110100 01111001"})]}),C.jsx("div",{className:"container mx-auto px-4 relative z-10",children:C.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8 animate-fade-in-up",children:[C.jsx("h1",{className:"hero-text text-6xl md:text-8xl tracking-tight animate-glow-pulse",children:"0x2nac0nda"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:"Abdalla Abdelrhman Mubarak"}),C.jsx("p",{className:"text-lg md:text-xl text-accent font-medium",children:"Cyber Security Consultant"})]}),C.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-sm md:text-base text-muted-foreground",children:[C.jsx("span",{className:"flex items-center gap-1",children:" Riyadh, Saudi Arabia"}),C.jsx("span",{className:"hidden md:inline",children:""}),C.jsx("a",{href:"mailto:abdallaabdalrhman629@gmail.com",className:"neon-link hover:text-primary",children:"abdallaabdalrhman629@gmail.com"}),C.jsx("span",{className:"hidden md:inline",children:""})]}),C.jsx("div",{className:"inline-block",children:C.jsxs("div",{className:"mono text-sm md:text-base text-primary bg-muted/30 px-4 py-2 rounded border border-primary/20",children:[C.jsx("span",{className:"text-accent",children:">"})," role:"," ",C.jsx("span",{className:"text-primary font-semibold",children:yS[n]}),C.jsx("span",{className:"animate-pulse",children:"_"})]})}),C.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[C.jsx(eo,{variant:"hero",size:"lg",asChild:!0,children:C.jsxs("a",{href:"/cv.pdf",download:!0,children:[C.jsx(YN,{className:"mr-2 h-5 w-5"}),"Download CV"]})}),C.jsxs(eo,{variant:"heroOutline",size:"lg",onClick:t,children:[C.jsx(U_,{className:"mr-2 h-5 w-5"}),"Contact"]})]}),C.jsxs("div",{className:"flex items-center justify-center gap-6 pt-4",children:[C.jsx("a",{href:"https://www.linkedin.com/in/0x2nac0nda/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"LinkedIn",children:C.jsx(H_,{size:24})}),C.jsx("a",{href:"https://github.com/abdallaabdalrhman",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"GitHub",children:C.jsx(sy,{size:24})}),C.jsx("a",{href:"https://twitter.com/0x2nac0nda",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Twitter/X",children:C.jsx(W_,{size:24})})]}),C.jsx("div",{className:"pt-8 animate-bounce",children:C.jsx("div",{className:"w-6 h-10 border-2 border-primary/50 rounded-full mx-auto flex items-start justify-center p-2",children:C.jsx("div",{className:"w-1 h-2 bg-primary rounded-full animate-glow-pulse"})})})]})})]})},bF=()=>C.jsx("section",{id:"about",className:"py-20 bg-background",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"About Me"}),C.jsx("div",{className:"section-divider"})]}),C.jsx("div",{className:"glow-card animate-fade-in-up",style:{animationDelay:"0.2s"},children:C.jsxs("p",{className:"text-foreground/90 leading-relaxed text-lg",children:["I am a dedicated Information Security professional with over 6+ years of hands-on experience in Vulnerability Assessment and Penetration Testing (VAPT),"," ",C.jsx("span",{className:"text-primary font-semibold",children:"including source code review, web/API/mobile application security testing, network security, and Active Directory assessments."}),C.jsxs("p",{children:[" "," I hold a Bachelors degree in Information Technology from the Open University of Sudan and currently work as a ",C.jsx("span",{className:"text-primary font-semibold",children:"Cyber Security Consultant."})," "]}),"In addition to my consultancy work, I provide security training to institutions and universities in Sudan. I also actively participate in bug bounty programs on the HackerOne platform on a part-time basis and am an avid CTF competitor,"," ","having competed in prestigious events such as Black Hat Middle East and Africa.",C.jsx("p",{children:"I am passionate about continuous learning, embracing new challenges, and building meaningful professional connections in the field ofcybersecurity."})]})})]})})}),xF=[{title:"Web / API / Mobile Security",icon:ZN,skills:[{name:"Web Application Security",level:95},{name:"API Testing",level:90},{name:"Andorid",level:85},{name:"IOS",level:80}]},{title:"Active Directory",icon:sD,skills:[{name:"    Active Directory Attacks",level:88},{name:"Abusing AD Misconfigurations",level:85},{name:"Pivoting & Lateral Movement",level:80},{name:"Command and Control (C2) Operations",level:82}]},{title:"Source Code Review",icon:qN,skills:[{name:"Static Analysis",level:85},{name:"Dynamic Analysis",level:80},{name:"Large code base securityreviews",level:88},{name:"Web exploit development",level:90}]},{title:"Tooling & Frameworks",icon:rD,tools:["Burp Suite Pro","Postman","Android Studio","Wireshark","NetExec","Bloodhound","Tenable Nessus","Cobalt Strike","Sliver C2","Ghidra","IDA Pro"]}],AF=()=>C.jsx("section",{id:"skills",className:"py-20 bg-background",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Skills & Expertise"}),C.jsx("div",{className:"section-divider"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:xF.map((n,e)=>{var t;return C.jsxs("div",{className:"glow-card animate-fade-in-up",style:{animationDelay:`${e*.1}s`},children:[C.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[C.jsx(n.icon,{className:"w-6 h-6 text-primary"}),C.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n.title})]}),n.skills?C.jsx("div",{className:"space-y-4",children:n.skills.map((i,s)=>C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-sm text-foreground/80",children:i.name}),C.jsxs("span",{className:"text-sm text-primary mono",children:[i.level,"%"]})]}),C.jsx("div",{className:"skill-bar",children:C.jsx("div",{className:"skill-bar-fill",style:{width:`${i.level}%`}})})]},s))}):C.jsx("div",{className:"flex flex-wrap gap-2",children:(t=n.tools)==null?void 0:t.map((i,s)=>C.jsx("span",{className:"tech-badge",children:i},s))})]},e)})})]})})}),SF=[{title:"Cyber Security Consultant",company:"New Solutions",location:"Riyadh, Saudi Arabia",period:"  August 2024 to August2025",type:"consulting",description:"Perform various penetration testing services across web, API, mobile (iOS & Android), network, and Active Directory. Responsible for producing detailed security assessment reports.",achievements:["Executed penetration testing across multiple domains including web, API, mobile, and AD","Delivered comprehensive technical reports with remediation strategies","Enhanced client security posture through systematic vulnerability exploitation and reporting"]},{title:"Security Consultant",company:"OISSG Consultancy",location:"Doha, Qatar",period:"Sep 2023  Jul 2024",type:"consulting",description:"Conducted penetration testing services including web, API, mobile, network, and Active Directory. Performed internal and external testing, source code reviews, and technical reporting.",achievements:["Performed white box, black box, and gray box testing","Delivered actionable security reports with remediation recommendations","Conducted in-depth source code reviews for secure coding practices"]},{title:"Senior Cyber Security",company:"Kilotech Security",location:"Jeddah, Saudi Arabia",period:"Jan 2023  Oct 2023",type:"full-time",description:"Performed penetration testing services (web, API, mobile, and Active Directory), source code reviews, and technical reporting. Also managed and authored website security-related content.",achievements:["Conducted vulnerability assessments on web/mobile apps, networks, and AD","Provided mitigation guidance for firewall configurations and OS hardening","Authored security content to raise awareness on best practices"]},{title:"Penetration Tester",company:"National Information Center",location:"Khartoum, Sudan",period:"Mar 2020  Mar 2021",type:"government",description:"Performed penetration testing across web apps, APIs, mobile apps, networks, and AD. Conducted internal/external testing, OS/server hardening, and produced detailed reports.",achievements:["Discovered and reported vulnerabilities across multiple platforms","Implemented OS and server hardening for Linux and Windows","Delivered remediation-focused technical security reports"]},{title:"Cyber Security Trainer",company:"Afro-Tech Training Center",location:"Khartoum, Sudan",period:"Jun 2020  Jul 2021",type:"training",description:"Provided foundational and advanced training in cybersecurity topics such as fundamentals, web application security, penetration testing, CTF challenges, and bug bounty practices.",achievements:["Trained students in cybersecurity fundamentals and penetration testing","Guided learners through CTF challenges for hands-on experience","Delivered a bug bounty course focusing on real-world vulnerability discovery"]}],EF=()=>C.jsx("section",{id:"experience",className:"py-20 bg-muted/20",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Experience"}),C.jsx("div",{className:"section-divider"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary via-accent to-primary/20 transform md:-translate-x-1/2"}),C.jsx("div",{className:"space-y-12",children:SF.map((n,e)=>C.jsxs("div",{className:`relative pl-8 md:pl-0 ${e%2===0?"md:pr-[calc(50%+2rem)]":"md:pl-[calc(50%+2rem)]"} animate-slide-in-right`,style:{animationDelay:`${e*.15}s`},children:[C.jsx("div",{className:"absolute left-0 md:left-1/2 top-6 w-4 h-4 bg-primary rounded-full border-4 border-background transform md:-translate-x-1/2 shadow-lg"}),C.jsxs("div",{className:"glow-card",children:[C.jsx("div",{className:"flex items-start justify-between mb-4",children:C.jsxs("div",{className:"flex items-center gap-3",children:[n.type==="consulting"?C.jsx(GN,{className:"w-5 h-5 text-primary"}):C.jsx(JN,{className:"w-5 h-5 text-accent"}),C.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n.title})]})}),C.jsxs("div",{className:"space-y-2 mb-4",children:[C.jsx("p",{className:"text-foreground/80 font-medium",children:n.company}),C.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:[C.jsx("span",{children:n.location}),C.jsx("span",{children:""}),C.jsx("span",{className:"mono text-primary",children:n.period})]})]}),C.jsx("p",{className:"text-foreground/80 mb-4",children:n.description}),C.jsx("div",{className:"space-y-2",children:n.achievements.map((t,i)=>C.jsxs("div",{className:"flex items-start gap-2",children:[C.jsx("span",{className:"text-primary text-lg",children:""}),C.jsx("span",{className:"text-sm text-foreground/70",children:t})]},i))})]})]},e))})]})]})})}),on=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Sw=[.001,0,0,.001,0,0],l0=1.35,qn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},yo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},YT="pdfjs_internal_editor_",re={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},CF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ig={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Nc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},yv={ERRORS:0,WARNINGS:1,INFOS:5},ff={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Dm={moveTo:0,lineTo:1,curveTo:2,closePath:3},_F={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vv=yv.WARNINGS;function TF(n){Number.isInteger(n)&&(vv=n)}function kF(){return vv}function wv(n){vv>=yv.INFOS&&console.log(`Info: ${n}`)}function oe(n){vv>=yv.WARNINGS&&console.log(`Warning: ${n}`)}function Me(n){throw new Error(n)}function ct(n,e){n||Me(e)}function PF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function KT(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=LF(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return PF(i)?i:null}function QT(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&KT(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function he(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Sc=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class vS extends Sc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class c0 extends Sc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ew extends Sc{constructor(e){super(e,"InvalidPDFException")}}class hy extends Sc{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class RF extends Sc{constructor(e){super(e,"FormatError")}}class Na extends Sc{constructor(e){super(e,"AbortException")}}function ZT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Me("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<e;s+=t){const r=Math.min(s+t,e),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function im(n){typeof n!="string"&&Me("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function MF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function NF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function DF(){try{return new Function(""),!0}catch{return!1}}class zt{static get isLittleEndian(){return he(this,"isLittleEndian",NF())}static get isEvalSupported(){return he(this,"isEvalSupported",DF())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return he(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return he(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return he(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const u0=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Gr,sg,Cw;class J{static makeHexColor(e,t,i){return`#${u0[e]}${u0[t]}${u0[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const s=e[i],r=e[i+1];e[i]=s*t[0]+r*t[2]+t[4],e[i+1]=s*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const s=t[0],r=t[1],o=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],f=e[i+d+1];e[i+d]=h*s+f*o+c,e[i+d+1]=h*r+f*l+u}}static applyInverseTransform(e,t){const i=e[0],s=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-i*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,i){const s=t[0],r=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let v=s*d+c,g=v,b=s*f+c,y=b,w=l*h+u,x=w,E=l*p+u,_=E;if(r!==0||o!==0){const T=r*d,k=r*f,R=o*h,M=o*p;v+=R,y+=R,b+=M,g+=M,w+=T,_+=T,E+=k,x+=k}i[0]=Math.min(i[0],v,b,g,y),i[1]=Math.min(i[1],w,E,x,_),i[2]=Math.max(i[2],v,b,g,y),i[3]=Math.max(i[3],w,E,x,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],s=e[1],r=e[2],o=e[3],l=i**2+s**2,c=i*r+s*o,u=r**2+o**2,d=(l+u)/2,h=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[i,r,s,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,s,r){r[0]=Math.min(r[0],e,i),r[1]=Math.min(r[1],t,s),r[2]=Math.max(r[2],e,i),r[3]=Math.max(r[3],t,s)}static bezierBoundingBox(e,t,i,s,r,o,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),S(this,Gr,Cw).call(this,e,i,r,l,t,s,o,c,3*(-e+3*(i-r)+l),6*(e-2*i+r),3*(i-e),u),S(this,Gr,Cw).call(this,e,i,r,l,t,s,o,c,3*(-t+3*(s-o)+c),6*(t-2*s+o),3*(s-t),u)}}Gr=new WeakSet,sg=function(e,t,i,s,r,o,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,v=h*(h*(h*e+3*u*t)+3*f*i)+p*s,g=h*(h*(h*r+3*u*o)+3*f*l)+p*c;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},Cw=function(e,t,i,s,r,o,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&S(this,Gr,sg).call(this,e,t,i,s,r,o,l,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const v=Math.sqrt(p),g=2*u;S(this,Gr,sg).call(this,e,t,i,s,r,o,l,c,(-d+v)/g,f),S(this,Gr,sg).call(this,e,t,i,s,r,o,l,c,(-d-v)/g,f)},A(J,Gr);function LF(n){return decodeURIComponent(escape(n))}let d0=null,wS=null;function IF(n){return d0||(d0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wS=new Map([["","t"]])),n.replaceAll(d0,(e,t,i)=>t?t.normalize("NFKC"):wS.get(i))}function JT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),ZT(n)}const t1="pdfjs_internal_id_";function OF(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,s,...r]=t;if(!n(i)&&!Number.isInteger(i)||!e(s))return!1;const o=r.length;let l=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function an(n,e,t){return Math.min(Math.max(n,e),t)}function ek(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(ZT(n))}function FF(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):im(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Ks="http://www.w3.org/2000/svg",Ga=class Ga{};$(Ga,"CSS",96),$(Ga,"PDF",72),$(Ga,"PDF_TO_CSS_UNITS",Ga.CSS/Ga.PDF);let Da=Ga;async function sm(n,e="text"){if(mh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class rm{constructor({viewBox:e,userUnit:t,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o,i*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,p=-p);let v,g,b,y;d===0?(v=Math.abs(u-e[1])*i+r,g=Math.abs(c-e[0])*i+o,b=(e[3]-e[1])*i,y=(e[2]-e[0])*i):(v=Math.abs(c-e[0])*i+r,g=Math.abs(u-e[1])*i+o,b=(e[2]-e[0])*i,y=(e[3]-e[1])*i),this.transform=[d*i,h*i,f*i,p*i,v-d*i*c-f*i*u,g-h*i*c-p*i*u],this.width=b,this.height=y}get rawDims(){const e=this.viewBox;return he(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new rm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){const i=[e,t];return J.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];J.applyTransform(t,this.transform);const i=[e[2],e[3]];return J.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return J.applyInverseTransform(i,this.transform),i}}class n1 extends Sc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function bv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function i1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function jF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function BF(n,e="document.pdf"){if(typeof n!="string")return e;if(bv(n))return oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const s=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},r=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(r.test(o))return s(o);if(i.searchParams.size>0){const l=Array.from(i.searchParams.values()).reverse();for(const u of l)if(r.test(u))return s(u);const c=Array.from(i.searchParams.keys()).reverse();for(const u of c)if(r.test(u))return s(u)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return s(c[0])}return e}class bS{constructor(){$(this,"started",Object.create(null));$(this,"times",[])}time(e){e in this.started&&oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(t)} ${r-s}ms
`);return e.join("")}}function mh(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ki(n){n.preventDefault()}function at(n){n.preventDefault(),n.stopPropagation()}function zF(n){console.log("Deprecated API usage: "+n)}var wf;class fy{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;a(this,wf)||m(this,wf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,wf).exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,l+=h):u==="+"&&(o-=d,l-=h),new Date(Date.UTC(i,s,r,o,l,c))}}wf=new WeakMap,A(fy,wf);function $F(n,{scale:e=1,rotation:t=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new rm({viewBox:r,userUnit:1,scale:e,rotation:t})}function xv(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(oe(`Not a valid color format: "${n}"`),[0,0,0])}function HF(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,xv(i))}e.remove()}function Ge(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform();return[e,t,i,s,r,o]}function cs(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[e,t,i,s,r,o]}function yc(n,e,t=!1,i=!0){if(e instanceof rm){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:o}=n,l=zt.isCSSRoundSupported,c=`var(--total-scale-factor) * ${s}px`,u=`var(--total-scale-factor) * ${r}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Vs{constructor(){const{pixelRatio:e}=Vs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,s,r=-1){let o=1/0,l=1/0,c=1/0;i=Vs.capPixels(i,r),i>0&&(o=Math.sqrt(i/(e*t))),s!==-1&&(l=s/e,c=s/t);const u=Math.min(o,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const _w=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var So,Eo,di,sr,bf,wu,bu,xf,Sy,tk,jt,nk,ik,Dc,gh;const er=class er{constructor(e){A(this,jt);A(this,So,null);A(this,Eo,null);A(this,di);A(this,sr,null);A(this,bf,null);A(this,wu,null);A(this,bu,null);m(this,di,e),a(er,xf)||m(er,xf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=m(this,So,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,di)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ki,{signal:t}),e.addEventListener("pointerdown",S(er,Sy,tk),{signal:t}));const i=m(this,sr,document.createElement("div"));i.className="buttons",e.append(i);const s=a(this,di).toolbarPosition;if(s){const{style:r}=e,o=a(this,di)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,So)}hide(){var e;a(this,So).classList.add("hidden"),(e=a(this,Eo))==null||e.hideDropdown()}show(){var e,t;a(this,So).classList.remove("hidden"),(e=a(this,bf))==null||e.shown(),(t=a(this,wu))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,di),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",a(er,xf)[e]),S(this,jt,Dc).call(this,i)&&i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),a(this,sr).append(i)}async addAltText(e){const t=await e.render();S(this,jt,Dc).call(this,t),a(this,sr).append(t,a(this,jt,gh)),m(this,bf,e)}addComment(e){if(a(this,wu))return;const t=e.render();t&&(S(this,jt,Dc).call(this,t),a(this,sr).append(t,a(this,jt,gh)),m(this,wu,e),e.toolbar=this)}addColorPicker(e){if(a(this,Eo))return;m(this,Eo,e);const t=e.renderButton();S(this,jt,Dc).call(this,t),a(this,sr).append(t,a(this,jt,gh))}async addEditSignatureButton(e){const t=m(this,bu,await e.renderEditButton(a(this,di)));S(this,jt,Dc).call(this,t),a(this,sr).append(t,a(this,jt,gh))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){a(this,bu)&&(a(this,bu).title=e)}remove(){var e;a(this,So).remove(),(e=a(this,Eo))==null||e.destroy(),m(this,Eo,null)}};So=new WeakMap,Eo=new WeakMap,di=new WeakMap,sr=new WeakMap,bf=new WeakMap,wu=new WeakMap,bu=new WeakMap,xf=new WeakMap,Sy=new WeakSet,tk=function(e){e.stopPropagation()},jt=new WeakSet,nk=function(e){a(this,di)._focusEventsAllowed=!1,at(e)},ik=function(e){a(this,di)._focusEventsAllowed=!0,at(e)},Dc=function(e){const t=a(this,di)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",S(this,jt,nk).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",S(this,jt,ik).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ki,{signal:t}),!0)},gh=function(){const e=document.createElement("div");return e.className="divider",e},A(er,Sy),A(er,xf,null);let Tw=er;var Af,sl,rr,to,sk,rk,kw;class UF{constructor(e){A(this,to);A(this,Af,null);A(this,sl,null);A(this,rr);m(this,rr,e)}show(e,t,i){const[s,r]=S(this,to,rk).call(this,t,i),{style:o}=a(this,sl)||m(this,sl,S(this,to,sk).call(this));e.append(a(this,sl)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,sl).remove()}}Af=new WeakMap,sl=new WeakMap,rr=new WeakMap,to=new WeakSet,sk=function(){const e=m(this,sl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=a(this,rr)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ki,{signal:t});const i=m(this,Af,document.createElement("div"));return i.className="buttons",e.append(i),a(this,rr).hasCommentManager()&&S(this,to,kw).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{a(this,rr).commentSelection("floating_button")}),S(this,to,kw).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{a(this,rr).highlightSelection("floating_button")}),e},rk=function(e,t){let i=0,s=0;for(const r of e){const o=r.y+r.height;if(o<i)continue;const l=r.x+(t?r.width:0);if(o>i){s=l,i=o;continue}t?l>s&&(s=l):l<s&&(s=l)}return[t?1-s:s,i]},kw=function(e,t,i,s){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const o=document.createElement("span");r.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const l=a(this,rr)._signal;l instanceof AbortSignal&&!l.aborted&&(r.addEventListener("contextmenu",ki,{signal:l}),r.addEventListener("click",s,{signal:l})),a(this,Af).append(r)};function ok(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Ey;class VF{constructor(){A(this,Ey,0)}get id(){return`${YT}${Ke(this,Ey)._++}`}}Ey=new WeakMap;var xu,Sf,Xt,Au,rg;const d1=class d1{constructor(){A(this,Au);A(this,xu,JT());A(this,Sf,0);A(this,Xt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return he(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:r}=e;return S(this,Au,rg).call(this,`${t}_${i}_${s}_${r}`,e)}async getFromUrl(e){return S(this,Au,rg).call(this,e,e)}async getFromBlob(e,t){const i=await t;return S(this,Au,rg).call(this,e,i)}async getFromId(e){a(this,Xt)||m(this,Xt,new Map);const t=a(this,Xt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,Xt)||m(this,Xt,new Map);let i=a(this,Xt).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${a(this,xu)}_${Ke(this,Sf)._++}`,refCounter:1,isSvg:!1},a(this,Xt).set(e,i),a(this,Xt).set(i.id,i),i}getSvgUrl(e){const t=a(this,Xt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;a(this,Xt)||m(this,Xt,new Map);const t=a(this,Xt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,xu)}_`)}};xu=new WeakMap,Sf=new WeakMap,Xt=new WeakMap,Au=new WeakSet,rg=async function(e,t){a(this,Xt)||m(this,Xt,new Map);let i=a(this,Xt).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${a(this,xu)}_${Ke(this,Sf)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await sm(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const r=d1._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,u()},o.onload=async()=>{const h=i.svgUrl=o.result;l.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=d});o.readAsDataURL(s),await c}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){oe(s),i=null}return a(this,Xt).set(e,i),i&&a(this,Xt).set(i.id,i),i};let Pw=d1;var et,Co,Ef,Ve;class WF{constructor(e=128){A(this,et,[]);A(this,Co,!1);A(this,Ef);A(this,Ve,-1);m(this,Ef,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(s&&e(),a(this,Co))return;const c={cmd:e,undo:t,post:i,type:r};if(a(this,Ve)===-1){a(this,et).length>0&&(a(this,et).length=0),m(this,Ve,0),a(this,et).push(c);return}if(o&&a(this,et)[a(this,Ve)].type===r){l&&(c.undo=a(this,et)[a(this,Ve)].undo),a(this,et)[a(this,Ve)]=c;return}const u=a(this,Ve)+1;u===a(this,Ef)?a(this,et).splice(0,1):(m(this,Ve,u),u<a(this,et).length&&a(this,et).splice(u)),a(this,et).push(c)}undo(){if(a(this,Ve)===-1)return;m(this,Co,!0);const{undo:e,post:t}=a(this,et)[a(this,Ve)];e(),t==null||t(),m(this,Co,!1),m(this,Ve,a(this,Ve)-1)}redo(){if(a(this,Ve)<a(this,et).length-1){m(this,Ve,a(this,Ve)+1),m(this,Co,!0);const{cmd:e,post:t}=a(this,et)[a(this,Ve)];e(),t==null||t(),m(this,Co,!1)}}hasSomethingToUndo(){return a(this,Ve)!==-1}hasSomethingToRedo(){return a(this,Ve)<a(this,et).length-1}cleanType(e){if(a(this,Ve)!==-1){for(let t=a(this,Ve);t>=0;t--)if(a(this,et)[t].type!==e){a(this,et).splice(t+1,a(this,Ve)-t),m(this,Ve,t);return}a(this,et).length=0,m(this,Ve,-1)}}destroy(){m(this,et,null)}}et=new WeakMap,Co=new WeakMap,Ef=new WeakMap,Ve=new WeakMap;var Cy,ak;class om{constructor(e){A(this,Cy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=zt.platform;for(const[i,s,r={}]of e)for(const o of i){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(S(this,Cy,ak).call(this,t));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:l=null}}=i;l&&!l(e,t)||(s.bind(e,...o,t)(),r||at(t))}}Cy=new WeakSet,ak=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const _y=class _y{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return HF(e),he(this,"_colors",e)}convert(e){const t=xv(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((r,o)=>r===t[o]))return _y._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?J.makeHexColor(...t):e}};$(_y,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rw=_y;var Su,Mn,Eu,ft,Pt,Cu,or,_u,hi,ar,_o,To,Tu,rl,gs,fi,ol,Cf,_f,ku,Tf,ys,ko,Pu,Po,vs,Ty,Ro,Ru,kf,Mo,al,Mu,No,Pf,pt,Se,lr,Do,Lo,Rf,Nu,Mf,Io,ws,cr,Nf,Df,pi,W,og,Mw,lk,ck,yh,uk,dk,hk,Nw,fk,Dw,Lw,pk,Zt,Qs,mk,gk,Iw,yk,vh,Ow;const Jc=class Jc{constructor(e,t,i,s,r,o,l,c,u,d,h,f,p,v,g,b){A(this,W);A(this,Su,new AbortController);A(this,Mn,null);A(this,Eu,null);A(this,ft,new Map);A(this,Pt,new Map);A(this,Cu,null);A(this,or,null);A(this,_u,null);A(this,hi,new WF);A(this,ar,null);A(this,_o,null);A(this,To,null);A(this,Tu,0);A(this,rl,new Set);A(this,gs,null);A(this,fi,null);A(this,ol,new Set);$(this,"_editorUndoBar",null);A(this,Cf,!1);A(this,_f,!1);A(this,ku,!1);A(this,Tf,null);A(this,ys,null);A(this,ko,null);A(this,Pu,null);A(this,Po,!1);A(this,vs,null);A(this,Ty,new VF);A(this,Ro,!1);A(this,Ru,!1);A(this,kf,!1);A(this,Mo,null);A(this,al,null);A(this,Mu,null);A(this,No,null);A(this,Pf,null);A(this,pt,re.NONE);A(this,Se,new Set);A(this,lr,null);A(this,Do,null);A(this,Lo,null);A(this,Rf,null);A(this,Nu,null);A(this,Mf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,Io,[0,0]);A(this,ws,null);A(this,cr,null);A(this,Nf,null);A(this,Df,null);A(this,pi,null);const y=this._signal=a(this,Su).signal;m(this,cr,e),m(this,Nf,t),m(this,Df,i),m(this,Cu,s),m(this,ar,r),m(this,Do,o),m(this,Nu,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:y}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),l._on("setpreference",this.onSetPreference.bind(this),{signal:y}),l._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:y}),window.addEventListener("pointerdown",()=>{m(this,Ru,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{m(this,Ru,!1)},{capture:!0,signal:y}),S(this,W,uk).call(this),S(this,W,pk).call(this),S(this,W,Nw).call(this),m(this,or,c.annotationStorage),m(this,Tf,c.filterFactory),m(this,Lo,u),m(this,Pu,d||null),m(this,Cf,h),m(this,_f,f),m(this,ku,p),m(this,Pf,v||null),this.viewParameters={realScale:Da.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=b!==!1}static get _keyboardManager(){const e=Jc.prototype,t=o=>a(o,cr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return he(this,"_keyboardManager",new om([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,cr).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,cr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,i,s,r,o,l,c,u;(e=a(this,pi))==null||e.resolve(),m(this,pi,null),(t=a(this,Su))==null||t.abort(),m(this,Su,null),this._signal=null;for(const d of a(this,Pt).values())d.destroy();a(this,Pt).clear(),a(this,ft).clear(),a(this,ol).clear(),(i=a(this,No))==null||i.clear(),m(this,Mn,null),a(this,Se).clear(),a(this,hi).destroy(),(s=a(this,Cu))==null||s.destroy(),(r=a(this,ar))==null||r.destroy(),(o=a(this,Do))==null||o.destroy(),(l=a(this,vs))==null||l.hide(),m(this,vs,null),(c=a(this,Mu))==null||c.destroy(),m(this,Mu,null),m(this,Eu,null),a(this,ys)&&(clearTimeout(a(this,ys)),m(this,ys,null)),a(this,ws)&&(clearTimeout(a(this,ws)),m(this,ws,null)),(u=this._editorUndoBar)==null||u.destroy(),m(this,Nu,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,Pf)}get useNewAltTextFlow(){return a(this,_f)}get useNewAltTextWhenAddingImage(){return a(this,ku)}get hcmFilter(){return he(this,"hcmFilter",a(this,Lo)?a(this,Tf).addHCMFilter(a(this,Lo).foreground,a(this,Lo).background):"none")}get direction(){return he(this,"direction",getComputedStyle(a(this,cr)).direction)}get _highlightColors(){return he(this,"_highlightColors",a(this,Pu)?new Map(a(this,Pu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return he(this,"highlightColors",null);const t=new Map,i=!!a(this,Lo);for(const[s,r]of e){const o=s.endsWith("_HCM");if(i&&o){t.set(s.replace("_HCM",""),r);continue}!i&&!o&&t.set(s,r)}return he(this,"highlightColors",t)}get highlightColorNames(){return he(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),m(this,To,e)}setMainHighlightColorPicker(e){m(this,Mu,e)}editAltText(e,t=!1){var i;(i=a(this,Cu))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!a(this,ar)}editComment(e,t){var i;(i=a(this,ar))==null||i.open(this,e,t)}getSignature(e){var t;(t=a(this,Do))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,Do)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":m(this,ku,t);break}}onPageChanging({pageNumber:e}){m(this,Tu,e-1)}focusMainContainer(){a(this,cr).focus()}findParent(e,t){for(const i of a(this,Pt).values()){const{x:s,y:r,width:o,height:l}=i.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=r&&t<=r+l)return i}return null}disableUserSelect(e=!1){a(this,Nf).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,ol).add(e)}removeShouldRescale(e){a(this,ol).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Da.PDF_TO_CSS_UNITS;for(const i of a(this,ol))i.onScaleChanging();(t=a(this,To))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:l}=i,c=i.toString(),d=S(this,W,og).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const f=S(this,W,Mw).call(this,d),p=a(this,pt)===re.NONE,v=()=>{const g=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(g==null||g.editComment())};if(p){this.switchToMode(re.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}addToAnnotationStorage(e){!e.isEmpty()&&a(this,or)&&!a(this,or).has(e.id)&&a(this,or).setValue(e.id,e)}a11yAlert(e,t=null){const i=a(this,Df);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,Po)&&(m(this,Po,!1),S(this,W,yh).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,Se))if(t.div.contains(e)){m(this,al,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,al))return;const[e,t]=a(this,al);m(this,al,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){S(this,W,Nw).call(this),S(this,W,Dw).call(this)}removeEditListeners(){S(this,W,fk).call(this),S(this,W,Lw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of a(this,fi))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of a(this,fi))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=a(this,Mn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of a(this,Se)){const r=s.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of a(this,fi))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){oe(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const c of i){const u=await s.deserialize(c);if(!u)return;r.push(u)}const o=()=>{for(const c of r)S(this,W,Iw).call(this,c);S(this,W,Ow).call(this,r)},l=()=>{for(const c of r)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(r){oe(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,pt)!==re.NONE&&!this.isEditorHandlingKeyboard&&Jc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,Po)&&(m(this,Po,!1),S(this,W,yh).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(S(this,W,dk).call(this),S(this,W,Dw).call(this),S(this,W,Zt).call(this,{isEditing:a(this,pt)!==re.NONE,isEmpty:S(this,W,vh).call(this),hasSomethingToUndo:a(this,hi).hasSomethingToUndo(),hasSomethingToRedo:a(this,hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,W,hk).call(this),S(this,W,Lw).call(this),S(this,W,Zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,fi)){m(this,fi,e);for(const t of a(this,fi))S(this,W,Qs).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,Ty).id}get currentLayer(){return a(this,Pt).get(a(this,Tu))}getLayer(e){return a(this,Pt).get(e)}get currentPageIndex(){return a(this,Tu)}addLayer(e){a(this,Pt).set(e.pageIndex,e),a(this,Ro)?e.enable():e.disable()}removeLayer(e){a(this,Pt).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,s=!1,r=!1){var o,l,c,u,d;if(a(this,pt)!==e&&!(a(this,pi)&&(await a(this,pi).promise,!a(this,pi)))){if(m(this,pi,Promise.withResolvers()),(o=a(this,To))==null||o.commitOrRemove(),a(this,pt)===re.POPUP&&((l=a(this,ar))==null||l.hideSidebar()),m(this,pt,e),e===re.NONE){this.setEditingState(!1),S(this,W,gk).call(this),(c=this._editorUndoBar)==null||c.hide(),a(this,pi).resolve();return}e===re.SIGNATURE&&await((u=a(this,Do))==null?void 0:u.loadSignatures()),e===re.POPUP&&(a(this,Eu)||m(this,Eu,await a(this,Nu).getAnnotationsByType(new Set(a(this,fi).map(h=>h._editorType)))),(d=a(this,ar))==null||d.showSidebar(a(this,Eu))),this.setEditingState(!0),await S(this,W,mk).call(this),this.unselectAll();for(const h of a(this,Pt).values())h.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),a(this,pi).resolve();return}for(const h of a(this,ft).values())h.annotationElementId===t||h.id===t?(this.setSelected(h),r?h.editComment():s&&h.enterInEditMode()):h.unselect();a(this,pi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,pt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(a(this,fi)){switch(e){case me.CREATE:this.currentLayer.addNewEditor(t);return;case me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,Rf)||m(this,Rf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of a(this,Se))i.updateParams(e,t);else for(const i of a(this,fi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var r;for(const o of a(this,ft).values())o.editorType===e&&o.show(t);(((r=a(this,Rf))==null?void 0:r.get(me.HIGHLIGHT_SHOW_ALL))??!0)!==t&&S(this,W,Qs).call(this,[[me.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,kf)!==e){m(this,kf,e);for(const t of a(this,Pt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of a(this,ft).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return a(this,ft).get(e)}addEditor(e){a(this,ft).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(a(this,ys)&&clearTimeout(a(this,ys)),m(this,ys,setTimeout(()=>{this.focusMainContainer(),m(this,ys,null)},0))),a(this,ft).delete(e.id),e.annotationElementId&&((t=a(this,No))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,rl).has(e.annotationElementId))&&((i=a(this,or))==null||i.remove(e.id))}addDeletedAnnotationElement(e){a(this,rl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,rl).has(e)}removeDeletedAnnotationElement(e){a(this,rl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,Mn)!==e&&(m(this,Mn,e),e&&S(this,W,Qs).call(this,e.propertiesToUpdate))}updateUI(e){a(this,W,yk)===e&&S(this,W,Qs).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){S(this,W,Qs).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,Se).has(e)){a(this,Se).delete(e),e.unselect(),S(this,W,Zt).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Se).add(e),e.select(),S(this,W,Qs).call(this,e.propertiesToUpdate),S(this,W,Zt).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,To))==null||t.commitOrRemove();for(const i of a(this,Se))i!==e&&i.unselect();a(this,Se).clear(),a(this,Se).add(e),e.select(),S(this,W,Qs).call(this,e.propertiesToUpdate),S(this,W,Zt).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,Se).has(e)}get firstSelectedEditor(){return a(this,Se).values().next().value}unselect(e){e.unselect(),a(this,Se).delete(e),S(this,W,Zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Se).size!==0}get isEnterHandled(){return a(this,Se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,hi).undo(),S(this,W,Zt).call(this,{hasSomethingToUndo:a(this,hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,W,vh).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,hi).redo(),S(this,W,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,hi).hasSomethingToRedo(),isEmpty:S(this,W,vh).call(this)})}addCommands(e){a(this,hi).add(e),S(this,W,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,W,vh).call(this)})}cleanUndoStack(e){a(this,hi).cleanType(e)}delete(){var r;this.commitOrRemove();const e=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,Se)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},s=()=>{for(const o of t)S(this,W,Iw).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=a(this,Mn))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,Mn)||this.hasSelection}selectAll(){for(const e of a(this,Se))e.commit();S(this,W,Ow).call(this,a(this,ft).values())}unselectAll(){var e;if(!(a(this,Mn)&&(a(this,Mn).commitOrRemove(),a(this,pt)!==re.NONE))&&!((e=a(this,To))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,Se))t.unselect();a(this,Se).clear(),S(this,W,Zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;a(this,Io)[0]+=e,a(this,Io)[1]+=t;const[s,r]=a(this,Io),o=[...a(this,Se)],l=1e3;a(this,ws)&&clearTimeout(a(this,ws)),m(this,ws,setTimeout(()=>{m(this,ws,null),a(this,Io)[0]=a(this,Io)[1]=0,this.addCommands({cmd:()=>{for(const c of o)a(this,ft).has(c.id)&&(c.translateInPage(s,r),c.translationDone())},undo:()=>{for(const c of o)a(this,ft).has(c.id)&&(c.translateInPage(-s,-r),c.translationDone())},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),m(this,gs,new Map);for(const e of a(this,Se))a(this,gs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,gs))return!1;this.disableUserSelect(!1);const e=a(this,gs);m(this,gs,null);let t=!1;for(const[{x:s,y:r,pageIndex:o},l]of e)l.newX=s,l.newY=r,l.newPageIndex=o,t||(t=s!==l.savedX||r!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const i=(s,r,o,l)=>{if(a(this,ft).has(s.id)){const c=a(this,Pt).get(l);c?s._setParentAndPosition(c,r,o):(s.pageIndex=l,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:l}]of e)i(s,r,o,l)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:l}]of e)i(s,r,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,gs))for(const i of a(this,gs).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,Se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,Mn)===e}getActive(){return a(this,Mn)}getMode(){return a(this,pt)}get imageManager(){return he(this,"imageManager",new Pw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/o,y:1-(u+h-i)/r,width:f/o,height:h/r});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-i)/r,y:1-(d+f-s)/o,width:h/r,height:f/o});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/o,y:(u-i)/r,width:f/o,height:h/r});break;default:l=(u,d,h,f)=>({x:(u-i)/r,y:(d-s)/o,width:h/r,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:v,height:g}of h.getClientRects())v===0||g===0||c.push(l(f,p,v,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,_u)||m(this,_u,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,_u))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=a(this,_u))==null?void 0:s.get(e.data.id);if(!t)return;const i=a(this,or).getRawValue(t);i&&(a(this,pt)===re.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var r;const s=(r=a(this,No))==null?void 0:r.get(e);s&&(s.setCanvas(t,i),a(this,No).delete(e))}addMissingCanvas(e,t){(a(this,No)||m(this,No,new Map)).set(e,t)}};Su=new WeakMap,Mn=new WeakMap,Eu=new WeakMap,ft=new WeakMap,Pt=new WeakMap,Cu=new WeakMap,or=new WeakMap,_u=new WeakMap,hi=new WeakMap,ar=new WeakMap,_o=new WeakMap,To=new WeakMap,Tu=new WeakMap,rl=new WeakMap,gs=new WeakMap,fi=new WeakMap,ol=new WeakMap,Cf=new WeakMap,_f=new WeakMap,ku=new WeakMap,Tf=new WeakMap,ys=new WeakMap,ko=new WeakMap,Pu=new WeakMap,Po=new WeakMap,vs=new WeakMap,Ty=new WeakMap,Ro=new WeakMap,Ru=new WeakMap,kf=new WeakMap,Mo=new WeakMap,al=new WeakMap,Mu=new WeakMap,No=new WeakMap,Pf=new WeakMap,pt=new WeakMap,Se=new WeakMap,lr=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Rf=new WeakMap,Nu=new WeakMap,Mf=new WeakMap,Io=new WeakMap,ws=new WeakMap,cr=new WeakMap,Nf=new WeakMap,Df=new WeakMap,pi=new WeakMap,W=new WeakSet,og=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Mw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of a(this,Pt).values())if(i.hasTextLayer(e))return i;return null},lk=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=S(this,W,og).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(a(this,vs)||m(this,vs,new UF(this)),a(this,vs).show(i,s,this.direction==="ltr"))},ck=function(){var r,o,l;const e=document.getSelection();if(!e||e.isCollapsed){a(this,lr)&&((r=a(this,vs))==null||r.hide(),m(this,lr,null),S(this,W,Zt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,lr))return;const s=S(this,W,og).call(this,e).closest(".textLayer");if(!s){a(this,lr)&&((o=a(this,vs))==null||o.hide(),m(this,lr,null),S(this,W,Zt).call(this,{hasSelectedText:!1}));return}if((l=a(this,vs))==null||l.hide(),m(this,lr,t),S(this,W,Zt).call(this,{hasSelectedText:!0}),!(a(this,pt)!==re.HIGHLIGHT&&a(this,pt)!==re.NONE)&&(a(this,pt)===re.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),m(this,Po,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=a(this,pt)===re.HIGHLIGHT?S(this,W,Mw).call(this,s):null;if(c==null||c.toggleDrawing(),a(this,Ru)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&S(this,W,yh).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),S(this,W,yh).call(this,"main_toolbar")}},yh=function(e=""){a(this,pt)===re.HIGHLIGHT?this.highlightSelection(e):a(this,Cf)&&S(this,W,lk).call(this)},uk=function(){document.addEventListener("selectionchange",S(this,W,ck).bind(this),{signal:this._signal})},dk=function(){if(a(this,ko))return;m(this,ko,new AbortController);const e=this.combinedSignal(a(this,ko));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},hk=function(){var e;(e=a(this,ko))==null||e.abort(),m(this,ko,null)},Nw=function(){if(a(this,Mo))return;m(this,Mo,new AbortController);const e=this.combinedSignal(a(this,Mo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},fk=function(){var e;(e=a(this,Mo))==null||e.abort(),m(this,Mo,null)},Dw=function(){if(a(this,_o))return;m(this,_o,new AbortController);const e=this.combinedSignal(a(this,_o));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Lw=function(){var e;(e=a(this,_o))==null||e.abort(),m(this,_o,null)},pk=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Zt=function(e){Object.entries(e).some(([i,s])=>a(this,Mf)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Mf),e)}),a(this,pt)===re.HIGHLIGHT&&e.hasSelectedEditor===!1&&S(this,W,Qs).call(this,[[me.HIGHLIGHT_FREE,!0]]))},Qs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},mk=async function(){if(!a(this,Ro)){m(this,Ro,!0);const e=[];for(const t of a(this,Pt).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,ft).values())t.enable()}},gk=function(){if(this.unselectAll(),a(this,Ro)){m(this,Ro,!1);for(const e of a(this,Pt).values())e.disable();for(const e of a(this,ft).values())e.disable()}},Iw=function(e){const t=a(this,Pt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},yk=function(){let e=null;for(e of a(this,Se));return e},vh=function(){if(a(this,ft).size===0)return!0;if(a(this,ft).size===1)for(const e of a(this,ft).values())return e.isEmpty();return!1},Ow=function(e){for(const t of a(this,Se))t.unselect();a(this,Se).clear();for(const t of e)t.isEmpty()||(a(this,Se).add(t),t.select());S(this,W,Zt).call(this,{hasSelectedEditor:this.hasSelection})},$(Jc,"TRANSLATE_SMALL",1),$(Jc,"TRANSLATE_BIG",10);let vc=Jc;var bt,bs,$i,Du,xs,Nn,Lu,As,vn,ur,ll,Ss,Oo,Ji,wh,ag;const Jt=class Jt{constructor(e){A(this,Ji);A(this,bt,null);A(this,bs,!1);A(this,$i,null);A(this,Du,null);A(this,xs,null);A(this,Nn,null);A(this,Lu,!1);A(this,As,null);A(this,vn,null);A(this,ur,null);A(this,ll,null);A(this,Ss,!1);m(this,vn,e),m(this,Ss,e._uiManager.useNewAltTextFlow),a(Jt,Oo)||m(Jt,Oo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Jt._l10n??(Jt._l10n=e)}async render(){const e=m(this,$i,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=m(this,Du,document.createElement("span"));e.append(t),a(this,Ss)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(Jt,Oo).missing),t.setAttribute("data-l10n-id",a(Jt,Oo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=a(this,vn)._uiManager._signal;e.addEventListener("contextmenu",ki,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),a(this,vn)._uiManager.editAltText(a(this,vn)),a(this,Ss)&&a(this,vn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,Ji,wh)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(m(this,Lu,!0),s(r))},{signal:i}),await S(this,Ji,ag).call(this),e}finish(){a(this,$i)&&(a(this,$i).focus({focusVisible:a(this,Lu)}),m(this,Lu,!1))}isEmpty(){return a(this,Ss)?a(this,bt)===null:!a(this,bt)&&!a(this,bs)}hasData(){return a(this,Ss)?a(this,bt)!==null||!!a(this,ur):this.isEmpty()}get guessedText(){return a(this,ur)}async setGuessedText(e){a(this,bt)===null&&(m(this,ur,e),m(this,ll,await Jt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),S(this,Ji,ag).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,Ss)||a(this,bt)){(t=a(this,As))==null||t.remove(),m(this,As,null);return}if(!a(this,As)){const i=m(this,As,document.createElement("div"));i.className="noAltTextBadge",a(this,vn).div.append(i)}a(this,As).classList.toggle("hidden",!e)}serialize(e){let t=a(this,bt);return!e&&a(this,ur)===t&&(t=a(this,ll)),{altText:t,decorative:a(this,bs),guessedText:a(this,ur),textWithDisclaimer:a(this,ll)}}get data(){return{altText:a(this,bt),decorative:a(this,bs)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(m(this,ur,i),m(this,ll,s)),!(a(this,bt)===e&&a(this,bs)===t)&&(r||(m(this,bt,e),m(this,bs,t)),S(this,Ji,ag).call(this))}toggle(e=!1){a(this,$i)&&(!e&&a(this,Nn)&&(clearTimeout(a(this,Nn)),m(this,Nn,null)),a(this,$i).disabled=!e)}shown(){a(this,vn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,Ji,wh)}})}destroy(){var e,t;(e=a(this,$i))==null||e.remove(),m(this,$i,null),m(this,Du,null),m(this,xs,null),(t=a(this,As))==null||t.remove(),m(this,As,null)}};bt=new WeakMap,bs=new WeakMap,$i=new WeakMap,Du=new WeakMap,xs=new WeakMap,Nn=new WeakMap,Lu=new WeakMap,As=new WeakMap,vn=new WeakMap,ur=new WeakMap,ll=new WeakMap,Ss=new WeakMap,Oo=new WeakMap,Ji=new WeakSet,wh=function(){return a(this,bt)&&"added"||a(this,bt)===null&&this.guessedText&&"review"||"missing"},ag=async function(){var s,r,o;const e=a(this,$i);if(!e)return;if(a(this,Ss)){if(e.classList.toggle("done",!!a(this,bt)),e.setAttribute("data-l10n-id",a(Jt,Oo)[a(this,Ji,wh)]),(s=a(this,Du))==null||s.setAttribute("data-l10n-id",a(Jt,Oo)[`${a(this,Ji,wh)}-label`]),!a(this,bt)){(r=a(this,xs))==null||r.remove();return}}else{if(!a(this,bt)&&!a(this,bs)){e.classList.remove("done"),(o=a(this,xs))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,xs);if(!t){m(this,xs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,vn).id}`;const l=100,c=a(this,vn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(a(this,Nn)),m(this,Nn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{m(this,Nn,setTimeout(()=>{m(this,Nn,null),a(this,xs).classList.add("show"),a(this,vn)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;a(this,Nn)&&(clearTimeout(a(this,Nn)),m(this,Nn,null)),(u=a(this,xs))==null||u.classList.remove("show")},{signal:c})}a(this,bs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,bt)),t.parentNode||e.append(t);const i=a(this,vn).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},A(Jt,Oo,null),$(Jt,"_l10n",null);let py=Jt;var Es,cl,Hi,Lf,dr,Iu,Fo;class Lm{constructor(e){A(this,Es,null);A(this,cl,!1);A(this,Hi,null);A(this,Lf,null);A(this,dr,null);A(this,Iu,null);A(this,Fo,!1);m(this,Hi,e),this.toolbar=null}render(){if(!a(this,Hi)._uiManager.hasCommentManager())return null;const e=m(this,Es,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=a(this,Hi)._uiManager._signal;if(!(t instanceof AbortSignal)||t.aborted)return e;e.addEventListener("contextmenu",ki,{signal:t}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:t});const i=s=>{s.preventDefault(),this.edit()};return e.addEventListener("click",i,{capture:!0,signal:t}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(m(this,cl,!0),i(s))},{signal:t}),e}edit(){const{bottom:e,left:t,right:i}=a(this,Hi).getClientDimensions(),s={top:e};a(this,Hi)._uiManager.direction==="ltr"?s.right=i:s.left=t,a(this,Hi)._uiManager.editComment(a(this,Hi),s)}finish(){a(this,Es)&&(a(this,Es).focus({focusVisible:a(this,cl)}),m(this,cl,!1))}isDeleted(){return a(this,Fo)||a(this,dr)===""}hasBeenEdited(){return this.isDeleted()||a(this,dr)!==a(this,Lf)}serialize(){return this.data}get data(){return{text:a(this,dr),date:a(this,Iu),deleted:a(this,Fo)}}set data(e){if(e===null){m(this,dr,""),m(this,Fo,!0);return}m(this,dr,e),m(this,Iu,new Date),m(this,Fo,!1)}setInitialText(e){m(this,Lf,e),this.data=e}toggle(e=!1){a(this,Es)&&(a(this,Es).disabled=!e)}shown(){}destroy(){var e;(e=a(this,Es))==null||e.remove(),m(this,Es,null),m(this,dr,""),m(this,Iu,null),m(this,Hi,null),m(this,cl,!1),m(this,Fo,!1)}}Es=new WeakMap,cl=new WeakMap,Hi=new WeakMap,Lf=new WeakMap,dr=new WeakMap,Iu=new WeakMap,Fo=new WeakMap;var Ou,ul,If,Of,Ff,jf,Bf,hr,dl,fr,hl,pr,La,vk,wk,bk;const h1=class h1{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:o=null,signal:l}){A(this,La);A(this,Ou);A(this,ul,!1);A(this,If,null);A(this,Of);A(this,Ff);A(this,jf);A(this,Bf);A(this,hr,null);A(this,dl);A(this,fr,null);A(this,hl);A(this,pr,null);m(this,Ou,e),m(this,If,i),m(this,Of,t),m(this,Ff,s),m(this,jf,r),m(this,Bf,o),m(this,hl,new AbortController),m(this,dl,AbortSignal.any([l,a(this,hl).signal])),e.addEventListener("touchstart",S(this,La,vk).bind(this),{passive:!1,signal:a(this,dl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Vs.pixelRatio}destroy(){var e,t;(e=a(this,hl))==null||e.abort(),m(this,hl,null),(t=a(this,hr))==null||t.abort(),m(this,hr,null)}};Ou=new WeakMap,ul=new WeakMap,If=new WeakMap,Of=new WeakMap,Ff=new WeakMap,jf=new WeakMap,Bf=new WeakMap,hr=new WeakMap,dl=new WeakMap,fr=new WeakMap,hl=new WeakMap,pr=new WeakMap,La=new WeakSet,vk=function(e){var s,r,o;if((s=a(this,Of))!=null&&s.call(this))return;if(e.touches.length===1){if(a(this,hr))return;const l=m(this,hr,new AbortController),c=AbortSignal.any([a(this,dl),l.signal]),u=a(this,Ou),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=a(this,hr))==null||p.abort(),m(this,hr,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(at(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!a(this,pr)){m(this,pr,new AbortController);const l=AbortSignal.any([a(this,dl),a(this,pr).signal]),c=a(this,Ou),u={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",S(this,La,wk).bind(this),u);const d=S(this,La,bk).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",at,u),c.addEventListener("pointermove",at,u),c.addEventListener("pointercancel",at,u),c.addEventListener("pointerup",at,u),(r=a(this,Ff))==null||r.call(this)}if(at(e),e.touches.length!==2||(o=a(this,If))!=null&&o.call(this)){m(this,fr,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),m(this,fr,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},wk=function(e){var E;if(!a(this,fr)||e.touches.length!==2)return;at(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:s,screenY:r}=t,{screenX:o,screenY:l}=i,c=a(this,fr),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,v=f-d,g=o-s,b=l-r,y=Math.hypot(g,b)||1,w=Math.hypot(p,v)||1;if(!a(this,ul)&&Math.abs(w-y)<=h1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=r,c.touch1X=o,c.touch1Y=l,!a(this,ul)){m(this,ul,!0);return}const x=[(s+o)/2,(r+l)/2];(E=a(this,jf))==null||E.call(this,x,w,y)},bk=function(e){var t;e.touches.length>=2||(a(this,pr)&&(a(this,pr).abort(),m(this,pr,null),(t=a(this,Bf))==null||t.call(this)),a(this,fr)&&(at(e),m(this,fr,null),m(this,ul,!1)))};let my=h1;var fl,Ui,ze,Rt,Fu,jo,zf,pl,Mt,ml,mr,Bo,$f,gl,Dn,Hf,yl,gr,Cs,ju,Bu,mi,vl,Uf,ky,ie,Fw,Vf,jw,lg,xk,Ak,Bw,cg,zw,Sk,Ek,Ck,$w,_k,Hw,Tk,kk,Pk,Uw,bh;const ue=class ue{constructor(e){A(this,ie);A(this,fl,null);A(this,Ui,null);A(this,ze,null);A(this,Rt,null);A(this,Fu,!1);A(this,jo,null);A(this,zf,"");A(this,pl,!1);A(this,Mt,null);A(this,ml,null);A(this,mr,null);A(this,Bo,null);A(this,$f,"");A(this,gl,!1);A(this,Dn,null);A(this,Hf,!1);A(this,yl,!1);A(this,gr,!1);A(this,Cs,null);A(this,ju,0);A(this,Bu,0);A(this,mi,null);A(this,vl,null);$(this,"isSelected",!1);$(this,"_isCopy",!1);$(this,"_editToolbar",null);$(this,"_initialOptions",Object.create(null));$(this,"_initialData",null);$(this,"_isVisible",!0);$(this,"_uiManager",null);$(this,"_focusEventsAllowed",!0);A(this,Uf,!1);A(this,ky,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=vc.TRANSLATE_SMALL,i=vc.TRANSLATE_BIG;return he(this,"_resizerKeyboardManager",new om([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return he(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new GF({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Me("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,Uf)}set _isDraggable(e){var t;m(this,Uf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,ky)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):S(this,ie,bh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,gl)?m(this,gl,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(t+s)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s),this._onTranslated()}translate(e,t){S(this,ie,Fw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,Dn)||m(this,Dn,[this.x,this.y,this.width,this.height]),S(this,ie,Fw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,Dn)||m(this,Dn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u;const{style:d}=i;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,Dn)&&(a(this,Dn)[0]!==this.x||a(this,Dn)[1]!==this.y)}get _hasBeenResized(){return!!a(this,Dn)&&(a(this,Dn)[2]!==this.width||a(this,Dn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ue,s=i/e,r=i/t;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,s]}=this;let{x:r,y:o,width:l,height:c}=this;if(l*=i,c*=s,r*=i,o*=s,this._mustFixPosition)switch(e){case 0:r=an(r,0,i-l),o=an(o,0,s-c);break;case 90:r=an(r,0,i-c),o=an(o,l,s);break;case 180:r=an(r,l,i),o=an(o,c,s);break;case 270:r=an(r,c,i),o=an(o,0,s-l);break}this.x=r/=i,this.y=o/=s;const[u,d]=this.getBaseTranslation();r+=u,o+=d,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return S(i=ue,Vf,jw).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return S(i=ue,Vf,jw).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/i).toFixed(2)}%`,a(this,pl)||(r.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),r=!a(this,pl)&&t.endsWith("%");if(s&&r)return;const[o,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!a(this,pl)&&!r&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,ze))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,yl))return this._editToolbar;this._editToolbar=new Tw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=a(this,ze))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,ze)||(py.initialize(ue._l10n),m(this,ze,new py(this)),a(this,fl)&&(a(this,ze).data=a(this,fl),m(this,fl,null))),a(this,ze)}get altTextData(){var e;return(e=a(this,ze))==null?void 0:e.data}set altTextData(e){a(this,ze)&&(a(this,ze).data=e)}get guessedAltText(){var e;return(e=a(this,ze))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,ze))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,ze))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,ze)&&!a(this,ze).isEmpty()}hasAltTextData(){var e;return((e=a(this,ze))==null?void 0:e.hasData())??!1}addCommentButton(){return a(this,Rt)?a(this,Rt):m(this,Rt,new Lm(this))}get commentColor(){return null}get comment(){const e=a(this,Rt);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){a(this,Rt)||m(this,Rt,new Lm(this)),a(this,Rt).data=e}setCommentData(e){a(this,Rt)||m(this,Rt,new Lm(this)),a(this,Rt).setInitialText(e)}get hasEditedComment(){var e;return(e=a(this,Rt))==null?void 0:e.hasBeenEdited()}async editComment(){a(this,Rt)||m(this,Rt,new Lm(this)),a(this,Rt).edit()}addComment(e){if(this.hasEditedComment){const[,,,s]=e.rect,[r]=this.pageDimensions,[o]=this.pageTranslation,l=o+r+1,c=s-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,s]}}}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,Fu)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),S(this,ie,Hw).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),ok(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,vl)||m(this,vl,new my({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:S(this,ie,Sk).bind(this),onPinching:S(this,ie,Ek).bind(this),onPinchEnd:S(this,ie,Ck).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(m(this,gl,!0),this._isDraggable){S(this,ie,_k).call(this,e);return}S(this,ie,$w).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,Cs)&&clearTimeout(a(this,Cs)),m(this,Cs,setTimeout(()=>{var e;m(this,Cs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/s,d=t/s,h=this.x*r,f=this.y*o,p=this.width*r,v=this.height*o;switch(i){case 0:return[h+u+l,o-f-d-v+c,h+u+p+l,o-f-d+c];case 90:return[h+d+l,o-f+u+c,h+d+v+l,o-f+u+p+c];case 180:return[h-u-p+l,o-f+d+c,h-u+l,o-f+d+v+c];case 270:return[h-d-v+l,o-f-u-p+c,h-d+l,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,r,o]=e,l=r-i,c=o-s;switch(this.rotation){case 0:return[i,t-o,l,c];case 90:return[i,t-s,c,l];case 180:return[r,t-s,l,c];case 270:return[r,t-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),m(this,yl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),m(this,yl,!1),!0):!1}isInEditMode(){return a(this,yl)}shouldGetKeyboardEvents(){return a(this,gr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return t<o&&s>0&&e<r&&i>0}rebuild(){S(this,ie,Hw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Me("An editor must be serializable")}static async deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId});s.rotation=e.rotation,m(s,fl,e.accessibilityData),s._isCopy=e.isCopy||!1;const[r,o]=s.pageDimensions,[l,c,u,d]=s.getRectInCurrentCoords(e.rect,o);return s.x=l/r,s.y=c/o,s.width=u/r,s.height=d/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,Bo))==null||e.abort(),m(this,Bo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,Cs)&&(clearTimeout(a(this,Cs)),m(this,Cs,null)),S(this,ie,bh).call(this),this.removeEditToolbar(),a(this,mi)){for(const i of a(this,mi).values())clearTimeout(i);m(this,mi,null)}this.parent=null,(t=a(this,vl))==null||t.destroy(),m(this,vl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,ie,xk).call(this),a(this,Mt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),m(this,mr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,Mt).children;if(!a(this,Ui)){m(this,Ui,Array.from(t));const o=S(this,ie,Tk).bind(this),l=S(this,ie,kk).bind(this),c=this._uiManager._signal;for(const u of a(this,Ui)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",S(this,ie,Pk).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",ue._l10nResizer[d])}}const i=a(this,Ui)[0];let s=0;for(const o of t){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(a(this,Ui).length/4);if(r!==s){if(r<s)for(let l=0;l<s-r;l++)a(this,Mt).append(a(this,Mt).firstChild);else if(r>s)for(let l=0;l<r-s;l++)a(this,Mt).firstChild.before(a(this,Mt).lastChild);let o=0;for(const l of t){const u=a(this,Ui)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ue._l10nResizer[u])}}S(this,ie,Uw).call(this,0),m(this,gr,!0),a(this,Mt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,gr)&&S(this,ie,zw).call(this,a(this,$f),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){S(this,ie,bh).call(this),this.div.focus()}select(){var e,t,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(i=a(this,ze))==null||i.toggleAltTextBadge(!1)}}unselect(){var e,t,i,s,r;this.isSelected&&(this.isSelected=!1,(e=a(this,Mt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=a(this,ze))==null||r.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,Hf)}set isEditing(e){m(this,Hf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){m(this,pl,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,mi)||m(this,mi,new Map);const{action:i}=e;let s=a(this,mi).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),a(this,mi).delete(i),a(this,mi).size===0&&m(this,mi,null)},ue._telemetryTimeout),a(this,mi).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),m(this,Fu,!1)}disable(){this.div&&(this.div.tabIndex=-1),m(this,Fu,!0)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};fl=new WeakMap,Ui=new WeakMap,ze=new WeakMap,Rt=new WeakMap,Fu=new WeakMap,jo=new WeakMap,zf=new WeakMap,pl=new WeakMap,Mt=new WeakMap,ml=new WeakMap,mr=new WeakMap,Bo=new WeakMap,$f=new WeakMap,gl=new WeakMap,Dn=new WeakMap,Hf=new WeakMap,yl=new WeakMap,gr=new WeakMap,Cs=new WeakMap,ju=new WeakMap,Bu=new WeakMap,mi=new WeakMap,vl=new WeakMap,Uf=new WeakMap,ky=new WeakMap,ie=new WeakSet,Fw=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Vf=new WeakSet,jw=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},lg=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},xk=function(){if(a(this,Mt))return;m(this,Mt,document.createElement("div")),a(this,Mt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");a(this,Mt).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",S(this,ie,Ak).bind(this,i),{signal:t}),s.addEventListener("contextmenu",ki,{signal:t}),s.tabIndex=-1}this.div.prepend(a(this,Mt))},Ak=function(e,t){var d;t.preventDefault();const{isMac:i}=zt.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=a(this,ze))==null||d.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,m(this,ml,[t.screenX,t.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,ie,zw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",at,{passive:!1,signal:o}),window.addEventListener("contextmenu",ki,{signal:o}),m(this,mr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;r.abort(),this.parent.togglePointerEvents(!0),(h=a(this,ze))==null||h.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=c,S(this,ie,cg).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},Bw=function(e,t,i,s){this.width=i,this.height=s,this.x=e,this.y=t;const[r,o]=this.parentDimensions;this.setDims(r*i,o*s),this.fixAndSetPosition(),this._onResized()},cg=function(){if(!a(this,mr))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=a(this,mr);m(this,mr,null);const r=this.x,o=this.y,l=this.width,c=this.height;r===e&&o===t&&l===i&&c===s||this.addCommands({cmd:S(this,ie,Bw).bind(this,r,o,l,c),undo:S(this,ie,Bw).bind(this,e,t,i,s),mustExec:!0})},zw=function(e,t){const[i,s]=this.parentDimensions,r=this.x,o=this.y,l=this.width,c=this.height,u=ue.MIN_SIZE/i,d=ue.MIN_SIZE/s,h=S(this,ie,lg).call(this,this.rotation),f=(B,j)=>[h[0]*B+h[2]*j,h[1]*B+h[3]*j],p=S(this,ie,lg).call(this,360-this.rotation),v=(B,j)=>[p[0]*B+p[2]*j,p[1]*B+p[3]*j];let g,b,y=!1,w=!1;switch(e){case"topLeft":y=!0,g=(B,j)=>[0,0],b=(B,j)=>[B,j];break;case"topMiddle":g=(B,j)=>[B/2,0],b=(B,j)=>[B/2,j];break;case"topRight":y=!0,g=(B,j)=>[B,0],b=(B,j)=>[0,j];break;case"middleRight":w=!0,g=(B,j)=>[B,j/2],b=(B,j)=>[0,j/2];break;case"bottomRight":y=!0,g=(B,j)=>[B,j],b=(B,j)=>[0,0];break;case"bottomMiddle":g=(B,j)=>[B/2,j],b=(B,j)=>[B/2,0];break;case"bottomLeft":y=!0,g=(B,j)=>[0,j],b=(B,j)=>[B,0];break;case"middleLeft":w=!0,g=(B,j)=>[0,j/2],b=(B,j)=>[B,j/2];break}const x=g(l,c),E=b(l,c);let _=f(...E);const T=ue._round(r+_[0]),k=ue._round(o+_[1]);let R=1,M=1,N,L;if(t.fromKeyboard)({deltaX:N,deltaY:L}=t);else{const{screenX:B,screenY:j}=t,[D,I]=a(this,ml);[N,L]=this.screenToPageTranslation(B-D,j-I),a(this,ml)[0]=B,a(this,ml)[1]=j}if([N,L]=v(N/i,L/s),y){const B=Math.hypot(l,c);R=M=Math.max(Math.min(Math.hypot(E[0]-x[0]-N,E[1]-x[1]-L)/B,1/l,1/c),u/l,d/c)}else w?R=an(Math.abs(E[0]-x[0]-N),u,1)/l:M=an(Math.abs(E[1]-x[1]-L),d,1)/c;const O=ue._round(l*R),G=ue._round(c*M);_=f(...b(O,G));const F=T-_[0],X=k-_[1];a(this,Dn)||m(this,Dn,[this.x,this.y,this.width,this.height]),this.width=O,this.height=G,this.x=F,this.y=X,this.setDims(i*O,s*G),this.fixAndSetPosition(),this._onResizing()},Sk=function(){var e;m(this,mr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,ze))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Ek=function(e,t,i){let r=.7*(i/t)+1-.7;if(r===1)return;const o=S(this,ie,lg).call(this,this.rotation),l=(T,k)=>[o[0]*T+o[2]*k,o[1]*T+o[3]*k],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,v=ue.MIN_SIZE/c,g=ue.MIN_SIZE/u;r=Math.max(Math.min(r,1/f,1/p),v/f,g/p);const b=ue._round(f*r),y=ue._round(p*r);if(b===f&&y===p)return;a(this,Dn)||m(this,Dn,[d,h,f,p]);const w=l(f/2,p/2),x=ue._round(d+w[0]),E=ue._round(h+w[1]),_=l(b/2,y/2);this.x=x-_[0],this.y=E-_[1],this.width=b,this.height=y,this.setDims(c*b,u*y),this.fixAndSetPosition(),this._onResizing()},Ck=function(){var e;(e=a(this,ze))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),S(this,ie,cg).call(this)},$w=function(e){const{isMac:t}=zt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},_k=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:r},l=u=>{s.abort(),m(this,jo,null),m(this,gl,!1),this._uiManager.endDragSession()||S(this,ie,$w).call(this,u),i&&this._onStopDragging()};t&&(m(this,ju,e.clientX),m(this,Bu,e.clientY),m(this,jo,e.pointerId),m(this,zf,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==a(this,jo)){at(u);return}const[p,v]=this.screenToPageTranslation(d-a(this,ju),h-a(this,Bu));m(this,ju,d),m(this,Bu,h),this._uiManager.dragSelectedEditors(p,v)},o),window.addEventListener("touchmove",at,o),window.addEventListener("pointerdown",u=>{u.pointerType===a(this,zf)&&(a(this,vl)||u.isPrimary)&&l(u),at(u)},o));const c=u=>{if(!a(this,jo)||a(this,jo)===u.pointerId){l(u);return}at(u)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},Hw=function(){if(a(this,Bo)||!this.div)return;m(this,Bo,new AbortController);const e=this._uiManager.combinedSignal(a(this,Bo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Tk=function(e){ue._resizerKeyboardManager.exec(this,e)},kk=function(e){var t;a(this,gr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,Mt)&&S(this,ie,bh).call(this)},Pk=function(e){m(this,$f,a(this,gr)?e:"")},Uw=function(e){if(a(this,Ui))for(const t of a(this,Ui))t.tabIndex=e},bh=function(){m(this,gr,!1),S(this,ie,Uw).call(this,-1),S(this,ie,cg).call(this)},A(ue,Vf),$(ue,"_l10n",null),$(ue,"_l10nResizer",null),$(ue,"_borderLineWidth",-1),$(ue,"_colorManager",new Rw),$(ue,"_zIndex",1),$(ue,"_telemetryTimeout",1e3);let De=ue;class GF extends De{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const xS=3285377520,li=4294901760,us=65535;class Rk{constructor(e){this.h1=e?e&4294967295:xS,this.h2=e?e&4294967295:xS}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let g=0,b=e.length;g<b;g++){const y=e.charCodeAt(g);y<=255?t[i++]=y:(t[i++]=y>>>8,t[i++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(t.buffer,0,s);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&us,v=f&us;for(let g=0;g<s;g++)g&1?(l=o[g],l=l*h&li|l*p&us,l=l<<15|l>>>17,l=l*f&li|l*v&us,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[g],c=c*h&li|c*p&us,c=c<<15|c>>>17,c=c*f&li|c*v&us,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,r){case 3:l^=t[s*4+2]<<16;case 2:l^=t[s*4+1]<<8;case 1:l^=t[s*4],l=l*h&li|l*p&us,l=l<<15|l>>>17,l=l*f&li|l*v&us,s&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&li|e*36045&us,t=t*4283543511&li|((t<<16|e>>>16)*2950163797&li)>>>16,e^=t>>>1,e=e*444984403&li|e*60499&us,t=t*3301882366&li|((t<<16|e>>>16)*3120437893&li)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Vw=Object.freeze({map:null,hash:"",transfer:void 0});var wl,bl,Nt,Py,Mk;class s1{constructor(){A(this,Py);A(this,wl,!1);A(this,bl,null);A(this,Nt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=a(this,Nt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return a(this,Nt).get(e)}remove(e){if(a(this,Nt).delete(e),a(this,Nt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of a(this,Nt).values())if(t instanceof De)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=a(this,Nt).get(e);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(t))i[r]!==o&&(s=!0,i[r]=o);else s=!0,a(this,Nt).set(e,t);s&&S(this,Py,Mk).call(this),t instanceof De&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return a(this,Nt).has(e)}get size(){return a(this,Nt).size}resetModified(){a(this,wl)&&(m(this,wl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Nk(this)}get serializable(){if(a(this,Nt).size===0)return Vw;const e=new Map,t=new Rk,i=[],s=Object.create(null);let r=!1;for(const[o,l]of a(this,Nt)){const c=l instanceof De?l.serialize(!1,s):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Vw}get editorStats(){let e=null;const t=new Map;for(const i of a(this,Nt).values()){if(!(i instanceof De))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[r]||(e[r]=new Map);for(const[l,c]of Object.entries(s)){if(l==="type")continue;let u=o.get(l);u||(u=new Map,o.set(l,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){m(this,bl,null)}get modifiedIds(){if(a(this,bl))return a(this,bl);const e=[];for(const t of a(this,Nt).values())!(t instanceof De)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return m(this,bl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,Nt).entries()}}wl=new WeakMap,bl=new WeakMap,Nt=new WeakMap,Py=new WeakSet,Mk=function(){a(this,wl)||(m(this,wl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wf;class Nk extends s1{constructor(t){super();A(this,Wf);const{map:i,hash:s,transfer:r}=t.serializable,o=structuredClone(i,r?{transfer:r}:null);m(this,Wf,{map:o,hash:s,transfer:r})}get print(){Me("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,Wf)}get modifiedIds(){return he(this,"modifiedIds",{ids:new Set,hash:""})}}Wf=new WeakMap;var zu;class XF{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,zu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,zu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||a(this,zu).has(e.loadedName))){if(ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=e,l=new FontFace(s,r,o);this.addNativeFontFace(l);try{await l.load(),a(this,zu).add(s),i==null||i(e)}catch{oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Me("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw oe(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return he(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return he(this,"isSyncFontLoadingSupported",on||zt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ct(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return he(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(E,_){return E.charCodeAt(_)<<24|E.charCodeAt(_+1)<<16|E.charCodeAt(_+2)<<8|E.charCodeAt(_+3)&255}function s(E,_,T,k){const R=E.substring(0,_),M=E.substring(_+T);return R+k+M}let r,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(E,_){if(++u>30){oe("Load test font never loaded."),_();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(d.bind(null,E,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const v=16,g=1482184792;let b=i(f,v);for(r=0,o=h.length-3;r<o;r+=4)b=b-g+i(h,r)|0;r<h.length&&(b=b-g+i(h+"XXX",r)|0),f=s(f,v,4,MF(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const E of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=E,x.append(_)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}zu=new WeakMap;class qF{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${ek(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let s;try{s=e.get(i)}catch(o){oe(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=r}}function YF(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(on)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function KF(n){if(on&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return im(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Im(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Ww=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,QF=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",ZF=OF.bind(null,Ww,QF);var yr,Ry;class JF{constructor(){A(this,yr,new Map);A(this,Ry,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};a(this,Ry).then(()=>{for(const[s]of a(this,yr))s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){oe("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}a(this,yr).set(t,s)}removeEventListener(e,t){const i=a(this,yr).get(t);i==null||i(),a(this,yr).delete(t)}terminate(){for(const[,e]of a(this,yr))e==null||e();a(this,yr).clear()}}yr=new WeakMap,Ry=new WeakMap;const Om={DATA:1,ERROR:2},rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function AS(){}function gn(n){if(n instanceof Na||n instanceof Ew||n instanceof vS||n instanceof hy||n instanceof c0)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Me('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Na(n.message);case"InvalidPDFException":return new Ew(n.message);case"PasswordException":return new vS(n.message,n.code);case"ResponseException":return new hy(n.message,n.status,n.missing);case"UnknownErrorException":return new c0(n.message,n.details)}return new c0(n.message,n.toString())}var $u,Ci,Dk,Lk,Ik,ug;class xh{constructor(e,t,i){A(this,Ci);A(this,$u,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",S(this,Ci,Dk).bind(this),{signal:a(this,$u).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,i,s){const r=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:r,data:t,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,c.postMessage({sourceName:o,targetName:l,stream:rt.PULL,streamId:r,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ct(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:rt.CANCEL,streamId:r,reason:gn(u)}),d.promise}},i)}destroy(){var e;(e=a(this,$u))==null||e.abort(),m(this,$u,null)}}$u=new WeakMap,Ci=new WeakSet,Dk=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){S(this,Ci,Ik).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Om.DATA)s.resolve(e.data);else if(e.callback===Om.ERROR)s.reject(gn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:Om.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:Om.ERROR,callbackId:e.callbackId,reason:gn(o)})});return}if(e.streamId){S(this,Ci,Lk).call(this,e);return}t(e.data)},Lk=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:rt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){ct(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:rt.ERROR,streamId:t,reason:gn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.START_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:rt.START_COMPLETE,streamId:t,reason:gn(u)})})},Ik=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(gn(e.reason));break;case rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(gn(e.reason));break;case rt.PULL:if(!l){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||AS).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,reason:gn(u)})});break;case rt.ENQUEUE:if(ct(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case rt.CLOSE:if(ct(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),S(this,Ci,ug).call(this,o,t);break;case rt.ERROR:ct(o,"error should have stream controller"),o.controller.error(gn(e.reason)),S(this,Ci,ug).call(this,o,t);break;case rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(gn(e.reason)),S(this,Ci,ug).call(this,o,t);break;case rt.CANCEL:if(!l)break;const c=gn(e.reason);Promise.try(l.onCancel||AS,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,reason:gn(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ug=async function(e,t){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var Gf;class Ok{constructor({enableHWA:e=!1}){A(this,Gf,!1);m(this,Gf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!a(this,Gf)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Me("Abstract method `_createCanvas` called.")}}Gf=new WeakMap;class ej extends Ok{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class Fk{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Me("Abstract method `_fetch` called.")}}class SS extends Fk{async _fetch(e){const t=await sm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):im(t)}}class jk{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,r){return"none"}destroy(e=!1){}}var xl,Hu,vr,wr,qt,Al,Sl,q,Wt,Ah,Lc,dg,Ic,Bk,Gw,Oc,Sh,Eh,Xw,Ch;class tj extends jk{constructor({docId:t,ownerDocument:i=globalThis.document}){super();A(this,q);A(this,xl);A(this,Hu);A(this,vr);A(this,wr);A(this,qt);A(this,Al);A(this,Sl,0);m(this,wr,t),m(this,qt,i)}addFilter(t){if(!t)return"none";let i=a(this,q,Wt).get(t);if(i)return i;const[s,r,o]=S(this,q,dg).call(this,t),l=t.length===1?s:`${s}${r}${o}`;if(i=a(this,q,Wt).get(l),i)return a(this,q,Wt).set(t,i),i;const c=`g_${a(this,wr)}_transfer_map_${Ke(this,Sl)._++}`,u=S(this,q,Ic).call(this,c);a(this,q,Wt).set(t,u),a(this,q,Wt).set(l,u);const d=S(this,q,Oc).call(this,c);return S(this,q,Eh).call(this,s,r,o,d),u}addHCMFilter(t,i){var v;const s=`${t}-${i}`,r="base";let o=a(this,q,Ah).get(r);if((o==null?void 0:o.key)===s||(o?((v=o.filter)==null||v.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},a(this,q,Ah).set(r,o)),!t||!i))return o.url;const l=S(this,q,Ch).call(this,t);t=J.makeHexColor(...l);const c=S(this,q,Ch).call(this,i);if(i=J.makeHexColor(...c),a(this,q,Lc).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const b=g/255;u[g]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${a(this,wr)}_hcm_filter`,f=o.filter=S(this,q,Oc).call(this,h);S(this,q,Eh).call(this,d,d,d,f),S(this,q,Gw).call(this,f);const p=(g,b)=>{const y=l[g]/255,w=c[g]/255,x=new Array(b+1);for(let E=0;E<=b;E++)x[E]=y+E/b*(w-y);return x.join(",")};return S(this,q,Eh).call(this,p(0,5),p(1,5),p(2,5),f),o.url=S(this,q,Ic).call(this,h),o.url}addAlphaFilter(t){let i=a(this,q,Wt).get(t);if(i)return i;const[s]=S(this,q,dg).call(this,[t]),r=`alpha_${s}`;if(i=a(this,q,Wt).get(r),i)return a(this,q,Wt).set(t,i),i;const o=`g_${a(this,wr)}_alpha_map_${Ke(this,Sl)._++}`,l=S(this,q,Ic).call(this,o);a(this,q,Wt).set(t,l),a(this,q,Wt).set(r,l);const c=S(this,q,Oc).call(this,o);return S(this,q,Xw).call(this,s,c),l}addLuminosityFilter(t){let i=a(this,q,Wt).get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=S(this,q,dg).call(this,[t]),r=`luminosity_${s}`):r="luminosity",i=a(this,q,Wt).get(r),i)return a(this,q,Wt).set(t,i),i;const o=`g_${a(this,wr)}_luminosity_map_${Ke(this,Sl)._++}`,l=S(this,q,Ic).call(this,o);a(this,q,Wt).set(t,l),a(this,q,Wt).set(r,l);const c=S(this,q,Oc).call(this,o);return S(this,q,Bk).call(this,c),t&&S(this,q,Xw).call(this,s,c),l}addHighlightHCMFilter(t,i,s,r,o){var w;const l=`${i}-${s}-${r}-${o}`;let c=a(this,q,Ah).get(t);if((c==null?void 0:c.key)===l||(c?((w=c.filter)==null||w.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},a(this,q,Ah).set(t,c)),!i||!s))return c.url;const[u,d]=[i,s].map(S(this,q,Ch).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,v]=[r,o].map(S(this,q,Ch).bind(this));f<h&&([h,f,p,v]=[f,h,v,p]),a(this,q,Lc).style.color="";const g=(x,E,_)=>{const T=new Array(256),k=(f-h)/_,R=x/255,M=(E-x)/(255*_);let N=0;for(let L=0;L<=_;L++){const O=Math.round(h+L*k),G=R+L*M;for(let F=N;F<=O;F++)T[F]=G;N=O+1}for(let L=N;L<256;L++)T[L]=T[N-1];return T.join(",")},b=`g_${a(this,wr)}_hcm_${t}_filter`,y=c.filter=S(this,q,Oc).call(this,b);return S(this,q,Gw).call(this,y),S(this,q,Eh).call(this,g(p[0],v[0],5),g(p[1],v[1],5),g(p[2],v[2],5),y),c.url=S(this,q,Ic).call(this,b),c.url}destroy(t=!1){var i,s,r,o;t&&((i=a(this,Al))!=null&&i.size)||((s=a(this,vr))==null||s.parentNode.parentNode.remove(),m(this,vr,null),(r=a(this,Hu))==null||r.clear(),m(this,Hu,null),(o=a(this,Al))==null||o.clear(),m(this,Al,null),m(this,Sl,0))}}xl=new WeakMap,Hu=new WeakMap,vr=new WeakMap,wr=new WeakMap,qt=new WeakMap,Al=new WeakMap,Sl=new WeakMap,q=new WeakSet,Wt=function(){return a(this,Hu)||m(this,Hu,new Map)},Ah=function(){return a(this,Al)||m(this,Al,new Map)},Lc=function(){if(!a(this,vr)){const t=a(this,qt).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=a(this,qt).createElementNS(Ks,"svg");s.setAttribute("width",0),s.setAttribute("height",0),m(this,vr,a(this,qt).createElementNS(Ks,"defs")),t.append(s),s.append(a(this,vr)),a(this,qt).body.append(t)}return a(this,vr)},dg=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[i,s,r]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,l[u]=s[u]/255,c[u]=r[u]/255;return[o.join(","),l.join(","),c.join(",")]},Ic=function(t){if(a(this,xl)===void 0){m(this,xl,"");const i=a(this,qt).URL;i!==a(this,qt).baseURI&&(bv(i)?oe('#createUrl: ignore "data:"-URL for performance reasons.'):m(this,xl,QT(i,"")))}return`url(${a(this,xl)}#${t})`},Bk=function(t){const i=a(this,qt).createElementNS(Ks,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},Gw=function(t){const i=a(this,qt).createElementNS(Ks,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Oc=function(t){const i=a(this,qt).createElementNS(Ks,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),a(this,q,Lc).append(i),i},Sh=function(t,i,s){const r=a(this,qt).createElementNS(Ks,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)},Eh=function(t,i,s,r){const o=a(this,qt).createElementNS(Ks,"feComponentTransfer");r.append(o),S(this,q,Sh).call(this,o,"feFuncR",t),S(this,q,Sh).call(this,o,"feFuncG",i),S(this,q,Sh).call(this,o,"feFuncB",s)},Xw=function(t,i){const s=a(this,qt).createElementNS(Ks,"feComponentTransfer");i.append(s),S(this,q,Sh).call(this,s,"feFuncA",t)},Ch=function(t){return a(this,q,Lc).style.color=t,xv(getComputedStyle(a(this,q,Lc)).getPropertyValue("color"))};class zk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Me("Abstract method `_fetch` called.")}}class ES extends zk{async _fetch(e){const t=await sm(e,"arraybuffer");return new Uint8Array(t)}}class $k{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Me("Abstract method `_fetch` called.")}}class CS extends $k{async _fetch(e){const t=await sm(e,"arraybuffer");return new Uint8Array(t)}}on&&oe("Please use the `legacy` build in Node.js environments.");async function r1(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class nj extends jk{}class ij extends Ok{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class sj extends Fk{async _fetch(e){return r1(e)}}class rj extends zk{async _fetch(e){return r1(e)}}class oj extends $k{async _fetch(e){return r1(e)}}const Mc="__forcedDependency";var Ln,tn,Uu,_s,Vu,br,Ee,ke,xr,In,zo,Wu,$o,Ho;class aj{constructor(e){A(this,Ln,{__proto__:null});A(this,tn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Mc]:[]});A(this,Uu,new Map);A(this,_s,[]);A(this,Vu,[]);A(this,br,[[1,0,0,1,0,0]]);A(this,Ee,[-1/0,-1/0,1/0,1/0]);A(this,ke,new Float64Array([1/0,1/0,-1/0,-1/0]));A(this,xr,-1);A(this,In,new Set);A(this,zo,new Map);A(this,Wu,new Map);A(this,$o);A(this,Ho);m(this,$o,e.width),m(this,Ho,e.height)}save(e){return m(this,Ln,{__proto__:a(this,Ln)}),m(this,tn,{__proto__:a(this,tn),transform:{__proto__:a(this,tn).transform},moveText:{__proto__:a(this,tn).moveText},sameLineText:{__proto__:a(this,tn).sameLineText},[Mc]:{__proto__:a(this,tn)[Mc]}}),m(this,Ee,{__proto__:a(this,Ee)}),a(this,_s).push([e,null]),this}restore(e){const t=Object.getPrototypeOf(a(this,Ln));if(t===null)return this;m(this,Ln,t),m(this,tn,Object.getPrototypeOf(a(this,tn))),m(this,Ee,Object.getPrototypeOf(a(this,Ee)));const i=a(this,_s).pop();return i!==void 0&&(i[1]=e),this}recordOpenMarker(e){return a(this,_s).push([e,null]),this}getOpenMarker(){return a(this,_s).length===0?null:a(this,_s).at(-1)[0]}recordCloseMarker(e){const t=a(this,_s).pop();return t!==void 0&&(t[1]=e),this}beginMarkedContent(e){return a(this,Vu).push([e,null]),this}endMarkedContent(e){const t=a(this,Vu).pop();return t!==void 0&&(t[1]=e),this}pushBaseTransform(e){return a(this,br).push(J.multiplyByDOMMatrix(a(this,br).at(-1),e.getTransform())),this}popBaseTransform(){return a(this,br).length>1&&a(this,br).pop(),this}recordSimpleData(e,t){return a(this,Ln)[e]=t,this}recordIncrementalData(e,t){return a(this,tn)[e].push(t),this}resetIncrementalData(e,t){return a(this,tn)[e].length=0,this}recordNamedData(e,t){return a(this,Uu).set(e,t),this}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Mc,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in a(this,Ln)&&this.recordFutureForcedDependency(t,a(this,Ln)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of a(this,In))this.recordFutureForcedDependency(Mc,e);return this}resetBBox(e){return m(this,xr,e),a(this,ke)[0]=1/0,a(this,ke)[1]=1/0,a(this,ke)[2]=-1/0,a(this,ke)[3]=-1/0,this}get hasPendingBBox(){return a(this,xr)!==-1}recordClipBox(e,t,i,s,r,o){const l=J.multiplyByDOMMatrix(a(this,br).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];J.axialAlignedBoundingBox([i,r,s,o],l,c);const u=J.intersect(a(this,Ee),c);return u?(a(this,Ee)[0]=u[0],a(this,Ee)[1]=u[1],a(this,Ee)[2]=u[2],a(this,Ee)[3]=u[3]):(a(this,Ee)[0]=a(this,Ee)[1]=1/0,a(this,Ee)[2]=a(this,Ee)[3]=-1/0),this}recordBBox(e,t,i,s,r,o){const l=a(this,Ee);if(l[0]===1/0)return this;const c=J.multiplyByDOMMatrix(a(this,br).at(-1),t.getTransform());if(l[0]===-1/0)return J.axialAlignedBoundingBox([i,r,s,o],c,a(this,ke)),this;const u=[1/0,1/0,-1/0,-1/0];return J.axialAlignedBoundingBox([i,r,s,o],c,u),a(this,ke)[0]=Math.min(a(this,ke)[0],Math.max(u[0],l[0])),a(this,ke)[1]=Math.min(a(this,ke)[1],Math.max(u[1],l[1])),a(this,ke)[2]=Math.max(a(this,ke)[2],Math.min(u[2],l[2])),a(this,ke)[3]=Math.max(a(this,ke)[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,i,s=1,r=0,o=0,l){const c=i.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&a(this,Wu).get(i),u!==!1&&(d=[0,0,0,0],J.axialAlignedBoundingBox(c,i.fontMatrix,d),(s!==1||r!==0||o!==0)&&J.scaleMinMax([s,0,0,-s,r,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&d&&u===void 0&&(u=d[0]<=r-h.actualBoundingBoxLeft&&d[2]>=r+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,a(this,Wu).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,r-h.actualBoundingBoxLeft,r+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return a(this,ke)[0]=Math.max(0,a(this,Ee)[0]),a(this,ke)[1]=Math.max(0,a(this,Ee)[1]),a(this,ke)[2]=Math.min(a(this,$o),a(this,Ee)[2]),a(this,ke)[3]=Math.min(a(this,Ho),a(this,Ee)[3]),this}getSimpleIndex(e){return a(this,Ln)[e]}recordDependencies(e,t){const i=a(this,In),s=a(this,Ln),r=a(this,tn);for(const o of t)o in a(this,Ln)?i.add(s[o]):o in r&&r[o].forEach(i.add,i);return this}copyDependenciesFromIncrementalOperation(e,t){const i=a(this,zo),s=a(this,In);for(const r of a(this,tn)[t])i.get(r).dependencies.forEach(s.add,s.add(r));return this}recordNamedDependency(e,t){return a(this,Uu).has(t)&&a(this,In).add(a(this,Uu).get(t)),this}recordOperation(e,t=!1){this.recordDependencies(e,[Mc]);const i=new Set(a(this,In)),s=a(this,_s).concat(a(this,Vu)),r=a(this,xr)===e?{minX:a(this,ke)[0],minY:a(this,ke)[1],maxX:a(this,ke)[2],maxY:a(this,ke)[3]}:null;return a(this,zo).set(e,{bbox:r,pairs:s,dependencies:i}),t||m(this,xr,-1),a(this,In).clear(),this}bboxToClipBoxDropOperation(e){return a(this,xr)!==-1&&(m(this,xr,-1),a(this,Ee)[0]=Math.max(a(this,Ee)[0],a(this,ke)[0]),a(this,Ee)[1]=Math.max(a(this,Ee)[1],a(this,ke)[1]),a(this,Ee)[2]=Math.min(a(this,Ee)[2],a(this,ke)[2]),a(this,Ee)[3]=Math.min(a(this,Ee)[3],a(this,ke)[3])),a(this,In).clear(),this}_takePendingDependencies(){const e=a(this,In);return m(this,In,new Set),e}_extractOperation(e){const t=a(this,zo).get(e);return a(this,zo).delete(e),t}_pushPendingDependencies(e){for(const t of e)a(this,In).add(t)}take(){return a(this,Wu).clear(),Array.from(a(this,zo),([e,{bbox:t,pairs:i,dependencies:s}])=>(i.forEach(r=>r.forEach(s.add,s)),s.delete(e),{minX:((t==null?void 0:t.minX)??0)/a(this,$o),maxX:((t==null?void 0:t.maxX)??a(this,$o))/a(this,$o),minY:((t==null?void 0:t.minY)??0)/a(this,Ho),maxY:((t==null?void 0:t.maxY)??a(this,Ho))/a(this,Ho),dependencies:Array.from(s).sort((r,o)=>r-o),idx:e}))}}Ln=new WeakMap,tn=new WeakMap,Uu=new WeakMap,_s=new WeakMap,Vu=new WeakMap,br=new WeakMap,Ee=new WeakMap,ke=new WeakMap,xr=new WeakMap,In=new WeakMap,zo=new WeakMap,Wu=new WeakMap,$o=new WeakMap,Ho=new WeakMap;var xe,We,Gu,Uo,Xu;const f1=class f1{constructor(e,t){A(this,xe);A(this,We);A(this,Gu,0);A(this,Uo);A(this,Xu,0);if(e instanceof f1)return e;m(this,xe,e),m(this,Uo,e._takePendingDependencies()),m(this,We,t)}save(e){return Ke(this,Xu)._++,a(this,xe).save(a(this,We)),this}restore(e){return a(this,Xu)>0&&(a(this,xe).restore(a(this,We)),Ke(this,Xu)._--),this}recordOpenMarker(e){return Ke(this,Gu)._++,this}getOpenMarker(){return a(this,Gu)>0?a(this,We):a(this,xe).getOpenMarker()}recordCloseMarker(e){return Ke(this,Gu)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return a(this,xe).pushBaseTransform(e),this}popBaseTransform(){return a(this,xe).popBaseTransform(),this}recordSimpleData(e,t){return a(this,xe).recordSimpleData(e,a(this,We)),this}recordIncrementalData(e,t){return a(this,xe).recordIncrementalData(e,a(this,We)),this}resetIncrementalData(e,t){return a(this,xe).resetIncrementalData(e,a(this,We)),this}recordNamedData(e,t){return this}recordFutureForcedDependency(e,t){return a(this,xe).recordFutureForcedDependency(e,a(this,We)),this}inheritSimpleDataAsFutureForcedDependencies(e){return a(this,xe).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return a(this,xe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return a(this,xe).hasPendingBBox||a(this,xe).resetBBox(a(this,We)),this}get hasPendingBBox(){return a(this,xe).hasPendingBBox}recordClipBox(e,t,i,s,r,o){return a(this,xe).recordClipBox(a(this,We),t,i,s,r,o),this}recordBBox(e,t,i,s,r,o){return a(this,xe).recordBBox(a(this,We),t,i,s,r,o),this}recordCharacterBBox(e,t,i,s,r,o,l){return a(this,xe).recordCharacterBBox(a(this,We),t,i,s,r,o,l),this}recordFullPageBBox(e){return a(this,xe).recordFullPageBBox(a(this,We)),this}getSimpleIndex(e){return a(this,xe).getSimpleIndex(e)}recordDependencies(e,t){return a(this,xe).recordDependencies(a(this,We),t),this}copyDependenciesFromIncrementalOperation(e,t){return a(this,xe).copyDependenciesFromIncrementalOperation(a(this,We),t),this}recordNamedDependency(e,t){return a(this,xe).recordNamedDependency(a(this,We),t),this}recordOperation(e){a(this,xe).recordOperation(a(this,We),!0);const t=a(this,xe)._extractOperation(a(this,We));for(const i of t.dependencies)a(this,Uo).add(i);return a(this,Uo).delete(a(this,We)),a(this,Uo).delete(null),this}bboxToClipBoxDropOperation(e){return a(this,xe).bboxToClipBoxDropOperation(a(this,We)),this}recordNestedDependencies(){a(this,xe)._pushPendingDependencies(a(this,Uo))}take(){throw new Error("Unreachable")}};xe=new WeakMap,We=new WeakMap,Gu=new WeakMap,Uo=new WeakMap,Xu=new WeakMap;let gy=f1;const ci={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ot={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qw(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}class o1{isModifyingCurrentTransform(){return!1}getPattern(){Me("Abstract method `getPattern` called.")}}class lj extends o1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let r;if(s===Ot.STROKE||s===Ot.FILL){const o=t.current.getClippedPathBoundingBox(s,Ge(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),i=J.transform(i,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),qw(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);r.setTransform(h)}else qw(e,this._bbox),r=this._createGradient(e);return r}}function h0(n,e,t,i,s,r,o,l){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f),c[i+1]>c[s+1]&&(f=i,i=s,s=f,f=o,o=l,l=f),c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,v=(c[t+1]+e.offsetY)*e.scaleY,g=(c[i]+e.offsetX)*e.scaleX,b=(c[i+1]+e.offsetY)*e.scaleY,y=(c[s]+e.offsetX)*e.scaleX,w=(c[s+1]+e.offsetY)*e.scaleY;if(v>=w)return;const x=u[r],E=u[r+1],_=u[r+2],T=u[o],k=u[o+1],R=u[o+2],M=u[l],N=u[l+1],L=u[l+2],O=Math.round(v),G=Math.round(w);let F,X,B,j,D,I,U,te;for(let V=O;V<=G;V++){if(V<b){const ne=V<v?0:(v-V)/(v-b);F=p-(p-g)*ne,X=x-(x-T)*ne,B=E-(E-k)*ne,j=_-(_-R)*ne}else{let ne;V>w?ne=1:b===w?ne=0:ne=(b-V)/(b-w),F=g-(g-y)*ne,X=T-(T-M)*ne,B=k-(k-N)*ne,j=R-(R-L)*ne}let K;V<v?K=0:V>w?K=1:K=(v-V)/(v-w),D=p-(p-y)*K,I=x-(x-M)*K,U=E-(E-N)*K,te=_-(_-L)*K;const se=Math.round(Math.min(F,D)),we=Math.round(Math.max(F,D));let _e=h*V+se*4;for(let ne=se;ne<=we;ne++)K=(F-ne)/(F-D),K<0?K=0:K>1&&(K=1),d[_e++]=X-(X-I)*K|0,d[_e++]=B-(B-U)*K|0,d[_e++]=j-(j-te)*K|0,d[_e++]=255}}function cj(n,e,t){const i=e.coords,s=e.colors;let r,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(i.length/l)-1,u=l-1;for(r=0;r<c;r++){let d=r*l;for(let h=0;h<u;h++,d++)h0(n,t,i[d],i[d+1],i[d+l],s[d],s[d+1],s[d+l]),h0(n,t,i[d+l+1],i[d+1],i[d+l],s[d+l+1],s[d+1],s[d+l])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)h0(n,t,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class uj extends o1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,v=d/f,g={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/v},b=h+2*2,y=f+2*2,w=i.getCanvas("mesh",b,y),x=w.context,E=x.createImageData(h,f);if(t){const T=E.data;for(let k=0,R=T.length;k<R;k+=4)T[k]=t[0],T[k+1]=t[1],T[k+2]=t[2],T[k+3]=255}for(const T of this._figures)cj(E,T,g);return x.putImageData(E,2,2),{canvas:w.canvas,offsetX:l-2*p,offsetY:c-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,s){qw(e,this._bbox);const r=new Float32Array(2);if(s===Ot.SHADING)J.singularValueDecompose2dScale(Ge(e),r);else if(this.matrix){J.singularValueDecompose2dScale(this.matrix,r);const[l,c]=r;J.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=l,r[1]*=c}else J.singularValueDecompose2dScale(t.baseTransform,r);const o=this._createMeshCanvas(r,s===Ot.SHADING?null:this._background,t.cachedCanvases);return s!==Ot.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class dj extends o1{getPattern(){return"hotpink"}}function hj(n){switch(n[0]){case"RadialAxial":return new lj(n);case"Mesh":return new uj(n);case"Dummy":return new dj}throw new Error(`Unknown IR type: ${n[0]}`)}const _S={COLORED:1,UNCOLORED:2},My=class My{constructor(e,t,i,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){var D,I,U,te;const{bbox:t,operatorList:i,paintType:s,tilingType:r,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),wv("TilingType: "+r);const d=t[0],h=t[1],f=t[2],p=t[3],v=f-d,g=p-h,b=new Float32Array(2);J.singularValueDecompose2dScale(this.matrix,b);const[y,w]=b;J.singularValueDecompose2dScale(this.baseTransform,b);const x=y*b[0],E=w*b[1];let _=v,T=g,k=!1,R=!1;const M=Math.ceil(c*x),N=Math.ceil(u*E),L=Math.ceil(v*x),O=Math.ceil(g*E);M>=L?_=c:k=!0,N>=O?T=u:R=!0;const G=this.getSizeAndScale(_,this.ctx.canvas.width,x),F=this.getSizeAndScale(T,this.ctx.canvas.height,E),X=e.cachedCanvases.getCanvas("pattern",G.size,F.size),B=X.context,j=l.createCanvasGraphics(B);if(j.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(j,s,o),B.translate(-G.scale*d,-F.scale*h),j.transform(0,G.scale,0,0,F.scale,0,0),B.save(),(D=j.dependencyTracker)==null||D.save(),this.clipBbox(j,d,h,f,p),j.baseTransform=Ge(j.ctx),j.executeOperatorList(i),j.endDrawing(),(te=(I=j.dependencyTracker)==null?void 0:(U=I.restore()).recordNestedDependencies)==null||te.call(U),B.restore(),k||R){const V=X.canvas;k&&(_=c),R&&(T=u);const K=this.getSizeAndScale(_,this.ctx.canvas.width,x),se=this.getSizeAndScale(T,this.ctx.canvas.height,E),we=K.size,_e=se.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",we,_e),as=ne.context,oi=k?Math.floor(v/c):0,Pi=R?Math.floor(g/u):0;for(let Ht=0;Ht<=oi;Ht++)for(let mn=0;mn<=Pi;mn++)as.drawImage(V,we*Ht,_e*mn,we,_e,0,0,we,_e);return{canvas:ne.canvas,scaleX:K.scale,scaleY:se.scale,offsetX:d,offsetY:h}}return{canvas:X.canvas,scaleX:G.scale,scaleY:F.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,i){const s=Math.max(My.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,t,i,s,r){const o=s-t,l=r-i;e.ctx.rect(t,i,o,l),J.axialAlignedBoundingBox([t,i,s,r],Ge(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,r=e.current;switch(t){case _S.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;s.fillStyle=r.fillColor=o,s.strokeStyle=r.strokeColor=l;break;case _S.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new RF(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,s){let r=i;s!==Ot.SHADING&&(r=J.transform(r,t.baseTransform),this.matrix&&(r=J.transform(r,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(r);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};$(My,"MAX_PATTERN_SIZE",3e3);let Yw=My;function fj({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const l=zt.isLittleEndian?4278190080:255,[c,u]=o?[r,l]:[l,r],d=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<s;v++){for(const b=e+d;e<b;e++){const y=e<f?n[e]:255;t[p++]=y&128?u:c,t[p++]=y&64?u:c,t[p++]=y&32?u:c,t[p++]=y&16?u:c,t[p++]=y&8?u:c,t[p++]=y&4?u:c,t[p++]=y&2?u:c,t[p++]=y&1?u:c}if(h===0)continue;const g=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=g&1<<7-b?u:c}return{srcPos:e,destPos:p}}const TS=16,kS=100,pj=15,PS=10,An=16,f0=new DOMMatrix,Kn=new Float32Array(2),Zc=new Float32Array([1/0,1/0,-1/0,-1/0]);function mj(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,s,r,o,l){e.transform(t,i,s,r,o,l),this.__originalTransform(t,i,s,r,o,l)},n.setTransform=function(t,i,s,r,o,l){e.setTransform(t,i,s,r,o,l),this.__originalSetTransform(t,i,s,r,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,r,o,l){e.bezierCurveTo(t,i,s,r,o,l),this.__originalBezierCurveTo(t,i,s,r,o,l)},n.rect=function(t,i,s,r){e.rect(t,i,s,r),this.__originalRect(t,i,s,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class gj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Fm(n,e,t,i,s,r,o,l,c,u){const[d,h,f,p,v,g]=Ge(n);if(h===0&&f===0){const w=o*d+v,x=Math.round(w),E=l*p+g,_=Math.round(E),T=(o+c)*d+v,k=Math.abs(Math.round(T)-x)||1,R=(l+u)*p+g,M=Math.abs(Math.round(R)-_)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,_),n.drawImage(e,t,i,s,r,0,0,k,M),n.setTransform(d,h,f,p,v,g),[k,M]}if(d===0&&p===0){const w=l*f+v,x=Math.round(w),E=o*h+g,_=Math.round(E),T=(l+u)*f+v,k=Math.abs(Math.round(T)-x)||1,R=(o+c)*h+g,M=Math.abs(Math.round(R)-_)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,_),n.drawImage(e,t,i,s,r,0,0,M,k),n.setTransform(d,h,f,p,v,g),[M,k]}n.drawImage(e,t,i,s,r,o,l,c,u);const b=Math.hypot(d,h),y=Math.hypot(f,p);return[b*c,y*u]}class RS{constructor(e,t,i){$(this,"alphaIsShape",!1);$(this,"fontSize",0);$(this,"fontSizeScale",1);$(this,"textMatrix",null);$(this,"textMatrixScale",1);$(this,"fontMatrix",Sw);$(this,"leading",0);$(this,"x",0);$(this,"y",0);$(this,"lineX",0);$(this,"lineY",0);$(this,"charSpacing",0);$(this,"wordSpacing",0);$(this,"textHScale",1);$(this,"textRenderingMode",kt.FILL);$(this,"textRise",0);$(this,"fillColor","#000000");$(this,"strokeColor","#000000");$(this,"patternFill",!1);$(this,"patternStroke",!1);$(this,"fillAlpha",1);$(this,"strokeAlpha",1);$(this,"lineWidth",1);$(this,"activeSMask",null);$(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Zc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ot.FILL,t=null){const i=this.minMax.slice();if(e===Ot.STROKE){t||Me("Stroke bounding box must include transform."),J.singularValueDecompose2dScale(t,Kn);const s=Kn[0]*this.lineWidth/2,r=Kn[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const e=J.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Zc,0)}getClippedPathBoundingBox(e=Ot.FILL,t=null){return J.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function MS(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%An,r=(t-s)/An,o=s===0?r:r+1,l=n.createImageData(i,An);let c=0,u;const d=e.data,h=l.data;let f,p,v,g;if(e.kind===ig.GRAYSCALE_1BPP){const b=d.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),w=y.length,x=i+7>>3,E=4294967295,_=zt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<r?An:s,u=0,p=0;p<v;p++){const T=b-c;let k=0;const R=T>x?i:T*8-7,M=R&-8;let N=0,L=0;for(;k<M;k+=8)L=d[c++],y[u++]=L&128?E:_,y[u++]=L&64?E:_,y[u++]=L&32?E:_,y[u++]=L&16?E:_,y[u++]=L&8?E:_,y[u++]=L&4?E:_,y[u++]=L&2?E:_,y[u++]=L&1?E:_;for(;k<R;k++)N===0&&(L=d[c++],N=128),y[u++]=L&N?E:_,N>>=1}for(;u<w;)y[u++]=0;n.putImageData(l,0,f*An)}}else if(e.kind===ig.RGBA_32BPP){for(p=0,g=i*An*4,f=0;f<r;f++)h.set(d.subarray(c,c+g)),c+=g,n.putImageData(l,0,p),p+=An;f<o&&(g=i*s*4,h.set(d.subarray(c,c+g)),n.putImageData(l,0,p))}else if(e.kind===ig.RGB_24BPP)for(v=An,g=i*v,f=0;f<o;f++){for(f>=r&&(v=s,g=i*v),u=0,p=g;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(l,0,f*An)}else throw new Error(`bad image kind: ${e.kind}`)}function NS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%An,r=(t-s)/An,o=s===0?r:r+1,l=n.createImageData(i,An);let c=0;const u=e.data,d=l.data;for(let h=0;h<o;h++){const f=h<r?An:s;({srcPos:c}=fj({src:u,srcPos:c,dest:d,width:i,height:f,nonBlackColor:0})),n.putImageData(l,0,h*An)}}function ah(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function jm(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function DS(n,e){if(e)return!0;J.singularValueDecompose2dScale(n,Kn);const t=Math.fround(Vs.pixelRatio*Da.PDF_TO_CSS_UNITS);return Kn[0]<=t&&Kn[1]<=t}const yj=["butt","round","square"],vj=["miter","round","bevel"],wj={},LS={};var os,Kw,Qw,Zw;const p1=class p1{constructor(e,t,i,s,r,{optionalContentConfig:o,markedContentStack:l=null},c,u,d){A(this,os);this.ctx=e,this.current=new RS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new gj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var s;return typeof t=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ge(this.compositeCtx))}this.ctx.save(),jm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ge(this.ctx)}executeOperatorList(e,t,i,s,r){var y;const o=e.argsArray,l=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>PS&&typeof i=="function",h=d?Date.now()+pj:0;let f=0;const p=this.commonObjs,v=this.objs;let g,b;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,i),c;if(!r||r.has(c))if(g=l[c],b=o[c]??null,g!==ff.dependency)b===null?this[g](c):this[g](c,...b);else for(const w of b){(y=this.dependencyTracker)==null||y.recordNamedData(w,c);const x=w.startsWith("g_")?p:v;if(!x.has(w))return x.get(w,i),c}if(c++,c===u)return c;if(d&&++f>PS){if(Date.now()>h)return i(),c;f=0}}}endDrawing(){S(this,os,Kw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),S(this,os,Qw).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=s,u="prescale1",d,h;for(;r>2&&l>1||o>2&&c>1;){let f=l,p=c;r>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,l,c,0,0,f,p),e=d.canvas,l=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){var N,L;const i=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,l=this.current.patternFill,c=Ge(i);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const O=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(O),u||(u=new Map,this._cachedBitmapsMap.set(O,u));const G=u.get(d);if(G&&!l){const F=Math.round(Math.min(c[0],c[2])+c[4]),X=Math.round(Math.min(c[1],c[3])+c[5]);return(N=this.dependencyTracker)==null||N.recordDependencies(e,ci.transformAndFill),{canvas:G,offsetX:F,offsetY:X}}h=G}h||(f=this.cachedCanvases.getCanvas("maskCanvas",s,r),NS(f.context,t));let p=J.transform(c,[1/s,0,0,-1/r,0,0]);p=J.transform(p,[1,0,0,1,0,-r]);const v=Zc.slice();J.axialAlignedBoundingBox([0,0,s,r],p,v);const[g,b,y,w]=v,x=Math.round(y-g)||1,E=Math.round(w-b)||1,_=this.cachedCanvases.getCanvas("fillCanvas",x,E),T=_.context,k=g,R=b;T.translate(-k,-R),T.transform(...p),h||(h=this._scaleImage(f.canvas,cs(T)),h=h.img,u&&l&&u.set(d,h)),T.imageSmoothingEnabled=DS(Ge(T),t.interpolate),Fm(T,h,0,0,h.width,h.height,0,0,s,r),T.globalCompositeOperation="source-in";const M=J.transform(cs(T),[1,0,0,1,-k,-R]);return T.fillStyle=l?o.getPattern(i,this,M,Ot.FILL):o,T.fillRect(0,0,s,r),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,_.canvas)),(L=this.dependencyTracker)==null||L.recordDependencies(e,ci.transformAndFill),{canvas:_.canvas,offsetX:Math.round(k),offsetY:Math.round(R)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=yj[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=vj[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",e);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,s,r,o,l;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),ah(this.suspendedCtx,o),mj(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ah(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const r=s[0],o=s[1],l=s[2]-r,c=s[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,i,l,c,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,r,o,l,c,u,d,h){let f=e.canvas,p=c-d,v=u-h;if(o)if(p<0||v<0||p+i>f.width||v+s>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,s),y=b.context;y.drawImage(f,-p,-v),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,i,s),y.globalCompositeOperation="source-over",f=b.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,v,i,s),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,v,i,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const g=new Path2D;g.rect(c,u,i,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,p,v,i,s,c,u,i,s),t.restore()}save(e){var i;this.inSMaskMode&&ah(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ah(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,s,r,o,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,i,s,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,s){let[r]=i;if(!s){r||(r=i[0]=new Path2D),this[t](e,r);return}if(this.dependencyTracker!==null){const o=t===ff.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const o=i[0]=new Path2D;for(let l=0,c=r.length;l<c;)switch(r[l++]){case Dm.moveTo:o.moveTo(r[l++],r[l++]);break;case Dm.lineTo:o.lineTo(r[l++],r[l++]);break;case Dm.curveTo:o.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case Dm.closePath:o.closePath();break;default:oe(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=o}J.axialAlignedBoundingBox(s,Ge(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var o;const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const l=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,cs(s),Ot.STROKE),l){const c=new Path2D;c.addPath(t,s.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,ci.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ot.STROKE,Ge(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const s=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const f=r.isModifyingCurrentTransform()?s.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),s.save(),s.fillStyle=r.getPattern(s,this,cs(s),Ot.FILL),f){const p=new Path2D;p.addPath(t,s.getTransform().invertSelf().multiplySelf(f)),t=p}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,ci.fill),l&&(s.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,ci.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=wj}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=LS}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;t!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",e),s.recordCloseMarker(e)}if(t!==void 0){const s=new Path2D,r=i.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:u,path:d}of t)d&&s.addPath(d,new DOMMatrix(o).preMultiplySelf(r).translate(l,c).scale(u,-u));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordNamedDependency(e,t);const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Sw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&oe("Invalid font matrix for font "+t),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",l=((f=s.systemFontInfo)==null?void 0:f.css)||`"${o}", ${s.fallbackName}`;let c="normal";s.black?c="900":s.bold&&(c="bold");const u=s.italic?"italic":"normal";let d=i;i<TS?d=TS:i>kS&&(d=kS),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,s,r,o){var y,w,x,E;const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&kt.FILL_STROKE_MASK,p=!!(d&kt.ADD_TO_PATH_FLAG),v=c.patternFill&&!u.missingFile,g=c.patternStroke&&!u.missingFile;let b;if((u.disableFontFace||p||v||g)&&!u.missingFile&&(b=u.getPathGenerator(this.commonObjs,t)),b&&(u.disableFontFace||v||g)){l.save(),l.translate(i,s),l.scale(h,-h),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,l,u);let _;if(f===kt.FILL||f===kt.FILL_STROKE)if(r){_=l.getTransform(),l.setTransform(...r);const T=S(this,os,Zw).call(this,b,_,r);l.fill(T)}else l.fill(b);if(f===kt.STROKE||f===kt.FILL_STROKE)if(o){_||(_=l.getTransform()),l.setTransform(...o);const{a:T,b:k,c:R,d:M}=_,N=J.inverseTransform(o),L=J.transform([T,k,R,M,0,0],N);J.singularValueDecompose2dScale(L,Kn),l.lineWidth*=Math.max(Kn[0],Kn[1])/h,l.stroke(S(this,os,Zw).call(this,b,_,o))}else l.lineWidth/=h,l.stroke(b);l.restore()}else(f===kt.FILL||f===kt.FILL_STROKE)&&(l.fillText(t,i,s),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,u,h,i,s,()=>l.measureText(t))),(f===kt.STROKE||f===kt.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,l,u,h,i,s,()=>l.measureText(t)).recordDependencies(e,ci.stroke)),l.strokeText(t,i,s));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ge(l),x:i,y:s,fontSize:h,path:b}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,l,u,h,i,s))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return he(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var R,M,N,L;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ci.showText).copyDependenciesFromIncrementalOperation(e,"sameLineText").resetBBox(e),this.current.textRenderingMode&kt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordOperation(e).recordIncrementalData("sameLineText",e);return}const r=i.fontSize;if(r===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const o=this.ctx,l=i.fontSizeScale,c=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,f=t.length,p=s.vertical,v=p?1:-1,g=s.defaultVMetrics,b=r*i.fontMatrix[0],y=i.textRenderingMode===kt.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),d>0?o.scale(h,-1):o.scale(h,1);let w,x;if(i.patternFill){o.save();const O=i.fillColor.getPattern(o,this,cs(o),Ot.FILL);w=Ge(o),o.restore(),o.fillStyle=O}if(i.patternStroke){o.save();const O=i.strokeColor.getPattern(o,this,cs(o),Ot.STROKE);x=Ge(o),o.restore(),o.strokeStyle=O}let E=i.lineWidth;const _=i.textMatrixScale;if(_===0||E===0){const O=i.textRenderingMode&kt.FILL_STROKE_MASK;(O===kt.STROKE||O===kt.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=_;if(l!==1&&(o.scale(l,l),E/=l),o.lineWidth=E,s.isInvalidPDFjsFont){const O=[];let G=0;for(const X of t)O.push(X.unicode),G+=X.width;const F=O.join("");if(o.fillText(F,0,0),this.dependencyTracker!==null){const X=o.measureText(F);this.dependencyTracker.recordBBox(e,this.ctx,-X.actualBoundingBoxLeft,X.actualBoundingBoxRight,-X.actualBoundingBoxAscent,X.actualBoundingBoxDescent).recordOperation(e).recordIncrementalData("sameLineText",e)}i.x+=G*b*h,o.restore(),this.compose();return}let T=0,k;for(k=0;k<f;++k){const O=t[k];if(typeof O=="number"){T+=v*O*r/1e3;continue}let G=!1;const F=(O.isSpace?u:0)+c,X=O.fontChar,B=O.accent;let j,D,I=O.width;if(p){const V=O.vmetric||g,K=-(O.vmetric?V[1]:I*.5)*b,se=V[2]*b;I=V?-V[0]:I,j=K/l,D=(T+se)/l}else j=T/l,D=0;let U;if(s.remeasure&&I>0){U=o.measureText(X);const V=U.width*1e3/r*l;if(I<V&&this.isFontSubpixelAAEnabled){const K=I/V;G=!0,o.save(),o.scale(K,1),j/=K}else I!==V&&(j+=(I-V)/2e3*r/l)}if(this.contentVisible&&(O.isInFont||s.missingFile)){if(y&&!B)o.fillText(X,j,D),(N=this.dependencyTracker)==null||N.recordCharacterBBox(e,o,U?{bbox:null}:s,r/l,j,D,()=>U??o.measureText(X));else if(this.paintChar(e,X,j,D,w,x),B){const V=j+r*B.offset.x/l,K=D-r*B.offset.y/l;this.paintChar(e,B.fontChar,V,K,w,x)}}const te=p?I*b-F*d:I*b+F*d;T+=te,G&&o.restore()}p?i.y-=T:i.x+=T*h,o.restore(),this.compose(),(L=this.dependencyTracker)==null||L.recordOperation(e).recordIncrementalData("sameLineText",e)}showType3Text(e,t){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,l=s.fontDirection,c=r.vertical?1:-1,u=s.charSpacing,d=s.wordSpacing,h=s.textHScale*l,f=s.fontMatrix||Sw,p=t.length,v=s.textRenderingMode===kt.INVISIBLE;let g,b,y,w;if(v||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(h,l);const x=this.dependencyTracker;for(this.dependencyTracker=x?new gy(x,e):null,g=0;g<p;++g){if(b=t[g],typeof b=="number"){w=c*b*o/1e3,this.ctx.translate(w,0),s.x+=w*h;continue}const E=(b.isSpace?d:0)+u,_=r.charProcOperatorList[b.operatorListId];_?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...f),this.executeOperatorList(_),this.restore()):oe(`Type3 character "${b.operatorListId}" is not available.`);const T=[b.width,0];J.applyTransform(T,f),y=T[0]*o+E,i.translate(y,0),s.x+=y*h}i.restore(),x&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=x)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,s,r,o,l){var u;const c=new Path2D;c.rect(s,r,o-s,l-r),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,s,o,r,l).recordClipBox(e,this.ctx,s,o,r,l),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const s=this.baseTransform||Ge(this.ctx),r={createCanvasGraphics:o=>new p1(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new gy(this.dependencyTracker,e):null)};i=new Yw(t,this.ctx,r,s)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=hj(this.getObject(e,t)),this.cachedPatterns.set(t,s)),i&&(s.matrix=i),s}shadingFill(e,t){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const s=this._getPattern(e,t);i.fillStyle=s.getPattern(i,this,cs(i),Ot.SHADING);const r=cs(i);if(r){const{width:l,height:c}=i.canvas,u=Zc.slice();J.axialAlignedBoundingBox([0,0,l,c],r,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ci.transform).recordDependencies(e,ci.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Me("Should not call beginInlineImage")}beginImageData(){Me("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var s;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Ge(this.ctx),i)){J.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,l,c]=i,u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),(s=this.dependencyTracker)==null||s.recordClipBox(e,this.ctx,r,l,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||wv("TODO: Support non-isolated groups."),t.knockout&&oe("Knockout groups not supported.");const s=Ge(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Zc.slice();J.axialAlignedBoundingBox(t.bbox,Ge(i),r);const o=[0,0,i.canvas.width,i.canvas.height];r=J.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-l,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-l,-c),p.transform(...s);let v=new Path2D;const[g,b,y,w]=t.bbox;if(v.rect(g,b,y-g,w-b),t.matrix){const E=new Path2D;E.addPath(v,new DOMMatrix(t.matrix)),v=E}p.clip(v),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(l,c),i.save()),ah(i,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var r;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Ge(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=Zc.slice();J.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,s,r,o){if(S(this,os,Kw).call(this),jm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const l=i[2]-i[0],c=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=l,i[3]=c,J.singularValueDecompose2dScale(Ge(this.ctx),Kn);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Kn[0],0,0,-Kn[1],0,c*Kn[1]),jm(this.ctx)}else{jm(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],l,c),this.ctx.clip(u)}}this.current=new RS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...s),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),S(this,os,Qw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const s=this.ctx,r=this._createMaskCanvas(e,t),o=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,r.offsetX,r.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+o.width,r.offsetY,r.offsetY+o.height).recordOperation(e),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,s=0,r=0,o,l){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=Ge(c);c.transform(i,s,r,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let v=0,g=l.length;v<g;v+=2){const b=J.transform(u,[i,s,r,o,l[v],l[v+1]]);c.drawImage(d.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,c;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,ci.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,v=this.cachedCanvases.getCanvas("maskCanvas",h,f),g=v.context;g.save();const b=this.getObject(e,d,u);NS(g,b),g.globalCompositeOperation="source-in",g.fillStyle=r?s.getPattern(g,this,cs(i),Ot.FILL):s,g.fillRect(0,0,h,f),g.restore(),i.save(),i.transform(...p),i.scale(1,-1),Fm(i,v.canvas,0,0,h,f,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,i,0,h,0,f),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,s,r){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){oe("Dependent image isn't ready yet");return}const l=o.width,c=o.height,u=[];for(let d=0,h=r.length;d<h;d+=2)u.push({transform:[i,0,0,s,r[d],r[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,s=t.height,r=this.ctx;this.save(e);const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/i,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,s).context;MS(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,cs(r));r.imageSmoothingEnabled=DS(Ge(r),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,r,0,i,-s,0).recordDependencies(e,ci.imageXObject).recordOperation(e),Fm(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,i,s),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var o,l,c;if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;MS(f,t),r=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of i)s.save(),s.transform(...u.transform),s.scale(1,-1),Fm(s,r,u.x,u.y,u.w,u.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,s,0,1,-1,0),s.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ci.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var o,l;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===LS?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ge(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:r}=this.ctx.getTransform();let o,l;if(i===0&&s===0){const c=Math.abs(t),u=Math.abs(r);if(c===u)if(e===0)o=l=1/c;else{const d=c*e;o=l=d<1?1/d:1}else if(e===0)o=1/c,l=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(t*r-i*s),u=Math.hypot(t,i),d=Math.hypot(s,r);if(e===0)o=d/c,l=u/c;else{const h=e*c;o=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:s}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(s||1)*r,i.stroke(e);return}const l=i.getLineDash();t&&i.save(),i.scale(r,o),f0.a=1/r,f0.d=1/o;const c=new Path2D;if(c.addPath(e,f0),l.length>0){const u=Math.max(r,o);i.setLineDash(l.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=s||1,i.stroke(c),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};os=new WeakSet,Kw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Zw=function(e,t,i){const s=new Path2D;return s.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),s};let uu=p1;for(const n in ff)uu.prototype[n]!==void 0&&(uu.prototype[ff[n]]=uu.prototype[n]);var Xf,qf;class js{static get workerPort(){return a(this,Xf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");m(this,Xf,e)}static get workerSrc(){return a(this,qf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");m(this,qf,e)}}Xf=new WeakMap,qf=new WeakMap,A(js,Xf,null),A(js,qf,"");var qu,Yf;class bj{constructor({parsedData:e,rawData:t}){A(this,qu);A(this,Yf);m(this,qu,e),m(this,Yf,t)}getRaw(){return a(this,Yf)}get(e){return a(this,qu).get(e)??null}[Symbol.iterator](){return a(this,qu).entries()}}qu=new WeakMap,Yf=new WeakMap;const Fc=Symbol("INTERNAL");var Kf,Qf,Zf,Yu;class xj{constructor(e,{name:t,intent:i,usage:s,rbGroups:r}){A(this,Kf,!1);A(this,Qf,!1);A(this,Zf,!1);A(this,Yu,!0);m(this,Kf,!!(e&qn.DISPLAY)),m(this,Qf,!!(e&qn.PRINT)),this.name=t,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(a(this,Zf))return a(this,Yu);if(!a(this,Yu))return!1;const{print:e,view:t}=this.usage;return a(this,Kf)?(t==null?void 0:t.viewState)!=="OFF":a(this,Qf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Fc&&Me("Internal method `_setVisible` called."),m(this,Zf,i),m(this,Yu,t)}}Kf=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Yu=new WeakMap;var Vo,Pe,Ku,Qu,Jf,Jw;class Aj{constructor(e,t=qn.DISPLAY){A(this,Jf);A(this,Vo,null);A(this,Pe,new Map);A(this,Ku,null);A(this,Qu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,m(this,Qu,e.order);for(const i of e.groups)a(this,Pe).set(i.id,new xj(t,i));if(e.baseState==="OFF")for(const i of a(this,Pe).values())i._setVisible(Fc,!1);for(const i of e.on)a(this,Pe).get(i)._setVisible(Fc,!0);for(const i of e.off)a(this,Pe).get(i)._setVisible(Fc,!1);m(this,Ku,this.getHash())}}isVisible(e){if(a(this,Pe).size===0)return!0;if(!e)return wv("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Pe).has(e.id)?a(this,Pe).get(e.id).visible:(oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return S(this,Jf,Jw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(a(this,Pe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!a(this,Pe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!a(this,Pe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(a(this,Pe).get(t).visible)return!1}return!0}return oe(`Unknown optional content policy ${e.policy}.`),!0}return oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var r;const s=a(this,Pe).get(e);if(!s){oe(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==e&&((r=a(this,Pe).get(l))==null||r._setVisible(Fc,!1,!0));s._setVisible(Fc,!!t,!0),m(this,Vo,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=a(this,Pe).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!r.visible,t);break}}m(this,Vo,null)}get hasInitialVisibility(){return a(this,Ku)===null||this.getHash()===a(this,Ku)}getOrder(){return a(this,Pe).size?a(this,Qu)?a(this,Qu).slice():[...a(this,Pe).keys()]:null}getGroup(e){return a(this,Pe).get(e)||null}getHash(){if(a(this,Vo)!==null)return a(this,Vo);const e=new Rk;for(const[t,i]of a(this,Pe))e.update(`${t}:${i.visible}`);return m(this,Vo,e.hexdigest())}[Symbol.iterator](){return a(this,Pe).entries()}}Vo=new WeakMap,Pe=new WeakMap,Ku=new WeakMap,Qu=new WeakMap,Jf=new WeakSet,Jw=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const r=e[s];let o;if(Array.isArray(r))o=S(this,Jf,Jw).call(this,r);else if(a(this,Pe).has(r))o=a(this,Pe).get(r).visible;else return oe(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class Sj{constructor(e,{disableRange:t=!1,disableStream:i=!1}){ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});ct(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,r;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ej(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Cj(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class Ej{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=i1(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Cj{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _j(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),r(d)}if(t=o(n),t){const d=u(t);return r(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=l(t);return d=u(d),r(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=im(h);h=f.decode(p),e=!1}catch{}}return h}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,g,b,y]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[b,y]}const v=[];for(let g=0;g<h.length&&g in h;++g){let[b,y]=h[g];y=l(y),b&&(y=unescape(y),g===0&&(y=c(y))),v.push(y)}return v.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return s(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,b){return String.fromCharCode(parseInt(b,16))}),s(f,v);try{v=atob(v)}catch{}return s(f,v)})}return""}function Hk(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const s=e[i];s!==void 0&&t.append(i,s)}return t}function Av(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Uk({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Vk(n){const e=n.get("Content-Disposition");if(e){let t=_j(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(i1(t))return t}return null}function am(n,e){return new hy(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Wk(n){return n===200||n===206}function Gk(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Xk(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(oe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Tj{constructor(e){$(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Hk(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Pj(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class kj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),s=t.url;fetch(s,Gk(i,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=Av(r.url),!Wk(r.status))throw am(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:l,suggestedLength:c}=Uk({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=Vk(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Na("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Xk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Pj{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${i-1}`);const o=s.url;fetch(o,Gk(r,this._withCredentials,this._abortController)).then(l=>{const c=Av(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!Wk(l.status))throw am(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Xk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const p0=200,m0=206;function Rj(n){const e=n.response;return typeof e!="string"?e:im(e).buffer}class Mj{constructor({url:e,httpHeaders:t,withCredentials:i}){$(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Hk(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=m0):s.expectedStatus=p0,t.responseType="arraybuffer",ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||p0;if(!(r===p0&&i.expectedStatus===m0)&&r!==i.expectedStatus){i.onError(s.status);return}const l=Rj(s);if(r===m0){const c=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?i.onDone({begin:parseInt(u[1],10),chunk:l}):(oe('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Nj{constructor(e){this._source=e,this._manager=new Mj(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Dj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Lj(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Dj{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Av(t.responseURL);const i=t.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=Uk({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Vk(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=am(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Lj{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Av((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=am(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Ij=/^[a-z][a-z0-9\-+.]+:/i;function Oj(n){if(Ij.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Fj{constructor(e){this.source=e,this.url=Oj(e.url),ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new jj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Bj(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class jj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=am(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Na("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Bj{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const lh=Symbol("INITIAL_DATA");var On,ep,eb;class qk{constructor(){A(this,ep);A(this,On,Object.create(null))}get(e,t=null){if(t){const s=S(this,ep,eb).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=a(this,On)[e];if(!i||i.data===lh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=a(this,On)[e];return!!t&&t.data!==lh}delete(e){const t=a(this,On)[e];return!t||t.data===lh?!1:(delete a(this,On)[e],!0)}resolve(e,t=null){const i=S(this,ep,eb).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in a(this,On)){const{data:i}=a(this,On)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}m(this,On,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,On)){const{data:t}=a(this,On)[e];t!==lh&&(yield[e,t])}}}On=new WeakMap,ep=new WeakSet,eb=function(e){var t;return(t=a(this,On))[e]||(t[e]={...Promise.withResolvers(),data:lh})};const zj=1e5,IS=30;var qS,Wo,wn,tp,np,El,Ar,ip,sp,Cl,Zu,Ju,Go,ed,rp,td,_l,op,ap,nd,Tl,lp,Xo,id,no,Yk,Kk,tb,ni,hg,nb,Qk,Zk;const dt=class dt{constructor({textContentSource:e,container:t,viewport:i}){A(this,no);A(this,Wo,Promise.withResolvers());A(this,wn,null);A(this,tp,!1);A(this,np,!!((qS=globalThis.FontInspector)!=null&&qS.enabled));A(this,El,null);A(this,Ar,null);A(this,ip,0);A(this,sp,0);A(this,Cl,null);A(this,Zu,null);A(this,Ju,0);A(this,Go,0);A(this,ed,Object.create(null));A(this,rp,[]);A(this,td,null);A(this,_l,[]);A(this,op,new WeakMap);A(this,ap,null);var c;if(e instanceof ReadableStream)m(this,td,e);else if(typeof e=="object")m(this,td,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');m(this,wn,m(this,Zu,t)),m(this,Go,i.scale*Vs.pixelRatio),m(this,Ju,i.rotation),m(this,Ar,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:l}=i.rawDims;m(this,ap,[1,0,0,-1,-o,l+r]),m(this,sp,s),m(this,ip,r),S(c=dt,ni,Qk).call(c),yc(t,i),a(this,Wo).promise.finally(()=>{a(dt,id).delete(this),m(this,Ar,null),m(this,ed,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=zt.platform;return he(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,Cl).read().then(({value:t,done:i})=>{if(i){a(this,Wo).resolve();return}a(this,El)??m(this,El,t.lang),Object.assign(a(this,ed),t.styles),S(this,no,Yk).call(this,t.items),e()},a(this,Wo).reject)};return m(this,Cl,a(this,td).getReader()),a(dt,id).add(this),e(),a(this,Wo).promise}update({viewport:e,onBefore:t=null}){var r;const i=e.scale*Vs.pixelRatio,s=e.rotation;if(s!==a(this,Ju)&&(t==null||t(),m(this,Ju,s),yc(a(this,Zu),{rotation:s})),i!==a(this,Go)){t==null||t(),m(this,Go,i);const o={div:null,properties:null,ctx:S(r=dt,ni,hg).call(r,a(this,El))};for(const l of a(this,_l))o.properties=a(this,op).get(l),o.div=l,S(this,no,tb).call(this,o)}}cancel(){var t;const e=new Na("TextLayer task cancelled.");(t=a(this,Cl))==null||t.cancel(e).catch(()=>{}),m(this,Cl,null),a(this,Wo).reject(e)}get textDivs(){return a(this,_l)}get textContentItemsStr(){return a(this,rp)}static cleanup(){if(!(a(this,id).size>0)){a(this,nd).clear();for(const{canvas:e}of a(this,Tl).values())e.remove();a(this,Tl).clear()}}};Wo=new WeakMap,wn=new WeakMap,tp=new WeakMap,np=new WeakMap,El=new WeakMap,Ar=new WeakMap,ip=new WeakMap,sp=new WeakMap,Cl=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,Go=new WeakMap,ed=new WeakMap,rp=new WeakMap,td=new WeakMap,_l=new WeakMap,op=new WeakMap,ap=new WeakMap,nd=new WeakMap,Tl=new WeakMap,lp=new WeakMap,Xo=new WeakMap,id=new WeakMap,no=new WeakSet,Yk=function(e){var s,r;if(a(this,tp))return;(r=a(this,Ar)).ctx??(r.ctx=S(s=dt,ni,hg).call(s,a(this,El)));const t=a(this,_l),i=a(this,rp);for(const o of e){if(t.length>zj){oe("Ignoring additional textDivs for performance reasons."),m(this,tp,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=a(this,wn);m(this,wn,document.createElement("span")),a(this,wn).classList.add("markedContent"),o.id&&a(this,wn).setAttribute("id",`${o.id}`),l.append(a(this,wn))}else o.type==="endMarkedContent"&&m(this,wn,a(this,wn).parentNode);continue}i.push(o.str),S(this,no,Kk).call(this,o)}},Kk=function(e){var g;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,_l).push(t);const s=J.transform(a(this,ap),e.transform);let r=Math.atan2(s[1],s[0]);const o=a(this,ed)[e.fontName];o.vertical&&(r+=Math.PI/2);let l=a(this,np)&&o.fontSubstitution||o.fontFamily;l=dt.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),u=c*S(g=dt,ni,Zk).call(g,l,o,a(this,El));let d,h;r===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(r),h=s[5]-u*Math.cos(r));const f="calc(var(--total-scale-factor) *",p=t.style;a(this,wn)===a(this,Zu)?(p.left=`${(100*d/a(this,sp)).toFixed(2)}%`,p.top=`${(100*h/a(this,ip)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(a(dt,Xo)*c).toFixed(2)}px)`,p.fontFamily=l,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,np)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(v=!0)}if(v&&(i.canvasWidth=o.vertical?e.height:e.width),a(this,op).set(t,i),a(this,Ar).div=t,a(this,Ar).properties=i,S(this,no,tb).call(this,a(this,Ar)),i.hasText&&a(this,wn).append(t),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),a(this,wn).append(b)}},tb=function(e){var l;const{div:t,properties:i,ctx:s}=e,{style:r}=t;let o="";if(a(dt,Xo)>1&&(o=`scale(${1/a(dt,Xo)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=r,{canvasWidth:u,fontSize:d}=i;S(l=dt,ni,nb).call(l,s,d*a(this,Go),c);const{width:h}=s.measureText(t.textContent);h>0&&(o=`scaleX(${u*a(this,Go)/h}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},ni=new WeakSet,hg=function(e=null){let t=a(this,Tl).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,Tl).set(e,t),a(this,lp).set(t,{size:0,family:""})}return t},nb=function(e,t,i){const s=a(this,lp).get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)},Qk=function(){if(a(this,Xo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),m(this,Xo,e.getBoundingClientRect().height),e.remove()},Zk=function(e,t,i){const s=a(this,nd).get(e);if(s)return s;const r=S(this,ni,hg).call(this,i);r.canvas.width=r.canvas.height=IS,S(this,ni,nb).call(this,r,IS,e);const o=r.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let u=.8;return l?u=l/(l+c):(zt.platform.isFirefox&&oe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),a(this,nd).set(e,u),u},A(dt,ni),A(dt,nd,new Map),A(dt,Tl,new Map),A(dt,lp,new WeakMap),A(dt,Xo,null),A(dt,id,new Set);let pf=dt;class mf{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(r){var c;if(!r)return;let o=null;const l=r.name;if(l==="#text")o=r.value;else if(mf.shouldBuildText(l))(c=r==null?void 0:r.attributes)!=null&&c.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const $j=100;function Jk(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new ib,{docId:t}=e,i=n.url?YF(n.url):null,s=n.data?KF(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof eP?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof gf?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!bv(n.docBaseUrl)?n.docBaseUrl:null,p=Im(n.cMapUrl),v=n.cMapPacked!==!1,g=n.CMapReaderFactory||(on?sj:SS),b=Im(n.iccUrl),y=Im(n.standardFontDataUrl),w=n.StandardFontDataFactory||(on?rj:ES),x=Im(n.wasmUrl),E=n.WasmFactory||(on?oj:CS),_=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!on,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!on&&(zt.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:on,O=n.fontExtraProperties===!0,G=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,X=n.disableRange===!0,B=n.disableStream===!0,j=n.disableAutoFetch===!0,D=n.pdfBug===!0,I=n.CanvasFactory||(on?ij:ej),U=n.FilterFactory||(on?nj:tj),te=n.enableHWA===!0,V=n.useWasm!==!1,K=c?c.length:n.length??NaN,se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!on&&!L,we=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===SS&&w===ES&&E===CS&&p&&y&&x&&mh(p,document.baseURI)&&mh(y,document.baseURI)&&mh(x,document.baseURI)),_e=null;TF(h);const ne={canvasFactory:new I({ownerDocument:F,enableHWA:te}),filterFactory:new U({docId:t,ownerDocument:F}),cMapReaderFactory:we?null:new g({baseUrl:p,isCompressed:v}),standardFontDataFactory:we?null:new w({baseUrl:y}),wasmFactory:we?null:new E({baseUrl:x})};d||(d=gf.create({verbosity:h,port:js.workerPort}),e._worker=d);const as={docId:t,apiVersion:"5.4.149",data:s,password:l,disableAutoFetch:j,rangeChunkSize:u,length:K,docBaseUrl:f,enableXfa:G,evaluatorOptions:{maxImageSize:T,disableFontFace:L,ignoreErrors:_,isEvalSupported:k,isOffscreenCanvasSupported:R,isImageDecoderSupported:M,canvasMaxAreaInBytes:N,fontExtraProperties:O,useSystemFonts:se,useWasm:V,useWorkerFetch:we,cMapUrl:p,iccUrl:b,standardFontDataUrl:y,wasmUrl:x}},oi={ownerDocument:F,pdfBug:D,styleElement:_e,loadingParams:{disableAutoFetch:j,enableXfa:G}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Pi=d.messageHandler.sendWithPromise("GetDocRequest",as,s?[s.buffer]:null);let Ht;if(c)Ht=new Sj(c,{disableRange:X,disableStream:B});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const mn=mh(i)?Tj:on?Fj:Nj;Ht=new mn({url:i,length:K,httpHeaders:r,withCredentials:o,rangeChunkSize:u,disableRange:X,disableStream:B})}return Pi.then(mn=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ri=new xh(t,mn,d.port),Cc=new Vj(Ri,e,Ht,oi,ne,te);e._transport=Cc,Ri.send("Ready",null)})}).catch(e._capability.reject),e}var Ny;const Dy=class Dy{constructor(){$(this,"_capability",Promise.withResolvers());$(this,"_transport",null);$(this,"_worker",null);$(this,"docId",`d${Ke(Dy,Ny)._++}`);$(this,"destroyed",!1);$(this,"onPassword",null);$(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Ny=new WeakMap,A(Dy,Ny,0);let ib=Dy;var kl,cp,up,dp,hp;class eP{constructor(e,t,i=!1,s=null){A(this,kl,Promise.withResolvers());A(this,cp,[]);A(this,up,[]);A(this,dp,[]);A(this,hp,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(e){a(this,hp).push(e)}addProgressListener(e){a(this,dp).push(e)}addProgressiveReadListener(e){a(this,up).push(e)}addProgressiveDoneListener(e){a(this,cp).push(e)}onDataRange(e,t){for(const i of a(this,hp))i(e,t)}onDataProgress(e,t){a(this,kl).promise.then(()=>{for(const i of a(this,dp))i(e,t)})}onDataProgressiveRead(e){a(this,kl).promise.then(()=>{for(const t of a(this,up))t(e)})}onDataProgressiveDone(){a(this,kl).promise.then(()=>{for(const e of a(this,cp))e()})}transportReady(){a(this,kl).resolve()}requestDataRange(e,t){Me("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}kl=new WeakMap,cp=new WeakMap,up=new WeakMap,dp=new WeakMap,hp=new WeakMap;class Hj{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sr,Pl,_h;class Uj{constructor(e,t,i,s=!1){A(this,Pl);A(this,Sr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new bS:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new qk,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new rm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:s="display",annotationMode:r=yo.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,filteredOperationIndexes:v=null}){var R,M,N;(R=this._stats)==null||R.time("Overall");const g=this._transport.getRenderingIntent(s,r,h,f),{renderingIntent:b,cacheKey:y}=g;m(this,Sr,!1),c||(c=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(y);w||(w=Object.create(null),this._intentStates.set(y,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(b&qn.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(M=this._stats)==null||M.time("Page Request"),this._pumpOperatorList(g));const E=!this.recordedGroups&&(p||this._pdfBug&&((N=globalThis.StepperManager)==null?void 0:N.enabled)),_=L=>{var O,G,F;if(w.renderTasks.delete(T),E){const X=(O=T.gfx)==null?void 0:O.dependencyTracker.take();X?((G=T.stepper)==null||G.setOperatorGroups(X),p&&(this.recordedGroups=X)):p&&(this.recordedGroups=[])}x&&m(this,Sr,!0),S(this,Pl,_h).call(this),L?(T.capability.reject(L),this._abortOperatorList({intentState:w,reason:L instanceof Error?L:new Error(L)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new sb({callback:_,params:{canvas:t,canvasContext:e,dependencyTracker:E?new aj(t):null,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,filteredOperationIndexes:v});(w.renderTasks||(w.renderTasks=new Set)).add(T);const k=T.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([L,O])=>{var G;if(this.destroyed){_();return}if((G=this._stats)==null||G.time("Rendering"),!(O.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:L,optionalContentConfig:O}),T.operatorListChanged()}).catch(_),k}getOperatorList({intent:e="display",annotationMode:t=yo.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var u;function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,i,s,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>mf.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function r(){o.read().then(function({value:c,done:u}){if(u){i(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),r()},s)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),m(this,Sr,!1),Promise.all(e)}cleanup(e=!1){m(this,Sr,!0);const t=S(this,Pl,_h).call(this);return e&&t&&this._stats&&(this._stats=new bS),t}_startRenderPage(e,t){var s,r;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&S(this,Pl,_h).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();S(this,Pl,_h).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof n1){let s=$j;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Na(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Sr=new WeakMap,Pl=new WeakSet,_h=function(){if(!a(this,Sr)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),m(this,Sr,!1),!0};var qo,Vi,Er,Rl,Ly,Ml,Nl,un,fg,tP,nP,Th,sd,pg;const Be=class Be{constructor({name:e=null,port:t=null,verbosity:i=kF()}={}){A(this,un);A(this,qo,Promise.withResolvers());A(this,Vi,null);A(this,Er,null);A(this,Rl,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(a(Be,Nl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(Be,Nl).set(t,this),S(this,un,tP).call(this,t)}else S(this,un,nP).call(this)}get promise(){return a(this,qo).promise}get port(){return a(this,Er)}get messageHandler(){return a(this,Vi)}destroy(){var e,t;this.destroyed=!0,(e=a(this,Rl))==null||e.terminate(),m(this,Rl,null),a(Be,Nl).delete(a(this,Er)),m(this,Er,null),(t=a(this,Vi))==null||t.destroy(),m(this,Vi,null)}static create(e){const t=a(this,Nl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Be(e)}static get workerSrc(){if(js.workerSrc)return js.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return he(this,"_setupFakeWorkerGlobal",(async()=>a(this,sd,pg)?a(this,sd,pg):(await import(this.workerSrc)).WorkerMessageHandler)())}};qo=new WeakMap,Vi=new WeakMap,Er=new WeakMap,Rl=new WeakMap,Ly=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,un=new WeakSet,fg=function(){a(this,qo).resolve(),a(this,Vi).send("configure",{verbosity:this.verbosity})},tP=function(e){m(this,Er,e),m(this,Vi,new xh("main","worker",e)),a(this,Vi).on("ready",()=>{}),S(this,un,fg).call(this)},nP=function(){if(a(Be,Ml)||a(Be,sd,pg)){S(this,un,Th).call(this);return}let{workerSrc:e}=Be;try{Be._isSameOrigin(window.location,e)||(e=Be._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new xh("main","worker",t),s=()=>{r.abort(),i.destroy(),t.terminate(),this.destroyed?a(this,qo).reject(new Error("Worker was destroyed")):S(this,un,Th).call(this)},r=new AbortController;t.addEventListener("error",()=>{a(this,Rl)||s()},{signal:r.signal}),i.on("test",l=>{if(r.abort(),this.destroyed||!l){s();return}m(this,Vi,i),m(this,Er,t),m(this,Rl,t),S(this,un,fg).call(this)}),i.on("ready",l=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{S(this,un,Th).call(this)}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};o();return}catch{wv("The worker has been disabled.")}S(this,un,Th).call(this)},Th=function(){a(Be,Ml)||(oe("Setting up fake worker."),m(Be,Ml,!0)),Be._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,qo).reject(new Error("Worker was destroyed"));return}const t=new JF;m(this,Er,t);const i=`fake${Ke(Be,Ly)._++}`,s=new xh(i+"_worker",i,t);e.setup(s,t),m(this,Vi,new xh(i,i+"_worker",t)),S(this,un,fg).call(this)}).catch(e=>{a(this,qo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},sd=new WeakSet,pg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(Be,sd),A(Be,Ly,0),A(Be,Ml,!1),A(Be,Nl,new WeakMap),on&&(m(Be,Ml,!0),js.workerSrc||(js.workerSrc="./pdf.worker.mjs")),Be._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(t,i);return i.origin===s.origin},Be._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Be.fromPort=e=>{if(zF("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Be.create(e)};let gf=Be;var Cr,Ts,rd,od,_r,Dl,kh;class Vj{constructor(e,t,i,s,r,o){A(this,Dl);A(this,Cr,new Map);A(this,Ts,new Map);A(this,rd,new Map);A(this,od,new Map);A(this,_r,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qk,this.fontLoader=new XF({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return he(this,"annotationStorage",new s1)}getRenderingIntent(e,t=yo.ENABLE,i=null,s=!1,r=!1){let o=qn.DISPLAY,l=Vw;switch(e){case"any":o=qn.ANY;break;case"display":break;case"print":o=qn.PRINT;break;default:oe(`getRenderingIntent - invalid intent: ${e}`)}const c=o&qn.PRINT&&i instanceof Nk?i:this.annotationStorage;switch(t){case yo.DISABLE:o+=qn.ANNOTATIONS_DISABLE;break;case yo.ENABLE:break;case yo.ENABLE_FORMS:o+=qn.ANNOTATIONS_FORMS;break;case yo.ENABLE_STORAGE:o+=qn.ANNOTATIONS_STORAGE,l=c.serializable;break;default:oe(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=qn.IS_EDITING),r&&(o+=qn.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,l.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=a(this,_r))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of a(this,Ts).values())e.push(s._destroy());a(this,Ts).clear(),a(this,rd).clear(),a(this,od).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),a(this,Cr).clear(),this.filterFactory.destroy(),pf.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Na("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}ct(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(i,s)=>{ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:l}){if(l){s.close();return}ct(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Hj(i,this))}),e.on("DocException",i=>{t._capability.reject(gn(i))}),e.on("PasswordRequest",i=>{m(this,_r,Promise.withResolvers());try{if(!t.onPassword)throw gn(i);const s=r=>{r instanceof Error?a(this,_r).reject(r):a(this,_r).resolve({password:r})};t.onPassword(s,i.code)}catch(s){a(this,_r).reject(s)}return a(this,_r).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;a(this,Ts).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const d=r.error;oe(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const l=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,c=new qF(r,l);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:u}=r;ct(u,"The imageRef must be defined.");for(const d of a(this,Ts).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(i,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,o])=>{var c;if(this.destroyed)return;const l=a(this,Ts).get(s);if(!l.objs.has(i)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(r){case"Image":case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=a(this,rd).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&a(this,od).set(r.refStr,e);const o=new Uj(t,r,this,this._params.pdfBug);return a(this,Ts).set(t,o),o});return a(this,rd).set(t,s),s}getPageIndex(e){return Ww(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return S(this,Dl,kh).call(this,"GetFieldObjects")}hasJSActions(){return S(this,Dl,kh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return S(this,Dl,kh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return S(this,Dl,kh).call(this,"GetOptionalContentConfig").then(t=>new Aj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,Cr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new bj(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return a(this,Cr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,Ts).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,Cr).clear(),this.filterFactory.destroy(!0),pf.cleanup()}}cachedPageNumber(e){if(!Ww(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,od).get(t)??null}}Cr=new WeakMap,Ts=new WeakMap,rd=new WeakMap,od=new WeakMap,_r=new WeakMap,Dl=new WeakSet,kh=function(e,t=null){const i=a(this,Cr).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return a(this,Cr).set(e,s),s};var Yo;class Wj{constructor(e){A(this,Yo,null);$(this,"onContinue",null);$(this,"onError",null);m(this,Yo,e)}get promise(){return a(this,Yo).capability.promise}cancel(e=0){a(this,Yo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Yo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Yo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Yo=new WeakMap;var Ko,Ll;const Xa=class Xa{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,filteredOperationIndexes:v=null}){A(this,Ko,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Wj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._filteredOperationIndexes=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(a(Xa,Ll).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(Xa,Ll).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new uu(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),a(this,Ko)&&(window.cancelAnimationFrame(a(this,Ko)),m(this,Ko,null)),a(Xa,Ll).delete(this._canvas),e||(e=new n1(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(r=(s=this.task).onError)==null||r.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?m(this,Ko,window.requestAnimationFrame(()=>{m(this,Ko,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(Xa,Ll).delete(this._canvas),this.callback())))}};Ko=new WeakMap,Ll=new WeakMap,A(Xa,Ll,new WeakSet);let sb=Xa;const Gj="5.4.149",Xj="9e2e9e209";var Fn,Il,ad,mt,fp,ld,Tr,pp,Qo,Wi,mp,Re,rb,ob,ab,Ua,iP,ho;const yn=class yn{constructor({editor:e=null,uiManager:t=null}){A(this,Re);A(this,Fn,null);A(this,Il,null);A(this,ad);A(this,mt,null);A(this,fp,!1);A(this,ld,!1);A(this,Tr,null);A(this,pp);A(this,Qo,null);A(this,Wi,null);var i,s;e?(m(this,ld,!1),m(this,Tr,e)):m(this,ld,!0),m(this,Wi,(e==null?void 0:e._uiManager)||t),m(this,pp,a(this,Wi)._eventBus),m(this,ad,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((s=a(this,Wi))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),a(yn,mp)||m(yn,mp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return he(this,"_keyboardManager",new om([[["Escape","mac+Escape"],yn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yn.prototype._moveToPrevious],[["Home","mac+Home"],yn.prototype._moveToBeginning],[["End","mac+End"],yn.prototype._moveToEnd]]))}renderButton(){const e=m(this,Fn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,Tr)&&(e.ariaControls=`${a(this,Tr).id}_colorpicker_dropdown`);const t=a(this,Wi)._signal;e.addEventListener("click",S(this,Re,Ua).bind(this),{signal:t}),e.addEventListener("keydown",S(this,Re,ab).bind(this),{signal:t});const i=m(this,Il,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=a(this,ad),e.append(i),e}renderMainDropdown(){const e=m(this,mt,S(this,Re,rb).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,Fn)){S(this,Re,Ua).call(this,e);return}const t=e.target.getAttribute("data-color");t&&S(this,Re,ob).call(this,t,e)}_moveToNext(e){var t,i;if(!a(this,Re,ho)){S(this,Re,Ua).call(this,e);return}if(e.target===a(this,Fn)){(t=a(this,mt).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=a(this,mt))==null?void 0:t.firstChild)||e.target===a(this,Fn)){a(this,Re,ho)&&this._hideDropdownFromKeyboard();return}a(this,Re,ho)||S(this,Re,Ua).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!a(this,Re,ho)){S(this,Re,Ua).call(this,e);return}(t=a(this,mt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Re,ho)){S(this,Re,Ua).call(this,e);return}(t=a(this,mt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,mt))==null||e.classList.add("hidden"),a(this,Fn).ariaExpanded="false",(t=a(this,Qo))==null||t.abort(),m(this,Qo,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,ld)){if(!a(this,Re,ho)){(e=a(this,Tr))==null||e.unselect();return}this.hideDropdown(),a(this,Fn).focus({preventScroll:!0,focusVisible:a(this,fp)})}}updateColor(e){if(a(this,Il)&&(a(this,Il).style.backgroundColor=e),!a(this,mt))return;const t=a(this,Wi).highlightColors.values();for(const i of a(this,mt).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,Fn))==null||e.remove(),m(this,Fn,null),m(this,Il,null),(t=a(this,mt))==null||t.remove(),m(this,mt,null)}};Fn=new WeakMap,Il=new WeakMap,ad=new WeakMap,mt=new WeakMap,fp=new WeakMap,ld=new WeakMap,Tr=new WeakMap,pp=new WeakMap,Qo=new WeakMap,Wi=new WeakMap,mp=new WeakMap,Re=new WeakSet,rb=function(){const e=document.createElement("div"),t=a(this,Wi)._signal;e.addEventListener("contextmenu",ki,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,Tr)&&(e.id=`${a(this,Tr).id}_colorpicker_dropdown`);for(const[i,s]of a(this,Wi).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",a(yn,mp)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.ariaSelected=s===a(this,ad),r.addEventListener("click",S(this,Re,ob).bind(this,s),{signal:t}),e.append(r)}return e.addEventListener("keydown",S(this,Re,ab).bind(this),{signal:t}),e},ob=function(e,t){t.stopPropagation(),a(this,pp).dispatch("switchannotationeditorparams",{source:this,type:me.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},ab=function(e){yn._keyboardManager.exec(this,e)},Ua=function(e){if(a(this,Re,ho)){this.hideDropdown();return}if(m(this,fp,e.detail===0),a(this,Qo)||(m(this,Qo,new AbortController),window.addEventListener("pointerdown",S(this,Re,iP).bind(this),{signal:a(this,Wi).combinedSignal(a(this,Qo))})),a(this,Fn).ariaExpanded="true",a(this,mt)){a(this,mt).classList.remove("hidden");return}const t=m(this,mt,S(this,Re,rb).call(this));a(this,Fn).append(t)},iP=function(e){var t;(t=a(this,mt))!=null&&t.contains(e.target)||this.hideDropdown()},ho=function(){return a(this,mt)&&!a(this,mt).classList.contains("hidden")},A(yn,mp,null);let yy=yn;var ks,gp,cd,yp;const qa=class qa{constructor(e){A(this,ks,null);A(this,gp,null);A(this,cd,null);m(this,gp,e),m(this,cd,e._uiManager),a(qa,yp)||m(qa,yp,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(a(this,ks))return a(this,ks);const{editorType:e,colorType:t,colorValue:i}=a(this,gp),s=m(this,ks,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",a(qa,yp)[e]),s.addEventListener("input",()=>{a(this,cd).updateParams(t,s.value)},{signal:a(this,cd)._signal}),s}update(e){a(this,ks)&&(a(this,ks).value=e)}destroy(){var e;(e=a(this,ks))==null||e.remove(),m(this,ks,null)}hideDropdown(){}};ks=new WeakMap,gp=new WeakMap,cd=new WeakMap,yp=new WeakMap,A(qa,yp,null);let vy=qa;function OS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ch(n){return Math.max(0,Math.min(255,255*n))}class FS{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ch(e),[e,e,e]}static G_HTML([e]){const t=OS(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ch)}static RGB_HTML(e){return`#${e.map(OS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[ch(1-Math.min(1,e+s)),ch(1-Math.min(1,i+s)),ch(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,r=1-t,o=1-i,l=Math.min(s,r,o);return["CMYK",s,r,o,l]}}class qj{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Me("Abstract method `_createSVG` called.")}}class wy extends qj{_createSVG(e){return document.createElementNS(Ks,e)}}class sP{static setupStorage(e,t,i,s,r){const o=s.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",l=>{s.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:r}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&r.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,f;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const l=r!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),l&&mf.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const d=[[s,-1,o]];for(;d.length>0;){const[p,v,g]=d.at(-1);if(v+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const x=document.createTextNode(b.value);u.push(x),g.append(x);continue}const w=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(g.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:r,linkService:i}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);l&&mf.shouldBuildText(y)&&u.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Yj=9,wc=new WeakSet,Kj=new Date().getTimezoneOffset()*60*1e3;class jS{static create(e){switch(e.data.annotationType){case ot.LINK:return new a1(e);case ot.TEXT:return new Qj(e);case ot.WIDGET:switch(e.data.fieldType){case"Tx":return new Zj(e);case"Btn":return e.data.radioButton?new lP(e):e.data.checkBox?new eB(e):new tB(e);case"Ch":return new nB(e);case"Sig":return new Jj(e)}return new Ec(e);case ot.POPUP:return new cb(e);case ot.FREETEXT:return new mP(e);case ot.LINE:return new sB(e);case ot.SQUARE:return new rB(e);case ot.CIRCLE:return new oB(e);case ot.POLYLINE:return new gP(e);case ot.CARET:return new lB(e);case ot.INK:return new l1(e);case ot.POLYGON:return new aB(e);case ot.HIGHLIGHT:return new yP(e);case ot.UNDERLINE:return new cB(e);case ot.SQUIGGLY:return new uB(e);case ot.STRIKEOUT:return new dB(e);case ot.STAMP:return new vP(e);case ot.FILEATTACHMENT:return new hB(e);default:return new it(e)}}}var Ol,ud,kr,bc,rP,lb;const m1=class m1{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){A(this,bc);A(this,Ol,null);A(this,ud,!1);A(this,kr,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return m1._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:e,rect:t}=this.data;let i=-1/0,s=-1/0;if((e==null?void 0:e.length)>=8){for(let r=0;r<e.length;r+=8)e[r+1]>s?(s=e[r+1],i=e[r+2]):e[r+1]===s&&(i=Math.max(i,e[r+2]));return[i,s]}return t?[t[2],t[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[e,t,i]=this.data.color,r=255*(1-(this.data.opacity??1));return S(this,bc,rP).call(this,Math.min(e+r,255),Math.min(t+r,255),Math.min(i+r,255))}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/i,e[1]=100*(e[1]-o)/s,e}updateEdited(e){var r;if(!this.container)return;e.rect&&(a(this,Ol)||m(this,Ol,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&S(this,bc,lb).call(this,t);let s=((r=a(this,kr))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=a(this,kr).popup),s&&(s.updateEdited(e),i!=null&&i.deleted&&(s.remove(),m(this,kr,null),this.popup=null))}resetEdited(){var e;a(this,Ol)&&(S(this,bc,lb).call(this,a(this,Ol).rect),(e=a(this,kr))==null||e.popup.resetEdited(),m(this,Ol,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof Ec)&&!(this instanceof a1)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof cb){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,r),r}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(g>0||b>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof lP){const w=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case Nc.SOLID:o.borderStyle="solid";break;case Nc.DASHED:o.borderStyle="dashed";break;case Nc.BEVELED:oe("Unimplemented border style: beveled");break;case Nc.INSET:oe("Unimplemented border style: inset");break;case Nc.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(m(this,ud,!0),o.borderColor=J.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const u=J.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*l/d}%`,o.height=`${100*c/h}%`):this.setRotation(v,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:o}=this;e%180!==0&&([r,o]=[o,r]),t.style.width=`${100*r/i}%`,t.style.height=`${100*o/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const r=s.detail[t],o=r[0],l=r.slice(1);s.target.style[i]=FS[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:FS[`${o}_rgb`](l)})};return he(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const r=e[s]||i[s];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,r]of Object.entries(t)){const o=i[s];if(o){const l={detail:{[s]:r},target:e};o(l),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,r]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,b,y,w]=e.subarray(2,6);if(s===g&&r===b&&t===y&&i===w)return}const{style:o}=this.container;let l;if(a(this,ud)){const{borderColor:g,borderWidth:b}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=s-t,u=r-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,b=e.length;g<b;g+=8){const y=e[g],w=e[g+1],x=e[g+2],E=e[g+3],_=d.createElement("rect"),T=(x-t)/c,k=(r-w)/u,R=(y-x)/c,M=(w-E)/u;_.setAttribute("x",T),_.setAttribute("y",k),_.setAttribute("width",R),_.setAttribute("height",M),p.append(_),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${R}" height="${M}"/>`)}a(this,ud)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let i,s;e?(i={str:e.text},s=e.date):(i=t.contentsObj,s=t.modificationDate);const r=m(this,kr,new cb({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}get hasPopupElement(){return!!(a(this,kr)||this.popup||this.data.popupRef)}render(){Me("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:o,exportValues:l}of s){if(r===-1||o===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!wc.has(u)){oe(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:u})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==t&&wc.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ol=new WeakMap,ud=new WeakMap,kr=new WeakMap,bc=new WeakSet,rP=function(e,t,i){e/=255,t/=255,i/=255;const s=Math.max(e,t,i),r=Math.min(e,t,i),o=(s+r)/2,l=((1+Math.sqrt(o))/2*100).toFixed(2);if(s===r)return`hsl(0, 0%, ${l}%)`;const c=s-r;let u;s===e?u=(t-i)/c+(t<i?6:0):s===t?u=(i-e)/c+2:u=(e-t)/c+4,u=(u*60).toFixed(2);const d=(c/(1-Math.abs(2*o-1))*100).toFixed(2);return`hsl(${u}, ${d}%, ${l}%)`},lb=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-l)/r}%`,t.top=`${100*(o-e[3]+c)/o}%`,s===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(s)};let it=m1;var Zn,Va,oP,aP;class a1 extends it{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});A(this,Zn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action,t.overlaidText),r=!0):t.attachment?(S(this,Zn,oP).call(this,s,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(S(this,Zn,aP).call(this,s,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(s,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(t,i,s=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&S(this,Zn,Va).call(this),s&&(t.title=s)}_bindNamedAction(t,i,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(t.title=s),S(this,Zn,Va).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),S(this,Zn,Va).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),S(this,Zn,Va).call(this),!this._fieldObjects){oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:r,refs:o,include:l}=i,c=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const v=this._fieldObjects[p]||[];for(const{id:g}of v)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===l&&c.push(v)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!wc.has(v)){oe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Zn=new WeakSet,Va=function(){this.container.setAttribute("data-internal-link","")},oP=function(t,i,s="",r=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:s&&(t.title=s),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},S(this,Zn,Va).call(this)},aP=function(t,i,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(t.title=s),S(this,Zn,Va).call(this)};class Qj extends it{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ec extends it{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,r){i.includes("mouse")?e.addEventListener(i,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var l;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}r&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(e,t,i,s){var r,o,l;for(const[c,u]of i)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":J.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Yj,r=e.style;let o;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(l0*s))||1,h=u/d;o=Math.min(s,c(h/l0))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(s,c(u/l0))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=J.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Zj extends Ec{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),wc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(i,"value",b.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue??"";i.value=d.userValue=y,d.formattedValue=null});let g=b=>{const{formattedValue:y}=d;y!=null&&(b.target.value=y),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",y=>{var x;if(d.focused)return;const{target:w}=y;if(v&&(w.type=f,p&&(w.step=p)),d.userValue){const E=d.userValue;if(v)if(f==="time"){const _=new Date(E),T=[_.getHours(),_.getMinutes(),_.getSeconds()];w.value=T.map(k=>k.toString().padStart(2,"0")).join(":")}else w.value=new Date(E-Kj).toISOString().split(f==="date"?"T":".",1)[0];else w.value=E}d.lastCommittedValue=w.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const w={value(x){d.userValue=x.detail.value??"",v||e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:E}=x.detail;d.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E);const _={formattedValue:E};v&&(_.value=E),e.setValue(t,_)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var k;const{charLimit:E}=x.detail,{target:_}=x;if(E===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",E);let T=d.userValue;!T||T.length<=E||(T=T.slice(0,E),_.value=d.userValue=T,e.setValue(t,{value:T}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(w,y)}),i.addEventListener("keydown",y=>{var E;d.commitKey=1;let w=-1;if(y.key==="Escape"?w=0:y.key==="Enter"&&!this.data.multiLine?w=2:y.key==="Tab"&&(d.commitKey=3),w===-1)return;const{value:x}=y.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const b=g;g=null,i.addEventListener("blur",y=>{var E,_;if(!d.focused||!y.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(d.focused=!1);const{target:w}=y;let{value:x}=w;if(v){if(x&&f==="time"){const T=x.split(":").map(k=>parseInt(k,10));x=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),w.step=""}else x=new Date(x).valueOf();w.type="text"}d.userValue=x,d.lastCommittedValue!==x&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),b(y)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",y=>{var M;d.lastCommittedValue=null;const{data:w,target:x}=y,{value:E,selectionStart:_,selectionEnd:T}=x;let k=_,R=T;switch(y.inputType){case"deleteWordBackward":{const N=E.substring(0,_).match(/\w*[^\w]*$/);N&&(k-=N[0].length);break}case"deleteWordForward":{const N=E.substring(_).match(/^[^\w]*\w*/);N&&(R+=N[0].length);break}case"deleteContentBackward":_===T&&(k-=1);break;case"deleteContentForward":_===T&&(R+=1);break}y.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:k,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&i.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Jj extends Ec{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class eB extends Ec{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return wc.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,i)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class lP extends Ec{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(wc.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class tB extends a1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class nB extends Ec{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");wc.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),r=!1),s.append(h)}let o=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),o=()=>{d.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=v.has(g.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,v=f.detail.remove;p[v].selected=!1,s.remove(v),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:p,displayValue:v,exportValue:g}=f.detail.insert,b=s.children[p],y=document.createElement("option");y.textContent=v,y.value=g,b?b.before(y):s.append(y),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const v of p){const{displayValue:g,exportValue:b}=v,y=document.createElement("option");y.textContent=g,y.value=b,s.append(y)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var p;const h=l(!0),f=l(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class cb extends it{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:it._hasPopupData(t)}),this.elements=i,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new iB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),i=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${t1}${s}`).join(",")),this.container}}var Fl,Iy,Oy,jl,dd,Ze,Pr,Zo,Rr,vp,wp,hd,Ps,jn,Mr,Nr,bp,Jo,fd,xp,Dr,pd,Bl,ea,pe,mg,cP,uP,gg,ub,dP,hP,fP,pP,yg,vg,db;class iB{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h,eventBus:f=null}){A(this,pe);A(this,Fl,S(this,pe,fP).bind(this));A(this,Iy,S(this,pe,db).bind(this));A(this,Oy,S(this,pe,vg).bind(this));A(this,jl,S(this,pe,yg).bind(this));A(this,dd,null);A(this,Ze,null);A(this,Pr,null);A(this,Zo,null);A(this,Rr,null);A(this,vp,null);A(this,wp,null);A(this,hd,null);A(this,Ps,!1);A(this,jn,null);A(this,Mr,null);A(this,Nr,null);A(this,bp,null);A(this,Jo,null);A(this,fd,null);A(this,xp,null);A(this,Dr,null);A(this,pd,null);A(this,Bl,null);A(this,ea,!1);m(this,Ze,e),m(this,pd,s),m(this,Pr,o),m(this,Dr,l),m(this,wp,c),m(this,dd,t),m(this,xp,u),m(this,hd,d),m(this,Rr,i),m(this,vp,f),m(this,Zo,fy.toDateObject(r)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),S(this,pe,mg).call(this),a(this,Ze).hidden=!0,h&&S(this,pe,yg).call(this)}render(){var s;if(a(this,jn))return;const e=m(this,jn,document.createElement("div"));if(e.className="popup",a(this,dd)){const r=e.style.outlineColor=J.makeHexColor(...a(this,dd));e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");if(t.className="header",(s=a(this,pd))!=null&&s.str){const r=document.createElement("span");r.className="title",t.append(r),{dir:r.dir,str:r.textContent}=a(this,pd)}if(e.append(t),a(this,Zo)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Zo).valueOf()})),r.dateTime=a(this,Zo).toISOString(),t.append(r)}const i=a(this,pe,gg);if(i)sP.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(a(this,Pr));e.append(r)}a(this,Ze).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,o=s.length;r<o;++r){const l=s[r];i.append(document.createTextNode(l)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popup:t,deleted:i}){var s;if(i||t!=null&&t.deleted){this.remove();return}S(this,pe,mg).call(this),a(this,Bl)||m(this,Bl,{contentsObj:a(this,Pr),richText:a(this,Dr)}),e&&m(this,Nr,null),t&&(m(this,Dr,S(this,pe,hP).call(this,t.text)),m(this,Zo,fy.toDateObject(t.date)),m(this,Pr,null)),(s=a(this,jn))==null||s.remove(),m(this,jn,null)}resetEdited(){var e;a(this,Bl)&&({contentsObj:Ke(this,Pr)._,richText:Ke(this,Dr)._}=a(this,Bl),m(this,Bl,null),(e=a(this,jn))==null||e.remove(),m(this,jn,null),m(this,Nr,null))}remove(){var e,t;(e=a(this,Mr))==null||e.abort(),m(this,Mr,null),(t=a(this,jn))==null||t.remove(),m(this,jn,null),m(this,ea,!1),m(this,Ps,!1);for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){m(this,ea,this.isVisible),a(this,ea)&&(a(this,Ze).hidden=!0)}maybeShow(){S(this,pe,mg).call(this),a(this,ea)&&(a(this,jn)||S(this,pe,vg).call(this),m(this,ea,!1),a(this,Ze).hidden=!1)}get isVisible(){return a(this,Ze).hidden===!1}}Fl=new WeakMap,Iy=new WeakMap,Oy=new WeakMap,jl=new WeakMap,dd=new WeakMap,Ze=new WeakMap,Pr=new WeakMap,Zo=new WeakMap,Rr=new WeakMap,vp=new WeakMap,wp=new WeakMap,hd=new WeakMap,Ps=new WeakMap,jn=new WeakMap,Mr=new WeakMap,Nr=new WeakMap,bp=new WeakMap,Jo=new WeakMap,fd=new WeakMap,xp=new WeakMap,Dr=new WeakMap,pd=new WeakMap,Bl=new WeakMap,ea=new WeakMap,pe=new WeakSet,mg=function(){var t;if(a(this,Mr))return;m(this,Mr,new AbortController);const{signal:e}=a(this,Mr);for(const i of this.trigger)i.addEventListener("click",a(this,jl),{signal:e}),i.addEventListener("mouseenter",a(this,Oy),{signal:e}),i.addEventListener("mouseleave",a(this,Iy),{signal:e}),i.classList.add("popupTriggerArea");for(const i of a(this,Rr))(t=i.container)==null||t.addEventListener("keydown",a(this,Fl),{signal:e});S(this,pe,uP).call(this)},cP=function(){const e=a(this,Rr).find(t=>t.hasCommentButton);e&&(m(this,Jo,e._normalizePoint(e.commentButtonPosition)),m(this,fd,e.commentButtonColor))},uP=function(){if(a(this,bp)||(a(this,Jo)||S(this,pe,cP).call(this),!a(this,Jo)))return;const e=m(this,bp,document.createElement("button"));e.className="annotationCommentButton";const t=a(this,Rr)[0].container;e.style.zIndex=t.style.zIndex+1,e.tabIndex=0;const{signal:i}=a(this,Mr);e.addEventListener("hover",a(this,jl),{signal:i}),e.addEventListener("keydown",a(this,Fl),{signal:i}),e.addEventListener("click",()=>{var l;const[{data:{id:r},annotationEditorType:o}]=a(this,Rr);(l=a(this,vp))==null||l.dispatch("switchannotationeditormode",{source:this,editId:r,mode:o,editComment:!0})},{signal:i});const{style:s}=e;s.left=`calc(${a(this,Jo)[0]}%)`,s.top=`calc(${a(this,Jo)[1]}% - var(--comment-button-dim))`,a(this,fd)&&(s.backgroundColor=a(this,fd)),t.after(e)},gg=function(){const e=a(this,Dr),t=a(this,Pr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,Dr).html||null},ub=function(){var e,t,i;return((i=(t=(e=a(this,pe,gg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},dP=function(){var e,t,i;return((i=(t=(e=a(this,pe,gg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},hP=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:a(this,pe,dP),fontSize:a(this,pe,ub)?`calc(${a(this,pe,ub)}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:s});return i},fP=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,Ps))&&S(this,pe,yg).call(this)},pP=function(){if(a(this,Nr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:r}}}=a(this,wp);let o=!!a(this,hd),l=o?a(this,hd):a(this,xp);for(const v of a(this,Rr))if(!l||J.intersect(v.data.rect,l)!==null){l=v.data.rect,o=!0;break}const c=J.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=o?l[2]-l[0]+5:0,h=c[0]+d,f=c[1];m(this,Nr,[100*(h-s)/t,100*(f-r)/i]);const{style:p}=a(this,Ze);p.left=`${a(this,Nr)[0]}%`,p.top=`${a(this,Nr)[1]}%`},yg=function(){m(this,Ps,!a(this,Ps)),a(this,Ps)?(S(this,pe,vg).call(this),a(this,Ze).addEventListener("click",a(this,jl)),a(this,Ze).addEventListener("keydown",a(this,Fl))):(S(this,pe,db).call(this),a(this,Ze).removeEventListener("click",a(this,jl)),a(this,Ze).removeEventListener("keydown",a(this,Fl)))},vg=function(){a(this,jn)||this.render(),this.isVisible?a(this,Ps)&&a(this,Ze).classList.add("focused"):(S(this,pe,pP).call(this),a(this,Ze).hidden=!1,a(this,Ze).style.zIndex=parseInt(a(this,Ze).style.zIndex)+1e3)},db=function(){a(this,Ze).classList.remove("focused"),!(a(this,Ps)||!this.isVisible)&&(a(this,Ze).hidden=!0,a(this,Ze).style.zIndex=parseInt(a(this,Ze).style.zIndex)-1e3)};class mP extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=re.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ap;class sB extends it{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Ap,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=m(this,Ap,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ap=new WeakMap;var Sp;class rB extends it{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Sp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,l=m(this,Sp,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",i-o),l.setAttribute("height",s-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Sp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sp=new WeakMap;var Ep;class oB extends it{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Ep,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,l=m(this,Ep,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",s/2),l.setAttribute("rx",i/2-o/2),l.setAttribute("ry",s/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Ep)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ep=new WeakMap;var Cp;class gP extends it{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Cp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r},width:o,height:l}=this;if(!i)return this.container;const c=this.svgFactory.create(o,l,!0);let u=[];for(let h=0,f=i.length;h<f;h+=2){const p=i[h]-t[0],v=t[3]-i[h+1];u.push(`${p},${v}`)}u=u.join(" ");const d=m(this,Cp,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cp=new WeakMap;class aB extends gP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lB extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _p,zl,Tp,hb;class l1 extends it{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Tp);A(this,_p,null);A(this,zl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?re.HIGHLIGHT:re.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{transform:l,width:c,height:u}=S(this,Tp,hb).call(this,i,t),d=this.svgFactory.create(c,u,!0),h=m(this,_p,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let f=0,p=s.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);a(this,zl).push(v),v.setAttribute("points",s[f].join(",")),h.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:s,rect:r}=t,o=a(this,_p);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let l=0,c=a(this,zl).length;l<c;l++)a(this,zl)[l].setAttribute("points",s[l].join(","));if(r){const{transform:l,width:c,height:u}=S(this,Tp,hb).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return a(this,zl)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:t,rect:i}=this.data;if((t==null?void 0:t.length)>=1){let s=-1/0,r=-1/0;for(const o of t)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>r?(r=o[l+1],s=o[l]):o[l+1]===r&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,r]}return i?[i[2],i[3]]:null}}_p=new WeakMap,zl=new WeakMap,Tp=new WeakSet,hb=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class yP extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=re.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class cB extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class uB extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class dB extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class vP extends it{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=re.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kp,Pp,fb;class hB extends it{constructor(t){var s;super(t,{isRenderable:!0});A(this,Pp);A(this,kp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",S(this,Pp,fb).bind(this)),m(this,kp,s);const{isMac:r}=zt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&S(this,Pp,fb).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return a(this,kp)}addHighlightArea(){this.container.classList.add("highlightArea")}}kp=new WeakMap,Pp=new WeakSet,fb=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Rp,$l,ta,Mp,Ia,mb,gb;const g1=class g1{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:l}){A(this,Ia);A(this,Rp,null);A(this,$l,null);A(this,ta,new Map);A(this,Mp,null);this.div=e,m(this,Rp,t),m(this,$l,i),m(this,Mp,l||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return a(this,ta).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;yc(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new wy,annotationStorage:e.annotationStorage||new s1,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===ot.POPUP;if(c){const h=s.get(l.id);if(!h)continue;r.elements=h}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;r.data=l;const u=jS.create(r);if(!u.isRenderable)continue;if(!c&&l.popupRef){const h=s.get(l.popupRef);h?h.push(u):s.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),await S(this,Ia,mb).call(this,d,l.id,r.elements),u._isEditable&&(a(this,ta).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}S(this,Ia,gb).call(this)}async addLinkAnnotations(e,t){const i={data:null,layer:this.div,linkService:t,svgFactory:new wy,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=g1._defaultBorderStyle),i.data=s;const r=jS.create(i);if(!r.isRenderable)continue;const o=r.render();await S(this,Ia,mb).call(this,o,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,yc(t,{rotation:e.rotation}),S(this,Ia,gb).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,ta).values())}getEditableAnnotation(e){return a(this,ta).get(e)}static get _defaultBorderStyle(){return he(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Nc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Rp=new WeakMap,$l=new WeakMap,ta=new WeakMap,Mp=new WeakMap,Ia=new WeakSet,mb=async function(e,t,i){var l,c;const s=e.firstChild||e,r=s.id=`${t1}${t}`,o=await((l=a(this,Mp))==null?void 0:l.getAriaAttributes(r));if(o)for(const[u,d]of o)s.setAttribute(u,d);i?i.at(-1).container.after(e):(this.div.append(e),(c=a(this,Rp))==null||c.moveElementInDOM(this.div,e,s,!1))},gb=function(){var t;if(!a(this,$l))return;const e=this.div;for(const[i,s]of a(this,$l)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s);const l=a(this,ta).get(i);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,r.id,s),l._hasNoCanvas=!1):l.canvas=s)}a(this,$l).clear()};let pb=g1;const Bm=/\r\n?|\n/g;var gi,Bn,Np,Hl,zn,ut,wP,bP,xP,wg,Xr,bg,xg,AP,vb,SP;const Oe=class Oe extends De{constructor(t){super({...t,name:"freeTextEditor"});A(this,ut);A(this,gi);A(this,Bn,"");A(this,Np,`${this.id}-editor`);A(this,Hl,null);A(this,zn);$(this,"_colorPicker",null);m(this,gi,t.color||Oe._defaultColor||De._defaultLineColor),m(this,zn,t.fontSize||Oe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Oe.prototype,i=o=>o.isEmpty(),s=vc.TRANSLATE_SMALL,r=vc.TRANSLATE_BIG;return he(this,"_keyboardManager",new om([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(t,i){De.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case me.FREETEXT_SIZE:Oe._defaultFontSize=i;break;case me.FREETEXT_COLOR:Oe._defaultColor=i;break}}updateParams(t,i){switch(t){case me.FREETEXT_SIZE:S(this,ut,wP).call(this,i);break;case me.FREETEXT_COLOR:S(this,ut,bP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[me.FREETEXT_SIZE,Oe._defaultFontSize],[me.FREETEXT_COLOR,Oe._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[me.FREETEXT_SIZE,a(this,zn)],[me.FREETEXT_COLOR,a(this,gi)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return me.FREETEXT_COLOR}get colorValue(){return a(this,gi)}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Oe._internalPadding*t,-(Oe._internalPadding+a(this,zn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),m(this,Hl,new AbortController);const t=this._uiManager.combinedSignal(a(this,Hl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,Np)),this._isDraggable=!0,(t=a(this,Hl))==null||t.abort(),m(this,Hl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,Bn),i=m(this,Bn,S(this,ut,xP).call(this).trimEnd());if(t===i)return;const s=r=>{if(m(this,Bn,r),!r){this.remove();return}S(this,ut,xg).call(this),this._uiManager.rebuild(this),S(this,ut,wg).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),S(this,ut,wg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Oe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,Np)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${a(this,zn)}px * var(--total-scale-factor))`,s.color=a(this,gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(l[0]-f)/d,g=i+this.height-(l[1]-p)/h;break;case 90:v=t+(l[0]-f)/d,g=i-(l[1]-p)/h,[c,u]=[u,-c];break;case 180:v=t-this.width+(l[0]-f)/d,g=i-(l[1]-p)/h,[c,u]=[-c,-u];break;case 270:v=t+(l[0]-f-this.height*h)/d,g=i+(l[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(v*r,g*o,c,u)}else this._moveAfterPaste(t,i);S(this,ut,xg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,b;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=S(v=Oe,Xr,vb).call(v,i.getData("text")||"").replaceAll(Bm,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(Bm,"")),y!==this.editorDiv){let w=d;for(const x of this.editorDiv.childNodes){if(x===y){w=h;continue}w.push(S(g=Oe,Xr,bg).call(g,x))}}d.push(c.nodeValue.slice(0,u).replaceAll(Bm,""))}else if(c===this.editorDiv){let y=d,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(y=h),y.push(S(b=Oe,Xr,bg).call(b,x))}m(this,Bn,`${d.join(`
`)}${r}${h.join(`
`)}`),S(this,ut,xg).call(this);const f=new Range;let p=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(p<=w){f.setStart(y,p),f.setEnd(y,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Oe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,s){var l;let r=null;if(t instanceof mP){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,contentsObj:v},textContent:g,textPosition:b,parent:{page:{pageNumber:y}}}=t;if(!g||g.length===0)return null;r=t={annotationType:re.FREETEXT,color:Array.from(u),fontSize:c,value:g.join(`
`),position:b,pageIndex:y-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null}}const o=await super.deserialize(t,i,s);return m(o,zn,t.fontSize),m(o,gi,J.makeHexColor(...t.color)),m(o,Bn,S(l=Oe,Xr,vb).call(l,t.value)),o._initialData=r,t.comment&&o.setCommentData(t.comment),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=this.getPDFRect(),s=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:a(this,gi)),r={annotationType:re.FREETEXT,color:s,fontSize:a(this,zn),value:S(this,ut,AP).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!S(this,ut,SP).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${a(this,zn)}px * var(--total-scale-factor))`,s.color=a(this,gi),i.replaceChildren();for(const o of a(this,Bn).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),i.append(l)}const r={rect:this.getPDFRect()};return r.popup=this.hasEditedComment?this.comment:{text:a(this,Bn)},t.updateEdited(r),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};gi=new WeakMap,Bn=new WeakMap,Np=new WeakMap,Hl=new WeakMap,zn=new WeakMap,ut=new WeakSet,wP=function(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-a(this,zn))*this.parentScale),m(this,zn,r),S(this,ut,wg).call(this)},s=a(this,zn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bP=function(t){const i=r=>{var o;m(this,gi,this.editorDiv.style.color=r),(o=this._colorPicker)==null||o.update(r)},s=a(this,gi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xP=function(){var s;const t=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(S(s=Oe,Xr,bg).call(s,r)),i=r);return t.join(`
`)},wg=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},Xr=new WeakSet,bg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Bm,"")},xg=function(){if(this.editorDiv.replaceChildren(),!!a(this,Bn))for(const t of a(this,Bn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},AP=function(){return a(this,Bn).replaceAll(""," ")},vb=function(t){return t.replaceAll(" ","")},SP=function(t){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((l,c)=>l!==r[c])||t.pageIndex!==o},A(Oe,Xr),$(Oe,"_freeTextDefaultContent",""),$(Oe,"_internalPadding",0),$(Oe,"_defaultColor",null),$(Oe,"_defaultFontSize",10),$(Oe,"_type","freetext"),$(Oe,"_editorType",re.FREETEXT);let yb=Oe;class Y{toSVGPath(){Me("Abstract method `toSVGPath` must be implemented.")}get box(){Me("Abstract getter `box` must be implemented.")}serialize(e,t){Me("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,s,r,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*s,o[l+1]=i+e[l+1]*r;return o}static _rescaleAndSwap(e,t,i,s,r,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*s,o[l+1]=i+e[l]*r;return o}static _translate(e,t,i,s){s||(s=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)s[r]=t+e[r],s[r+1]=i+e[r+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,s,r){switch(r){case 90:return[1-t/i,e/s];case 180:return[1-e/i,1-t/s];case 270:return[t/i,1-e/s];default:return[e/i,t/s]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,s,r,o){return[(e+5*i)/6,(t+5*s)/6,(5*i+r)/6,(5*s+o)/6,(i+r)/2,(s+o)/2]}}$(Y,"PRECISION",1e-4);var $n,Gi,md,gd,Rs,de,Ul,Vl,Dp,Lp,yd,vd,na,Ip,Fy,jy,wt,Ph,EP,CP,_P,TP,kP,PP;const tr=class tr{constructor({x:e,y:t},i,s,r,o,l=0){A(this,wt);A(this,$n);A(this,Gi,[]);A(this,md);A(this,gd);A(this,Rs,[]);A(this,de,new Float32Array(18));A(this,Ul);A(this,Vl);A(this,Dp);A(this,Lp);A(this,yd);A(this,vd);A(this,na,[]);m(this,$n,i),m(this,vd,r*s),m(this,gd,o),a(this,de).set([NaN,NaN,NaN,NaN,e,t],6),m(this,md,l),m(this,Lp,a(tr,Ip)*s),m(this,Dp,a(tr,jy)*s),m(this,yd,s),a(this,na).push(e,t)}isEmpty(){return isNaN(a(this,de)[8])}add({x:e,y:t}){var M;m(this,Ul,e),m(this,Vl,t);const[i,s,r,o]=a(this,$n);let[l,c,u,d]=a(this,de).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<a(this,Dp))return!1;const v=p-a(this,Lp),g=v/p,b=g*h,y=g*f;let w=l,x=c;l=u,c=d,u+=b,d+=y,(M=a(this,na))==null||M.push(e,t);const E=-y/v,_=b/v,T=E*a(this,vd),k=_*a(this,vd);return a(this,de).set(a(this,de).subarray(2,8),0),a(this,de).set([u+T,d+k],4),a(this,de).set(a(this,de).subarray(14,18),12),a(this,de).set([u-T,d-k],16),isNaN(a(this,de)[6])?(a(this,Rs).length===0&&(a(this,de).set([l+T,c+k],2),a(this,Rs).push(NaN,NaN,NaN,NaN,(l+T-i)/r,(c+k-s)/o),a(this,de).set([l-T,c-k],14),a(this,Gi).push(NaN,NaN,NaN,NaN,(l-T-i)/r,(c-k-s)/o)),a(this,de).set([w,x,l,c,u,d],6),!this.isEmpty()):(a(this,de).set([w,x,l,c,u,d],6),Math.abs(Math.atan2(x-c,w-l)-Math.atan2(y,b))<Math.PI/2?([l,c,u,d]=a(this,de).subarray(2,6),a(this,Rs).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/r,((c+d)/2-s)/o),[l,c,w,x]=a(this,de).subarray(14,18),a(this,Gi).push(NaN,NaN,NaN,NaN,((w+l)/2-i)/r,((x+c)/2-s)/o),!0):([w,x,l,c,u,d]=a(this,de).subarray(0,6),a(this,Rs).push(((w+5*l)/6-i)/r,((x+5*c)/6-s)/o,((5*l+u)/6-i)/r,((5*c+d)/6-s)/o,((l+u)/2-i)/r,((c+d)/2-s)/o),[u,d,l,c,w,x]=a(this,de).subarray(12,18),a(this,Gi).push(((w+5*l)/6-i)/r,((x+5*c)/6-s)/o,((5*l+u)/6-i)/r,((5*c+d)/6-s)/o,((l+u)/2-i)/r,((c+d)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,Rs),t=a(this,Gi);if(isNaN(a(this,de)[6])&&!this.isEmpty())return S(this,wt,EP).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);S(this,wt,_P).call(this,i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return S(this,wt,CP).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,s,r,o){return new RP(e,t,i,s,r,o)}getOutlines(){var h;const e=a(this,Rs),t=a(this,Gi),i=a(this,de),[s,r,o,l]=a(this,$n),c=new Float32Array((((h=a(this,na))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(a(this,na)[f]-s)/o,c[f+1]=(a(this,na)[f+1]-r)/l;if(c[c.length-2]=(a(this,Ul)-s)/o,c[c.length-1]=(a(this,Vl)-r)/l,isNaN(i[6])&&!this.isEmpty())return S(this,wt,TP).call(this,c);const u=new Float32Array(a(this,Rs).length+24+a(this,Gi).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=S(this,wt,PP).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return S(this,wt,kP).call(this,u,d),this.newFreeDrawOutline(u,c,a(this,$n),a(this,yd),a(this,md),a(this,gd))}};$n=new WeakMap,Gi=new WeakMap,md=new WeakMap,gd=new WeakMap,Rs=new WeakMap,de=new WeakMap,Ul=new WeakMap,Vl=new WeakMap,Dp=new WeakMap,Lp=new WeakMap,yd=new WeakMap,vd=new WeakMap,na=new WeakMap,Ip=new WeakMap,Fy=new WeakMap,jy=new WeakMap,wt=new WeakSet,Ph=function(){const e=a(this,de).subarray(4,6),t=a(this,de).subarray(16,18),[i,s,r,o]=a(this,$n);return[(a(this,Ul)+(e[0]-t[0])/2-i)/r,(a(this,Vl)+(e[1]-t[1])/2-s)/o,(a(this,Ul)+(t[0]-e[0])/2-i)/r,(a(this,Vl)+(t[1]-e[1])/2-s)/o]},EP=function(){const[e,t,i,s]=a(this,$n),[r,o,l,c]=S(this,wt,Ph).call(this);return`M${(a(this,de)[2]-e)/i} ${(a(this,de)[3]-t)/s} L${(a(this,de)[4]-e)/i} ${(a(this,de)[5]-t)/s} L${r} ${o} L${l} ${c} L${(a(this,de)[16]-e)/i} ${(a(this,de)[17]-t)/s} L${(a(this,de)[14]-e)/i} ${(a(this,de)[15]-t)/s} Z`},CP=function(e){const t=a(this,Gi);e.push(`L${t[4]} ${t[5]} Z`)},_P=function(e){const[t,i,s,r]=a(this,$n),o=a(this,de).subarray(4,6),l=a(this,de).subarray(16,18),[c,u,d,h]=S(this,wt,Ph).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-i)/r} L${c} ${u} L${d} ${h} L${(l[0]-t)/s} ${(l[1]-i)/r}`)},TP=function(e){const t=a(this,de),[i,s,r,o]=a(this,$n),[l,c,u,d]=S(this,wt,Ph).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/r,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-i)/r,(t[5]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/r,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-i)/r,(t[15]-s)/o],0),this.newFreeDrawOutline(h,e,a(this,$n),a(this,yd),a(this,md),a(this,gd))},kP=function(e,t){const i=a(this,Gi);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},PP=function(e,t){const i=a(this,de).subarray(4,6),s=a(this,de).subarray(16,18),[r,o,l,c]=a(this,$n),[u,d,h,f]=S(this,wt,Ph).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-r)/l,(i[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-r)/l,(s[1]-o)/c],t),t+=24},A(tr,Ip,8),A(tr,Fy,2),A(tr,jy,a(tr,Ip)+a(tr,Fy));let by=tr;var wd,Wl,Lr,Op,Hn,Fp,tt,By,MP;class RP extends Y{constructor(t,i,s,r,o,l){super();A(this,By);A(this,wd);A(this,Wl,new Float32Array(4));A(this,Lr);A(this,Op);A(this,Hn);A(this,Fp);A(this,tt);m(this,tt,t),m(this,Hn,i),m(this,wd,s),m(this,Fp,r),m(this,Lr,o),m(this,Op,l),this.lastPoint=[NaN,NaN],S(this,By,MP).call(this,l);const[c,u,d,h]=a(this,Wl);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/d,i[f+1]=(i[f+1]-u)/h}toSVGPath(){const t=[`M${a(this,tt)[4]} ${a(this,tt)[5]}`];for(let i=6,s=a(this,tt).length;i<s;i+=6){if(isNaN(a(this,tt)[i])){t.push(`L${a(this,tt)[i+4]} ${a(this,tt)[i+5]}`);continue}t.push(`C${a(this,tt)[i]} ${a(this,tt)[i+1]} ${a(this,tt)[i+2]} ${a(this,tt)[i+3]} ${a(this,tt)[i+4]} ${a(this,tt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],o){const l=s-t,c=r-i;let u,d;switch(o){case 0:u=Y._rescale(a(this,tt),t,r,l,-c),d=Y._rescale(a(this,Hn),t,r,l,-c);break;case 90:u=Y._rescaleAndSwap(a(this,tt),t,i,l,c),d=Y._rescaleAndSwap(a(this,Hn),t,i,l,c);break;case 180:u=Y._rescale(a(this,tt),s,i,-l,c),d=Y._rescale(a(this,Hn),s,i,-l,c);break;case 270:u=Y._rescaleAndSwap(a(this,tt),s,r,-l,-c),d=Y._rescaleAndSwap(a(this,Hn),s,r,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return a(this,Wl)}newOutliner(t,i,s,r,o,l=0){return new by(t,i,s,r,o,l)}getNewOutline(t,i){const[s,r,o,l]=a(this,Wl),[c,u,d,h]=a(this,wd),f=o*d,p=l*h,v=s*d+c,g=r*h+u,b=this.newOutliner({x:a(this,Hn)[0]*f+v,y:a(this,Hn)[1]*p+g},a(this,wd),a(this,Fp),t,a(this,Op),i??a(this,Lr));for(let y=2;y<a(this,Hn).length;y+=2)b.add({x:a(this,Hn)[y]*f+v,y:a(this,Hn)[y+1]*p+g});return b.getOutlines()}}wd=new WeakMap,Wl=new WeakMap,Lr=new WeakMap,Op=new WeakMap,Hn=new WeakMap,Fp=new WeakMap,tt=new WeakMap,By=new WeakSet,MP=function(t){const i=a(this,tt);let s=i[4],r=i[5];const o=[s,r,s,r];let l=s,c=r;const u=t?Math.max:Math.min;for(let h=6,f=i.length;h<f;h+=6){const p=i[h+4],v=i[h+5];if(isNaN(i[h]))J.pointBoundingBox(p,v,o),c<v?(l=p,c=v):c===v&&(l=u(l,p));else{const g=[1/0,1/0,-1/0,-1/0];J.bezierBoundingBox(s,r,...i.slice(h,h+6),g),J.rectBoundingBox(...g,o),c<g[3]?(l=g[2],c=g[3]):c===g[3]&&(l=u(l,g[2]))}s=p,r=v}const d=a(this,Wl);d[0]=o[0]-a(this,Lr),d[1]=o[1]-a(this,Lr),d[2]=o[2]-o[0]+2*a(this,Lr),d[3]=o[3]-o[1]+2*a(this,Lr),this.lastPoint=[l,c]};var jp,Bp,ia,Xi,hn,NP,Ag,DP,LP,bb;class wb{constructor(e,t=0,i=0,s=!0){A(this,hn);A(this,jp);A(this,Bp);A(this,ia,[]);A(this,Xi,[]);const r=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:v,y:g,width:b,height:y}of e){const w=Math.floor((v-t)/l)*l,x=Math.ceil((v+b+t)/l)*l,E=Math.floor((g-t)/l)*l,_=Math.ceil((g+y+t)/l)*l,T=[w,E,_,!0],k=[x,E,_,!1];a(this,ia).push(T,k),J.rectBoundingBox(w,E,x,_,r)}const c=r[2]-r[0]+2*i,u=r[3]-r[1]+2*i,d=r[0]-i,h=r[1]-i,f=a(this,ia).at(s?-1:-2),p=[f[0],f[2]];for(const v of a(this,ia)){const[g,b,y]=v;v[0]=(g-d)/c,v[1]=(b-h)/u,v[2]=(y-h)/u}m(this,jp,new Float32Array([d,h,c,u])),m(this,Bp,p)}getOutlines(){a(this,ia).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of a(this,ia))t[3]?(e.push(...S(this,hn,bb).call(this,t)),S(this,hn,DP).call(this,t)):(S(this,hn,LP).call(this,t),e.push(...S(this,hn,bb).call(this,t)));return S(this,hn,NP).call(this,e)}}jp=new WeakMap,Bp=new WeakMap,ia=new WeakMap,Xi=new WeakMap,hn=new WeakSet,NP=function(e){const t=[],i=new Set;for(const o of e){const[l,c,u]=o;t.push([l,c,o],[l,u,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[l,c,u,d,h]=o;i.delete(o);let f=l,p=c;for(r=[l,u],s.push(r);;){let v;if(i.has(d))v=d;else if(i.has(h))v=h;else break;i.delete(v),[l,c,u,d,h]=v,f!==l&&(r.push(f,p,l,p===c?c:u),f=l),p=p===c?u:c}r.push(f,p)}return new fB(s,a(this,jp),a(this,Bp))},Ag=function(e){const t=a(this,Xi);let i=0,s=t.length-1;for(;i<=s;){const r=i+s>>1,o=t[r][0];if(o===e)return r;o<e?i=r+1:s=r-1}return s+1},DP=function([,e,t]){const i=S(this,hn,Ag).call(this,e);a(this,Xi).splice(i,0,[e,t])},LP=function([,e,t]){const i=S(this,hn,Ag).call(this,e);for(let s=i;s<a(this,Xi).length;s++){const[r,o]=a(this,Xi)[s];if(r!==e)break;if(r===e&&o===t){a(this,Xi).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=a(this,Xi)[s];if(r!==e)break;if(r===e&&o===t){a(this,Xi).splice(s,1);return}}},bb=function(e){const[t,i,s]=e,r=[[t,i,s]],o=S(this,hn,Ag).call(this,s);for(let l=0;l<o;l++){const[c,u]=a(this,Xi)[l];for(let d=0,h=r.length;d<h;d++){const[,f,p]=r[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)r[d][1]=u;else{if(h===1)return[];r.splice(d,1),d--,h--}continue}r[d][2]=c,p>u&&r.push([t,u,p])}}}return r};var zp,bd;class fB extends Y{constructor(t,i,s){super();A(this,zp);A(this,bd);m(this,bd,t),m(this,zp,i),this.lastPoint=s}toSVGPath(){const t=[];for(const i of a(this,bd)){let[s,r]=i;t.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const l=i[o],c=i[o+1];l===s?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${l}`),s=l)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],o){const l=[],c=s-t,u=r-i;for(const d of a(this,bd)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=r-d[f+1]*u;l.push(h)}return l}get box(){return a(this,zp)}get classNamesForOutlining(){return["highlightOutline"]}}zp=new WeakMap,bd=new WeakMap;class xb extends by{newFreeDrawOutline(e,t,i,s,r,o){return new pB(e,t,i,s,r,o)}}class pB extends RP{newOutliner(e,t,i,s,r,o=0){return new xb(e,t,i,s,r,o)}}var xd,$p,Ir,Gl,Hp,bn,Up,Vp,Xl,yi,Un,Dt,Ad,Or,Yt,Sd,vi,Wp,le,Ab,Sg,IP,OP,FP,Sb,Wa,Ai,jc,jP,Eg,Rh,BP,zP,$P,HP,UP;const be=class be extends De{constructor(t){super({...t,name:"highlightEditor"});A(this,le);A(this,xd,null);A(this,$p,0);A(this,Ir);A(this,Gl,null);A(this,Hp,null);A(this,bn,null);A(this,Up,null);A(this,Vp,0);A(this,Xl,null);A(this,yi,null);A(this,Un,null);A(this,Dt,!1);A(this,Ad,null);A(this,Or);A(this,Yt,null);A(this,Sd,"");A(this,vi);A(this,Wp,"");this.color=t.color||be._defaultColor,m(this,vi,t.thickness||be._defaultThickness),m(this,Or,t.opacity||be._defaultOpacity),m(this,Ir,t.boxes||null),m(this,Wp,t.methodOfCreation||""),m(this,Sd,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(m(this,Dt,!0),S(this,le,Sg).call(this,t),S(this,le,Wa).call(this)):a(this,Ir)&&(m(this,xd,t.anchorNode),m(this,$p,t.anchorOffset),m(this,Up,t.focusNode),m(this,Vp,t.focusOffset),S(this,le,Ab).call(this),S(this,le,Wa).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=be.prototype;return he(this,"_keyboardManager",new om([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,Dt)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:a(this,vi),methodOfCreation:a(this,Wp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;De.initialize(t,i),be._defaultColor||(be._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case me.HIGHLIGHT_COLOR:be._defaultColor=i;break;case me.HIGHLIGHT_THICKNESS:be._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return a(this,Ad)}updateParams(t,i){switch(t){case me.HIGHLIGHT_COLOR:S(this,le,IP).call(this,i);break;case me.HIGHLIGHT_THICKNESS:S(this,le,OP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[me.HIGHLIGHT_COLOR,be._defaultColor],[me.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[me.HIGHLIGHT_COLOR,this.color||be._defaultColor],[me.HIGHLIGHT_THICKNESS,a(this,vi)||be._defaultThickness],[me.HIGHLIGHT_FREE,a(this,Dt)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",m(this,Hp,new yy({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,le,Rh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,S(this,le,Rh).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){S(this,le,Sb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,le,Wa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?S(this,le,Sb).call(this):t&&(S(this,le,Wa).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var r,o,l;const{drawLayer:i}=this.parent;let s;a(this,Dt)?(t=(t-this.rotation+360)%360,s=S(r=be,Ai,jc).call(r,a(this,yi).box,t)):s=S(o=be,Ai,jc).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(a(this,Un),{bbox:s,root:{"data-main-rotation":t}}),i.updateProperties(a(this,Yt),{bbox:S(l=be,Ai,jc).call(l,a(this,bn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,Sd)&&(t.setAttribute("aria-label",a(this,Sd)),t.setAttribute("role","mark")),a(this,Dt)?t.classList.add("free"):this.div.addEventListener("keydown",S(this,le,jP).bind(this),{signal:this._uiManager._signal});const i=m(this,Xl,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=a(this,Gl);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),ok(this,a(this,Xl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Yt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Yt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:S(this,le,Eg).call(this,!0);break;case 1:case 3:S(this,le,Eg).call(this,!1);break}}select(){var t;super.select(),a(this,Yt)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,Yt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,Yt)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,Yt),{rootClass:{selected:!1}}),a(this,Dt)||S(this,le,Eg).call(this,!1))}get _mustFixPosition(){return!a(this,Dt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,Un),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,Yt),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:s,x:r,y:o}){const{x:l,y:c,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=v=>{h.abort(),S(this,Ai,HP).call(this,t,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",at,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ki,{signal:f}),s.addEventListener("pointermove",S(this,Ai,$P).bind(this,t),{signal:f}),this._freeHighlight=new xb({x:r,y:o},[l,c,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,s){var g,b,y,w;let r=null;if(t instanceof yP){const{data:{quadPoints:x,rect:E,rotation:_,id:T,color:k,opacity:R,popupRef:M,contentsObj:N},parent:{page:{pageNumber:L}}}=t;r=t={annotationType:re.HIGHLIGHT,color:Array.from(k),opacity:R,quadPoints:x,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:_,annotationElementId:T,id:T,deleted:!1,popupRef:M,comment:(N==null?void 0:N.str)||null}}else if(t instanceof l1){const{data:{inkLists:x,rect:E,rotation:_,id:T,color:k,borderStyle:{rawWidth:R},popupRef:M,contentsObj:N},parent:{page:{pageNumber:L}}}=t;r=t={annotationType:re.HIGHLIGHT,color:Array.from(k),thickness:R,inkLists:x,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:_,annotationElementId:T,id:T,deleted:!1,popupRef:M,comment:(N==null?void 0:N.str)||null}}const{color:o,quadPoints:l,inkLists:c,opacity:u}=t,d=await super.deserialize(t,i,s);d.color=J.makeHexColor(...o),m(d,Or,u||1),c&&m(d,vi,t.thickness),d._initialData=r,t.comment&&d.setCommentData(t.comment);const[h,f]=d.pageDimensions,[p,v]=d.pageTranslation;if(l){const x=m(d,Ir,[]);for(let E=0;E<l.length;E+=8)x.push({x:(l[E]-p)/h,y:1-(l[E+1]-v)/f,width:(l[E+2]-l[E])/h,height:(l[E+1]-l[E+5])/f});S(g=d,le,Ab).call(g),S(b=d,le,Wa).call(b),d.rotate(d.rotation)}else if(c){m(d,Dt,!0);const x=c[0],E={x:x[0]-p,y:f-(x[1]-v)},_=new xb(E,[0,0,h,f],1,a(d,vi)/2,!0,.001);for(let R=0,M=x.length;R<M;R+=2)E.x=x[R]-p,E.y=f-(x[R+1]-v),_.add(E);const{id:T,clipPathId:k}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);S(y=d,le,Sg).call(y,{highlightOutlines:_.getOutlines(),highlightId:T,clipPathId:k}),S(w=d,le,Wa).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getPDFRect(),s=De._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:re.HIGHLIGHT,color:s,opacity:a(this,Or),thickness:a(this,vi),quadPoints:S(this,le,BP).call(this),outlines:S(this,le,zP).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:S(this,le,Rh).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!S(this,le,UP).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const i={rect:this.getPDFRect()};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}static canCreateNewEmptyEditor(){return!1}};xd=new WeakMap,$p=new WeakMap,Ir=new WeakMap,Gl=new WeakMap,Hp=new WeakMap,bn=new WeakMap,Up=new WeakMap,Vp=new WeakMap,Xl=new WeakMap,yi=new WeakMap,Un=new WeakMap,Dt=new WeakMap,Ad=new WeakMap,Or=new WeakMap,Yt=new WeakMap,Sd=new WeakMap,vi=new WeakMap,Wp=new WeakMap,le=new WeakSet,Ab=function(){const t=new wb(a(this,Ir),.001);m(this,yi,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,yi).box;const i=new wb(a(this,Ir),.0025,.001,this._uiManager.direction==="ltr");m(this,bn,i.getOutlines());const{lastPoint:s}=a(this,bn);m(this,Ad,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Sg=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var h,f;if(m(this,yi,t),m(this,bn,t.getNewOutline(a(this,vi)/2+1.5,.0025)),i>=0)m(this,Un,i),m(this,Gl,s),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),m(this,Yt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,bn).box,path:{d:a(this,bn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,Un),{bbox:S(h=be,Ai,jc).call(h,a(this,yi).box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,Yt),{bbox:S(f=be,Ai,jc).call(f,a(this,bn).box,p),path:{d:a(this,bn).toSVGPath()}})}const[o,l,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=u;break;case 90:{const[p,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*v/p,this.height=u*p/v;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[p,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*v/p,this.height=u*p/v;break}}const{lastPoint:d}=a(this,bn);m(this,Ad,[(d[0]-o)/c,(d[1]-l)/u])},IP=function(t){const i=(o,l)=>{var c,u;this.color=o,m(this,Or,l),(c=this.parent)==null||c.drawLayer.updateProperties(a(this,Un),{root:{fill:o,"fill-opacity":l}}),(u=a(this,Hp))==null||u.updateColor(o)},s=this.color,r=a(this,Or);this.addCommands({cmd:i.bind(this,t,be._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},OP=function(t){const i=a(this,vi),s=r=>{m(this,vi,r),S(this,le,FP).call(this,r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},FP=function(t){if(!a(this,Dt))return;S(this,le,Sg).call(this,{highlightOutlines:a(this,yi).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},Sb=function(){a(this,Un)===null||!this.parent||(this.parent.drawLayer.remove(a(this,Un)),m(this,Un,null),this.parent.drawLayer.remove(a(this,Yt)),m(this,Yt,null))},Wa=function(t=this.parent){a(this,Un)===null&&({id:Ke(this,Un)._,clipPathId:Ke(this,Gl)._}=t.drawLayer.draw({bbox:a(this,yi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":a(this,Or)},rootClass:{highlight:!0,free:a(this,Dt)},path:{d:a(this,yi).toSVGPath()}},!1,!0),m(this,Yt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,Dt)},bbox:a(this,bn).box,path:{d:a(this,bn).toSVGPath()}},a(this,Dt))),a(this,Xl)&&(a(this,Xl).style.clipPath=a(this,Gl)))},Ai=new WeakSet,jc=function([t,i,s,r],o){switch(o){case 90:return[1-i-r,t,r,s];case 180:return[1-t-s,1-i-r,s,r];case 270:return[i,1-t-s,r,s]}return[t,i,s,r]},jP=function(t){be._keyboardManager.exec(this,t)},Eg=function(t){if(!a(this,xd))return;const i=window.getSelection();t?i.setPosition(a(this,xd),a(this,$p)):i.setPosition(a(this,Up),a(this,Vp))},Rh=function(){return a(this,Dt)?this.rotation:0},BP=function(){if(a(this,Dt))return null;const[t,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=a(this,Ir),l=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+s,v=(1-d)*i+r;l[c]=l[c+4]=p,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=p+h*t,l[c+5]=l[c+7]=v-f*i,c+=8}return l},zP=function(t){return a(this,yi).serialize(t,S(this,le,Rh).call(this))},$P=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},HP=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},UP=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((s,r)=>s!==i[r])},A(be,Ai),$(be,"_defaultColor",null),$(be,"_defaultOpacity",1),$(be,"_defaultThickness",12),$(be,"_type","highlight"),$(be,"_editorType",re.HIGHLIGHT),$(be,"_freeHighlightId",-1),$(be,"_freeHighlight",null),$(be,"_freeHighlightClipId","");let xy=be;var ql;class VP{constructor(){A(this,ql,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){a(this,ql)[e]=t}toSVGProperties(){const e=a(this,ql);return m(this,ql,Object.create(null)),{root:e}}reset(){m(this,ql,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Me("Not implemented")}}ql=new WeakMap;var Vn,Ed,xt,Yl,Kl,sa,ra,oa,Ql,ye,Eb,Cb,_b,Mh,WP,Cg,Nh,Bc;const Z=class Z extends De{constructor(t){super(t);A(this,ye);A(this,Vn,null);A(this,Ed);$(this,"_colorPicker",null);$(this,"_drawId",null);m(this,Ed,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(S(this,ye,Eb).call(this,t),S(this,ye,Mh).call(this))}static _mergeSVGProperties(t,i){const s=new Set(Object.keys(t));for(const[r,o]of Object.entries(i))s.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Me("Not implemented")}static get typesMap(){Me("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(a(Z,xt).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)t.push([s,i[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)t.push([s,i[r]]);return t}_updateProperty(t,i,s){const r=this._drawingOptions,o=r[i],l=c=>{var d,h;r.updateProperty(i,c);const u=a(this,Vn).updateProperty(i,c);u&&S(this,ye,Nh).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&((h=this._colorPicker)==null||h.update(c))};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(a(this,Vn).getPathResizingSVGProperties(S(this,ye,Cg).call(this)),{bbox:S(this,ye,Bc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(a(this,Vn).getPathResizedSVGProperties(S(this,ye,Cg).call(this)),{bbox:S(this,ye,Bc).call(this)}))}_onTranslating(t,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:S(this,ye,Bc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties(a(this,Vn).getPathTranslatedSVGProperties(S(this,ye,Cg).call(this),this.parentDimensions),{bbox:S(this,ye,Bc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,Ed)&&(m(this,Ed,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){S(this,ye,_b).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,ye,Mh).call(this),S(this,ye,Nh).call(this,a(this,Vn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),S(this,ye,_b).call(this)):t&&(this._uiManager.addShouldRescale(this),S(this,ye,Mh).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Z._mergeSVGProperties({bbox:S(this,ye,Bc).call(this)},a(this,Vn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&S(this,ye,Nh).call(this,a(this,Vn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),s}static createDrawerInstance(t,i,s,r,o){Me("Not implemented")}static startDrawing(t,i,s,r){var b;const{target:o,offsetX:l,offsetY:c,pointerId:u,pointerType:d}=r;if(a(Z,ra)&&a(Z,ra)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),v=m(Z,Yl,new AbortController),g=t.combinedSignal(v);if(a(Z,sa)||m(Z,sa,u),a(Z,ra)??m(Z,ra,d),window.addEventListener("pointerup",y=>{var w;a(Z,sa)===y.pointerId?this._endDraw(y):(w=a(Z,oa))==null||w.delete(y.pointerId)},{signal:g}),window.addEventListener("pointercancel",y=>{var w;a(Z,sa)===y.pointerId?this._currentParent.endDrawingSession():(w=a(Z,oa))==null||w.delete(y.pointerId)},{signal:g}),window.addEventListener("pointerdown",y=>{a(Z,ra)===y.pointerType&&((a(Z,oa)||m(Z,oa,new Set)).add(y.pointerId),a(Z,xt).isCancellable()&&(a(Z,xt).removeLastElement(),a(Z,xt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ki,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",y=>{y.timeStamp===a(Z,Ql)&&at(y)},{signal:g}),t.toggleDrawing(),(b=i._editorUndoBar)==null||b.hide(),a(Z,xt)){t.drawLayer.updateProperties(this._currentDrawId,a(Z,xt).startNew(l,c,f,p,h));return}i.updateUIForDefaultProperties(this),m(Z,xt,this.createDrawerInstance(l,c,f,p,h)),m(Z,Kl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(Z,Kl).toSVGProperties(),a(Z,xt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(m(Z,Ql,-1),!a(Z,xt))return;const{offsetX:i,offsetY:s,pointerId:r}=t;if(a(Z,sa)===r){if(((o=a(Z,oa))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(Z,xt).add(i,s)),m(Z,Ql,t.timeStamp),at(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,m(Z,xt,null),m(Z,Kl,null),m(Z,ra,null),m(Z,Ql,NaN)),a(Z,Yl)&&(a(Z,Yl).abort(),m(Z,Yl,null),m(Z,sa,NaN),m(Z,oa,null))}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,a(Z,xt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=a(Z,xt),r=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:me.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(me.DRAW_STEP),!a(Z,xt).isEmpty()){const{pageDimensions:[s,r],scale:o}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(Z,xt).getOutlines(s*o,r*o,o,this._INNER_MARGIN),drawingOptions:a(Z,Kl),mustBeCommitted:!t});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,s,r,o,l){Me("Not implemented")}static async deserialize(t,i,s){var h,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}=i.viewport,u=this.deserializeDraw(l,c,r,o,this._INNER_MARGIN,t),d=await super.deserialize(t,i,s);return d.createDrawingOptions(t),S(h=d,ye,Eb).call(h,{drawOutlines:u}),S(f=d,ye,Mh).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,s]=this.pageTranslation,[r,o]=this.pageDimensions;return a(this,Vn).serialize([i,s,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Vn=new WeakMap,Ed=new WeakMap,xt=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,sa=new WeakMap,ra=new WeakMap,oa=new WeakMap,Ql=new WeakMap,ye=new WeakSet,Eb=function({drawOutlines:t,drawId:i,drawingOptions:s}){m(this,Vn,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=S(this,ye,Cb).call(this,t,this.parent),S(this,ye,Nh).call(this,t.box)},Cb=function(t,i){const{id:s}=i.drawLayer.draw(Z._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},_b=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Mh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=S(this,ye,Cb).call(this,a(this,Vn),t)}},WP=function([t,i,s,r]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[i,1-t,s*(l/o),r*(o/l)];case 180:return[1-t,1-i,s,r];case 270:return[1-i,t,s*(l/o),r*(o/l)];default:return[t,i,s,r]}},Cg=function(){const{x:t,y:i,width:s,height:r,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-i,t,s*(o/l),r*(l/o)];case 180:return[1-t,1-i,s,r];case 270:return[i,1-t,s*(o/l),r*(l/o)];default:return[t,i,s,r]}},Nh=function(t){if([this.x,this.y,this.width,this.height]=S(this,ye,WP).call(this,t),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},Bc=function(){const{x:t,y:i,width:s,height:r,rotation:o,parentRotation:l,parentDimensions:[c,u]}=this;switch((o*4+l)/90){case 1:return[1-i-r,t,r,s];case 2:return[1-t-s,1-i-r,s,r];case 3:return[i,1-t-s,r,s];case 4:return[t,i-s*(c/u),r*(u/c),s*(c/u)];case 5:return[1-i,t,s*(c/u),r*(u/c)];case 6:return[1-t-r*(u/c),1-i,r*(u/c),s*(c/u)];case 7:return[i-s*(c/u),1-t-r*(u/c),s*(c/u),r*(u/c)];case 8:return[t-s,i-r,s,r];case 9:return[1-i,t-s,r,s];case 10:return[1-t,1-i,s,r];case 11:return[i-r,1-t,r,s];case 12:return[t-r*(u/c),i,r*(u/c),s*(c/u)];case 13:return[1-i-s*(c/u),t-r*(u/c),s*(c/u),r*(u/c)];case 14:return[1-t,1-i-s*(c/u),r*(u/c),s*(c/u)];case 15:return[i,1-t,s*(c/u),r*(u/c)];default:return[t,i,s,r]}},$(Z,"_currentDrawId",-1),$(Z,"_currentParent",null),A(Z,xt,null),A(Z,Yl,null),A(Z,Kl,null),A(Z,sa,NaN),A(Z,ra,null),A(Z,oa,null),A(Z,Ql,NaN),$(Z,"_INNER_MARGIN",3);let Ay=Z;var Ms,At,St,Zl,Cd,nn,Lt,wi,Jl,ec,tc,_d,_g;class mB{constructor(e,t,i,s,r,o){A(this,_d);A(this,Ms,new Float64Array(6));A(this,At);A(this,St);A(this,Zl);A(this,Cd);A(this,nn);A(this,Lt,"");A(this,wi,0);A(this,Jl,new lm);A(this,ec);A(this,tc);m(this,ec,i),m(this,tc,s),m(this,Zl,r),m(this,Cd,o),[e,t]=S(this,_d,_g).call(this,e,t);const l=m(this,At,[NaN,NaN,NaN,NaN,e,t]);m(this,nn,[e,t]),m(this,St,[{line:l,points:a(this,nn)}]),a(this,Ms).set(l,0)}updateProperty(e,t){e==="stroke-width"&&m(this,Cd,t)}isEmpty(){return!a(this,St)||a(this,St).length===0}isCancellable(){return a(this,nn).length<=10}add(e,t){[e,t]=S(this,_d,_g).call(this,e,t);const[i,s,r,o]=a(this,Ms).subarray(2,6),l=e-r,c=t-o;return Math.hypot(a(this,ec)*l,a(this,tc)*c)<=2?null:(a(this,nn).push(e,t),isNaN(i)?(a(this,Ms).set([r,o,e,t],2),a(this,At).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,Ms)[0])&&a(this,At).splice(6,6),a(this,Ms).set([i,s,r,o,e,t],0),a(this,At).push(...Y.createBezierPoints(i,s,r,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(a(this,nn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,s,r){m(this,ec,i),m(this,tc,s),m(this,Zl,r),[e,t]=S(this,_d,_g).call(this,e,t);const o=m(this,At,[NaN,NaN,NaN,NaN,e,t]);m(this,nn,[e,t]);const l=a(this,St).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),a(this,St).push({line:o,points:a(this,nn)}),a(this,Ms).set(o,0),m(this,wi,0),this.toSVGPath(),null}getLastElement(){return a(this,St).at(-1)}setLastElement(e){return a(this,St)?(a(this,St).push(e),m(this,At,e.line),m(this,nn,e.points),m(this,wi,0),{path:{d:this.toSVGPath()}}):a(this,Jl).setLastElement(e)}removeLastElement(){if(!a(this,St))return a(this,Jl).removeLastElement();a(this,St).pop(),m(this,Lt,"");for(let e=0,t=a(this,St).length;e<t;e++){const{line:i,points:s}=a(this,St)[e];m(this,At,i),m(this,nn,s),m(this,wi,0),this.toSVGPath()}return{path:{d:a(this,Lt)}}}toSVGPath(){const e=Y.svgRound(a(this,At)[4]),t=Y.svgRound(a(this,At)[5]);if(a(this,nn).length===2)return m(this,Lt,`${a(this,Lt)} M ${e} ${t} Z`),a(this,Lt);if(a(this,nn).length<=6){const s=a(this,Lt).lastIndexOf("M");m(this,Lt,`${a(this,Lt).slice(0,s)} M ${e} ${t}`),m(this,wi,6)}if(a(this,nn).length===4){const s=Y.svgRound(a(this,At)[10]),r=Y.svgRound(a(this,At)[11]);return m(this,Lt,`${a(this,Lt)} L ${s} ${r}`),m(this,wi,12),a(this,Lt)}const i=[];a(this,wi)===0&&(i.push(`M ${e} ${t}`),m(this,wi,6));for(let s=a(this,wi),r=a(this,At).length;s<r;s+=6){const[o,l,c,u,d,h]=a(this,At).slice(s,s+6).map(Y.svgRound);i.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}return m(this,Lt,a(this,Lt)+i.join(" ")),m(this,wi,a(this,At).length),a(this,Lt)}getOutlines(e,t,i,s){const r=a(this,St).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),a(this,Jl).build(a(this,St),e,t,i,a(this,Zl),a(this,Cd),s),m(this,Ms,null),m(this,At,null),m(this,St,null),m(this,Lt,null),a(this,Jl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ms=new WeakMap,At=new WeakMap,St=new WeakMap,Zl=new WeakMap,Cd=new WeakMap,nn=new WeakMap,Lt=new WeakMap,wi=new WeakMap,Jl=new WeakMap,ec=new WeakMap,tc=new WeakMap,_d=new WeakSet,_g=function(e,t){return Y._normalizePoint(e,t,a(this,ec),a(this,tc),a(this,Zl))};var sn,Gp,Xp,Wn,Ns,Ds,Td,kd,nc,Ft,Zs,GP,XP,qP;class lm extends Y{constructor(){super(...arguments);A(this,Ft);A(this,sn);A(this,Gp,0);A(this,Xp);A(this,Wn);A(this,Ns);A(this,Ds);A(this,Td);A(this,kd);A(this,nc)}build(t,i,s,r,o,l,c){m(this,Ns,i),m(this,Ds,s),m(this,Td,r),m(this,kd,o),m(this,nc,l),m(this,Xp,c??0),m(this,Wn,t),S(this,Ft,XP).call(this)}get thickness(){return a(this,nc)}setLastElement(t){return a(this,Wn).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,Wn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of a(this,Wn)){if(t.push(`M${Y.svgRound(i[4])} ${Y.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Y.svgRound(i[10])} ${Y.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[o,l,c,u,d,h]=i.subarray(s,s+6).map(Y.svgRound);t.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,s,r],o){const l=[],c=[],[u,d,h,f]=S(this,Ft,GP).call(this);let p,v,g,b,y,w,x,E,_;switch(a(this,kd)){case 0:_=Y._rescale,p=t,v=i+r,g=s,b=-r,y=t+u*s,w=i+(1-d-f)*r,x=t+(u+h)*s,E=i+(1-d)*r;break;case 90:_=Y._rescaleAndSwap,p=t,v=i,g=s,b=r,y=t+d*s,w=i+u*r,x=t+(d+f)*s,E=i+(u+h)*r;break;case 180:_=Y._rescale,p=t+s,v=i,g=-s,b=r,y=t+(1-u-h)*s,w=i+d*r,x=t+(1-u)*s,E=i+(d+f)*r;break;case 270:_=Y._rescaleAndSwap,p=t+s,v=i+r,g=-s,b=-r,y=t+(1-d-f)*s,w=i+(1-u-h)*r,x=t+(1-d)*s,E=i+(1-u)*r;break}for(const{line:T,points:k}of a(this,Wn))l.push(_(T,p,v,g,b,o?new Array(T.length):null)),c.push(_(k,p,v,g,b,o?new Array(k.length):null));return{lines:l,points:c,rect:[y,w,x,E]}}static deserialize(t,i,s,r,o,{paths:{lines:l,points:c},rotation:u,thickness:d}){const h=[];let f,p,v,g,b;switch(u){case 0:b=Y._rescale,f=-t/s,p=i/r+1,v=1/s,g=-1/r;break;case 90:b=Y._rescaleAndSwap,f=-i/r,p=-t/s,v=1/r,g=1/s;break;case 180:b=Y._rescale,f=t/s+1,p=-i/r,v=-1/s,g=1/r;break;case 270:b=Y._rescaleAndSwap,f=i/r+1,p=t/s+1,v=-1/r,g=-1/s;break}if(!l){l=[];for(const w of c){const x=w.length;if(x===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(x-2));l.push(E);let[_,T,k,R]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,_,T],0);for(let M=4;M<x;M+=2){const N=w[M],L=w[M+1];E.set(Y.createBezierPoints(_,T,k,R,N,L),(M-2)*3),[_,T,k,R]=[k,R,N,L]}}}for(let w=0,x=l.length;w<x;w++)h.push({line:b(l[w].map(E=>E??NaN),f,p,v,g),points:b(c[w].map(E=>E??NaN),f,p,v,g)});const y=new this.prototype.constructor;return y.build(h,s,r,1,u,d,o),y}get box(){return a(this,sn)}updateProperty(t,i){return t==="stroke-width"?S(this,Ft,qP).call(this,i):null}updateParentDimensions([t,i],s){const[r,o]=S(this,Ft,Zs).call(this);m(this,Ns,t),m(this,Ds,i),m(this,Td,s);const[l,c]=S(this,Ft,Zs).call(this),u=l-r,d=c-o,h=a(this,sn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return m(this,Gp,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,sn).map(Y.svgRound).join(" ")}get defaultProperties(){const[t,i]=a(this,sn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=a(this,sn);let s=0,r=0,o=0,l=0,c=0,u=0;switch(a(this,Gp)){case 90:r=i/t,o=-t/i,c=t;break;case 180:s=-1,l=-1,c=t,u=i;break;case 270:r=-i/t,o=t/i,u=i;break;default:return""}return`matrix(${s} ${r} ${o} ${l} ${Y.svgRound(c)} ${Y.svgRound(u)})`}getPathResizingSVGProperties([t,i,s,r]){const[o,l]=S(this,Ft,Zs).call(this),[c,u,d,h]=a(this,sn);if(Math.abs(d-o)<=Y.PRECISION||Math.abs(h-l)<=Y.PRECISION){const b=t+s/2-(c+d/2),y=i+r/2-(u+h/2);return{path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:`${this.rotationTransform} translate(${b} ${y})`}}}const f=(s-2*o)/(d-2*o),p=(r-2*l)/(h-2*l),v=d/s,g=h/r;return{path:{"transform-origin":`${Y.svgRound(c)} ${Y.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${g}) translate(${Y.svgRound(o)} ${Y.svgRound(l)}) scale(${f} ${p}) translate(${Y.svgRound(-o)} ${Y.svgRound(-l)})`}}}getPathResizedSVGProperties([t,i,s,r]){const[o,l]=S(this,Ft,Zs).call(this),c=a(this,sn),[u,d,h,f]=c;if(c[0]=t,c[1]=i,c[2]=s,c[3]=r,Math.abs(h-o)<=Y.PRECISION||Math.abs(f-l)<=Y.PRECISION){const y=t+s/2-(u+h/2),w=i+r/2-(d+f/2);for(const{line:x,points:E}of a(this,Wn))Y._translate(x,y,w,x),Y._translate(E,y,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*o)/(h-2*o),v=(r-2*l)/(f-2*l),g=-p*(u+o)+t+o,b=-v*(d+l)+i+l;if(p!==1||v!==1||g!==0||b!==0)for(const{line:y,points:w}of a(this,Wn))Y._rescale(y,g,b,p,v,y),Y._rescale(w,g,b,p,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],s){const[r,o]=s,l=a(this,sn),c=t-l[0],u=i-l[1];if(a(this,Ns)===r&&a(this,Ds)===o)for(const{line:d,points:h}of a(this,Wn))Y._translate(d,c,u,d),Y._translate(h,c,u,h);else{const d=a(this,Ns)/r,h=a(this,Ds)/o;m(this,Ns,r),m(this,Ds,o);for(const{line:f,points:p}of a(this,Wn))Y._rescale(f,c,u,d,h,f),Y._rescale(p,c,u,d,h,p);l[2]*=d,l[3]*=h}return l[0]=t,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t)} ${Y.svgRound(i)}`}}}get defaultSVGProperties(){const t=a(this,sn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Y.svgRound(t[0])} ${Y.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}sn=new WeakMap,Gp=new WeakMap,Xp=new WeakMap,Wn=new WeakMap,Ns=new WeakMap,Ds=new WeakMap,Td=new WeakMap,kd=new WeakMap,nc=new WeakMap,Ft=new WeakSet,Zs=function(t=a(this,nc)){const i=a(this,Xp)+t/2*a(this,Td);return a(this,kd)%180===0?[i/a(this,Ns),i/a(this,Ds)]:[i/a(this,Ds),i/a(this,Ns)]},GP=function(){const[t,i,s,r]=a(this,sn),[o,l]=S(this,Ft,Zs).call(this,0);return[t+o,i+l,s-2*o,r-2*l]},XP=function(){const t=m(this,sn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of a(this,Wn)){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)J.pointBoundingBox(r[c],r[c+1],t);continue}let o=r[4],l=r[5];for(let c=6,u=r.length;c<u;c+=6){const[d,h,f,p,v,g]=r.subarray(c,c+6);J.bezierBoundingBox(o,l,d,h,f,p,v,g,t),o=v,l=g}}const[i,s]=S(this,Ft,Zs).call(this);t[0]=an(t[0]-i,0,1),t[1]=an(t[1]-s,0,1),t[2]=an(t[2]+i,0,1),t[3]=an(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},qP=function(t){const[i,s]=S(this,Ft,Zs).call(this);m(this,nc,t);const[r,o]=S(this,Ft,Zs).call(this),[l,c]=[r-i,o-s],u=a(this,sn);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u};class Sv extends VP{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Sv(this._viewParameters);return e.updateAll(this),e}}var zy,YP;const eu=class eu extends Ay{constructor(t){super({...t,name:"inkEditor"});A(this,zy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){De.initialize(t,i),this._defaultDrawingOptions=new Sv(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return he(this,"typesMap",new Map([[me.INK_THICKNESS,"stroke-width"],[me.INK_COLOR,"stroke"],[me.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,s,r,o){return new mB(t,i,s,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,s,r,o,l){return lm.deserialize(t,i,s,r,o,l)}static async deserialize(t,i,s){let r=null;if(t instanceof l1){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:v,contentsObj:g},parent:{page:{pageNumber:b}}}=t;r=t={annotationType:re.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:l},boxes:null,pageIndex:b-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:v,comment:(g==null?void 0:g.str)||null}}const o=await super.deserialize(t,i,s);return o._initialData=r,t.comment&&o.setCommentData(t.comment),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return me.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:s}){this._drawingOptions=eu.getDefaultDrawingOptions({stroke:J.makeHexColor(...t),"stroke-width":i,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":c}}=this,u={annotationType:re.INK,color:De._colorManager.convert(o),opacity:l,thickness:c,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!S(this,zy,YP).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1),r={rect:s,thickness:this._drawingOptions["stroke-width"],points:i};return this.hasEditedComment&&(r.popup=this.comment),t.updateEdited(r),null}};zy=new WeakSet,YP=function(t){const{color:i,thickness:s,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==i[c])||t.thickness!==s||t.opacity!==r||t.pageIndex!==o},$(eu,"_type","ink"),$(eu,"_editorType",re.INK),$(eu,"_defaultDrawingOptions",null);let Tb=eu;class kb extends lm{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const zm=8,uh=3;var ic,Ae,Pb,qi,KP,QP,Rb,Tg,ZP,JP,e2,Mb,Nb,t2;class Hr{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:s},r,o,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${i} ${s} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:b,fontBoundingBoxAscent:y,fontBoundingBoxDescent:w,width:x}=d.measureText(e),E=1.5,_=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,x)*E),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(b)||h,Math.abs(y)+Math.abs(w)||h)*E);u=new OffscreenCanvas(_,T),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,_,T),d.fillStyle="black",d.fillText(e,_*(E-1)/2,T*(3-E)/2);const k=S(this,Ae,Mb).call(this,d.getImageData(0,0,_,T).data),R=S(this,Ae,e2).call(this,k),M=S(this,Ae,Nb).call(this,R),N=S(this,Ae,Rb).call(this,k,_,T,M);return this.processDrawnLines({lines:{curves:N,width:_,height:T},pageWidth:r,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,i,s,r){const[o,l,c]=S(this,Ae,t2).call(this,e),[u,d]=S(this,Ae,JP).call(this,o,l,c,Math.hypot(l,c)*a(this,ic).sigmaSFactor,a(this,ic).sigmaR,a(this,ic).kernelSize),h=S(this,Ae,Nb).call(this,d),f=S(this,Ae,Rb).call(this,u,l,c,h);return this.processDrawnLines({lines:{curves:f,width:l,height:c},pageWidth:t,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:o,areContours:l}){s%180!==0&&([t,i]=[i,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,i/d),v=p/t,g=p/i,b=[];for(const{points:w}of c){const x=o?S(this,Ae,ZP).call(this,w):w;if(!x)continue;b.push(x);const E=x.length,_=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(f.push({line:T,points:_}),E===2){_[0]=x[0]*v,_[1]=x[1]*g,T.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[k,R,M,N]=x;k*=v,R*=g,M*=v,N*=g,_.set([k,R,M,N],0),T.set([NaN,NaN,NaN,NaN,k,R],0);for(let L=4;L<E;L+=2){const O=_[L]=x[L]*v,G=_[L+1]=x[L+1]*g;T.set(Y.createBezierPoints(k,R,M,N,O,G),(L-2)*3),[k,R,M,N]=[M,N,O,G]}}if(f.length===0)return null;const y=l?new kb:new lm;return y.build(f,t,i,1,s,l?0:h,r),{outline:y,newCurves:b,areContours:l,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:s,height:r}){let o=1/0,l=-1/0,c=0;for(const x of e){c+=x.length;for(let E=2,_=x.length;E<_;E++){const T=x[E]-x[E-2];o=Math.min(o,T),l=Math.max(l,T)}}let u;o>=-128&&l<=127?u=Int8Array:o>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=zm+uh*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=s,f[p++]=r,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(f);const b=u.prototype.constructor;for(const x of e){const E=new b(x.length-2);for(let _=2,T=x.length;_<T;_++)E[_-2]=x[_]-x[_-2];g.write(E)}g.close();const y=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(y);return ek(w)}static async decompressSignature(e){try{const t=FF(e),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,l=0;for await(const x of i)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,l),l+=x.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],v=c[6],g=c[7],b=[],y=(zm+uh*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,y);break}l=0;for(let x=0;x<v;x++){const E=c[uh*x+zm],_=new Float32Array(E+2);b.push(_);for(let T=0;T<uh-1;T++)_[T]=c[uh*x+zm+T+1];for(let T=0;T<E;T++)_[T+2]=_[T]+w[l++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(t){return oe(`decompressSignature: ${t}`),null}}}ic=new WeakMap,Ae=new WeakSet,Pb=function(e,t,i,s){return i-=e,s-=t,i===0?s>0?0:4:i===1?s+6:2-s},qi=new WeakMap,KP=function(e,t,i,s,r,o,l){const c=S(this,Ae,Pb).call(this,i,s,r,o);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,h=a(this,qi)[2*d],f=a(this,qi)[2*d+1];if(e[(i+h)*t+(s+f)]!==0)return d}return-1},QP=function(e,t,i,s,r,o,l){const c=S(this,Ae,Pb).call(this,i,s,r,o);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,h=a(this,qi)[2*d],f=a(this,qi)[2*d+1];if(e[(i+h)*t+(s+f)]!==0)return d}return-1},Rb=function(e,t,i,s){const r=e.length,o=new Int32Array(r);for(let d=0;d<r;d++)o[d]=e[d]<=s?1:0;for(let d=1;d<i-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*i-1-d]=0;let l=1,c;const u=[];for(let d=1;d<i-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let v=d,g=h;if(p===1&&o[f-1]===0)l+=1,g-=1;else if(p>=1&&o[f+1]===0)l+=1,g+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[h,d],y=g===h+1,w={isHole:y,points:b,id:l,parent:0};u.push(w);let x;for(const L of u)if(L.id===c){x=L;break}x?x.isHole?w.parent=y?x.parent:c:w.parent=y?c:x.parent:w.parent=y?c:0;const E=S(this,Ae,KP).call(this,o,t,d,h,v,g,0);if(E===-1){o[f]=-l,o[f]!==1&&(c=Math.abs(o[f]));continue}let _=a(this,qi)[2*E],T=a(this,qi)[2*E+1];const k=d+_,R=h+T;v=k,g=R;let M=d,N=h;for(;;){const L=S(this,Ae,QP).call(this,o,t,M,N,v,g,1);_=a(this,qi)[2*L],T=a(this,qi)[2*L+1];const O=M+_,G=N+T;b.push(G,O);const F=M*t+N;if(o[F+1]===0?o[F]=-l:o[F]===1&&(o[F]=l),O===d&&G===h&&M===k&&N===R){o[f]!==1&&(c=Math.abs(o[f]));break}else v=M,g=N,M=O,N=G}}}return u},Tg=function(e,t,i,s){if(i-t<=4){for(let k=t;k<i-2;k+=2)s.push(e[k],e[k+1]);return}const r=e[t],o=e[t+1],l=e[i-4]-r,c=e[i-3]-o,u=Math.hypot(l,c),d=l/u,h=c/u,f=d*o-h*r,p=c/l,v=1/u,g=Math.atan(p),b=Math.cos(g),y=Math.sin(g),w=v*(Math.abs(b)+Math.abs(y)),x=v*(1-w+w**2),E=Math.max(Math.atan(Math.abs(y+b)*x),Math.atan(Math.abs(y-b)*x));let _=0,T=t;for(let k=t+2;k<i-2;k+=2){const R=Math.abs(f-d*e[k+1]+h*e[k]);R>_&&(T=k,_=R)}_>(u*E)**2?(S(this,Ae,Tg).call(this,e,t,T+2,s),S(this,Ae,Tg).call(this,e,T,i,s)):s.push(r,o)},ZP=function(e){const t=[],i=e.length;return S(this,Ae,Tg).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},JP=function(e,t,i,s,r,o){const l=new Float32Array(o**2),c=-2*s**2,u=o>>1;for(let g=0;g<o;g++){const b=(g-u)**2;for(let y=0;y<o;y++)l[g*o+y]=Math.exp((b+(y-u)**2)/c)}const d=new Float32Array(256),h=-2*r**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/h);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let g=0;g<i;g++)for(let b=0;b<t;b++){const y=g*t+b,w=e[y];let x=0,E=0;for(let T=0;T<o;T++){const k=g+T-u;if(!(k<0||k>=i))for(let R=0;R<o;R++){const M=b+R-u;if(M<0||M>=t)continue;const N=e[k*t+M],L=l[T*o+R]*d[Math.abs(N-w)];x+=N*L,E+=L}}const _=p[y]=Math.round(x/E);v[_]++}return[p,v]},e2=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},Mb=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let s=-1/0,r=1/0;for(let l=0,c=i.length;l<c;l++){const u=i[l]=e[l<<2];s=Math.max(s,u),r=Math.min(r,u)}const o=255/(s-r);for(let l=0,c=i.length;l<c;l++)i[l]=(i[l]-r)*o;return i},Nb=function(e){let t,i=-1/0,s=-1/0;const r=e.findIndex(c=>c!==0);let o=r,l=r;for(t=r;t<256;t++){const c=e[t];c>i&&(t-o>s&&(s=t-o,l=t-1),i=c,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},t2=function(e){const t=e,{width:i,height:s}=e,{maxDim:r}=a(this,ic);let o=i,l=s;if(i>r||s>r){let f=i,p=s,v=Math.log2(Math.max(i,s)/r);const g=Math.floor(v);v=v===g?g-1:g;for(let y=0;y<v;y++){o=Math.ceil(f/2),l=Math.ceil(p/2);const w=new OffscreenCanvas(o,l);w.getContext("2d").drawImage(e,0,0,f,p,0,0,o,l),f=o,p=l,e!==t&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(r/o,r/l);o=Math.round(o*b),l=Math.round(l*b)}const u=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,l);const d=u.getImageData(0,0,o,l).data;return[S(this,Ae,Mb).call(this,d),o,l]},A(Hr,Ae),A(Hr,ic,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),A(Hr,qi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class c1 extends VP{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const e=new c1;return e.updateAll(this),e}}class u1 extends Sv{constructor(e){super(e),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const e=new u1(this._viewParameters);return e.updateAll(this),e}}var aa,Ls,la,sc;const Rn=class Rn extends Ay{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});A(this,aa,!1);A(this,Ls,null);A(this,la,null);A(this,sc,null);this._willKeepAspectRatio=!0,m(this,la,t.signatureData||null),m(this,Ls,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){De.initialize(t,i),this._defaultDrawingOptions=new c1,this._defaultDrawnSignatureOptions=new u1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return he(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,Ls)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(a(this,la)){const{lines:r,mustSmooth:o,areContours:l,description:c,uuid:u,heightInPage:d}=a(this,la),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,v=Hr.processDrawnLines({lines:r,pageWidth:h,pageHeight:f,rotation:p,innerMargin:Rn._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:a(this,Ls)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){m(this,sc,t),this.addEditToolbar()}getUuid(){return a(this,sc)}get description(){return a(this,Ls)}set description(t){m(this,Ls,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:s,width:r,height:o}=a(this,la),l=Math.max(r,o),c=Hr.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:s,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,s,r){const{x:o,y:l}=this,{outline:c}=m(this,la,t);m(this,aa,c instanceof kb),this.description=s;let u;a(this,aa)?u=Rn.getDefaultDrawingOptions():(u=Rn._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[d,h]=this.parentDimensions,[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(d*this.width,h*this.height),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Hr.process(t,i,s,r,Rn._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:o}=this.parent.viewport;return Hr.extractContoursFromText(t,i,s,r,o,Rn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Hr.processDrawnLines({lines:t,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Rn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Rn.getDefaultDrawingOptions():(this._drawingOptions=Rn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,l={annotationType:re.SIGNATURE,isSignature:!0,areContours:a(this,aa),color:[0,0,0],thickness:a(this,aa)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),t?(l.paths={lines:i,points:s},l.uuid=a(this,sc),l.isCopy=!0):l.lines=i,a(this,Ls)&&(l.accessibilityData={type:"Figure",alt:a(this,Ls)}),l}static deserializeDraw(t,i,s,r,o,l){return l.areContours?kb.deserialize(t,i,s,r,o,l):lm.deserialize(t,i,s,r,o,l)}static async deserialize(t,i,s){var o;const r=await super.deserialize(t,i,s);return m(r,aa,t.areContours),r.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",m(r,sc,t.uuid),r}};aa=new WeakMap,Ls=new WeakMap,la=new WeakMap,sc=new WeakMap,$(Rn,"_type","signature"),$(Rn,"_editorType",re.SIGNATURE),$(Rn,"_defaultDrawingOptions",null);let Db=Rn;var $e,Et,ca,Fr,ua,Pd,jr,rc,Is,Gn,Rd,ve,Dh,Lh,kg,Pg,Rg,Ib,Mg,n2;class Lb extends De{constructor(t){super({...t,name:"stampEditor"});A(this,ve);A(this,$e,null);A(this,Et,null);A(this,ca,null);A(this,Fr,null);A(this,ua,null);A(this,Pd,"");A(this,jr,null);A(this,rc,!1);A(this,Is,null);A(this,Gn,!1);A(this,Rd,!1);m(this,Fr,t.bitmapUrl),m(this,ua,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){De.initialize(t,i)}static isHandlingMimeForPasting(t){return _w.includes(t)}static paste(t,i){i.pasteEditor({mode:re.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;a(this,Et)&&(m(this,$e,null),this._uiManager.imageManager.deleteId(a(this,Et)),(t=a(this,jr))==null||t.remove(),m(this,jr,null),a(this,Is)&&(clearTimeout(a(this,Is)),m(this,Is,null))),super.remove()}rebuild(){if(!this.parent){a(this,Et)&&S(this,ve,kg).call(this);return}super.rebuild(),this.div!==null&&(a(this,Et)&&a(this,jr)===null&&S(this,ve,kg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,ca)||a(this,$e)||a(this,Fr)||a(this,ua)||a(this,Et)||a(this,rc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,rc)||(a(this,$e)?S(this,ve,Pg).call(this):S(this,ve,kg).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(m(this,Et,s),r&&m(this,$e,r),m(this,rc,!1),S(this,ve,Pg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,Is)!==null&&clearTimeout(a(this,Is)),m(this,Is,setTimeout(()=>{m(this,Is,null),S(this,ve,Ib).call(this)},200))}copyCanvas(t,i,s=!1){var p;t||(t=224);const{width:r,height:o}=a(this,$e),l=new Vs;let c=a(this,$e),u=r,d=o,h=null;if(i){if(r>i||o>i){const R=Math.min(i/r,i/o);u=Math.floor(r*R),d=Math.floor(o*R)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*l.sx),g=h.height=Math.ceil(d*l.sy);a(this,Gn)||(c=S(this,ve,Rg).call(this,v,g));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",w="#42414d");const x=15,E=x*l.sx,_=x*l.sy,T=new OffscreenCanvas(E*2,_*2),k=T.getContext("2d");k.fillStyle=y,k.fillRect(0,0,E*2,_*2),k.fillStyle=w,k.fillRect(0,0,E,_),k.fillRect(E,_,E,_),b.fillStyle=b.createPattern(T,"repeat"),b.fillRect(0,0,v,g),b.drawImage(c,0,0,c.width,c.height,0,0,v,g)}let f=null;if(s){let v,g;if(l.symmetric&&c.width<t&&c.height<t)v=c.width,g=c.height;else if(c=a(this,$e),r>t||o>t){const w=Math.min(t/r,t/o);v=Math.floor(r*w),g=Math.floor(o*w),a(this,Gn)||(c=S(this,ve,Rg).call(this,v,g))}const y=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,v,g),f={width:v,height:g,data:y.getImageData(0,0,v,g).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,i,s){var b;let r=null,o=!1;if(t instanceof vP){const{data:{rect:y,rotation:w,id:x,structParent:E,popupRef:_,contentsObj:T},container:k,parent:{page:{pageNumber:R}},canvas:M}=t;let N,L;M?(delete t.canvas,{id:N,bitmap:L}=s.imageManager.getFromCanvas(k.id,M),M.remove()):(o=!0,t._hasNoCanvas=!0);const O=((b=await i._structTree.getAriaAttributes(`${t1}${x}`))==null?void 0:b.get("aria-label"))||"";r=t={annotationType:re.STAMP,bitmapId:N,bitmap:L,pageIndex:R-1,rect:y.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:E,popupRef:_,comment:(T==null?void 0:T.str)||null}}const l=await super.deserialize(t,i,s),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(s.addMissingCanvas(t.id,l),m(l,rc,!0)):h&&s.imageManager.isValidId(h)?(m(l,Et,h),u&&m(l,$e,u)):m(l,Fr,d),m(l,Gn,f);const[v,g]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/g,p&&(l.altTextData=p),l._initialData=r,t.comment&&l.setCommentData(t.comment),m(l,Rd,!!r),l}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:re.STAMP,bitmapId:a(this,Et),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:a(this,Gn),structTreeParentId:this._structTreeParentId};if(this.addComment(s),t)return s.bitmapUrl=S(this,ve,Mg).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=S(this,ve,n2).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const l=a(this,Gn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(a(this,Et)))i.stamps.set(a(this,Et),{area:l,serialized:s}),s.bitmap=S(this,ve,Mg).call(this,!1);else if(a(this,Gn)){const c=i.stamps.get(a(this,Et));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=S(this,ve,Mg).call(this,!1))}return s}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const i={rect:this.getPDFRect()};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}}$e=new WeakMap,Et=new WeakMap,ca=new WeakMap,Fr=new WeakMap,ua=new WeakMap,Pd=new WeakMap,jr=new WeakMap,rc=new WeakMap,Is=new WeakMap,Gn=new WeakMap,Rd=new WeakMap,ve=new WeakSet,Dh=function(t,i=!1){if(!t){this.remove();return}m(this,$e,t.bitmap),i||(m(this,Et,t.id),m(this,Gn,t.isSvg)),t.file&&m(this,Pd,t.file.name),S(this,ve,Pg).call(this)},Lh=function(){if(m(this,ca,null),this._uiManager.enableWaiting(!1),!!a(this,jr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,$e)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,$e)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},kg=function(){if(a(this,Et)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Et)).then(s=>S(this,ve,Dh).call(this,s,!0)).finally(()=>S(this,ve,Lh).call(this));return}if(a(this,Fr)){const s=a(this,Fr);m(this,Fr,null),this._uiManager.enableWaiting(!0),m(this,ca,this._uiManager.imageManager.getFromUrl(s).then(r=>S(this,ve,Dh).call(this,r)).finally(()=>S(this,ve,Lh).call(this)));return}if(a(this,ua)){const s=a(this,ua);m(this,ua,null),this._uiManager.enableWaiting(!0),m(this,ca,this._uiManager.imageManager.getFromFile(s).then(r=>S(this,ve,Dh).call(this,r)).finally(()=>S(this,ve,Lh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=_w.join(",");const i=this._uiManager._signal;m(this,ca,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,ve,Dh).call(this,r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>S(this,ve,Lh).call(this))),t.click()},Pg=function(){var h;const{div:t}=this;let{width:i,height:s}=a(this,$e);const[r,o]=this.pageDimensions,l=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>l*r||s>l*o){const f=Math.min(l*r/i,l*o/s);i*=f,s*=f}const[c,u]=this.parentDimensions;this.setDims(i*c/r,s*u/o),this._uiManager.enableWaiting(!1);const d=m(this,jr,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=i/r,this.height=s/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),S(this,ve,Ib).call(this),a(this,Rd)||(this.parent.addUndoableEditor(this),m(this,Rd,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,Pd)&&this.div.setAttribute("aria-description",a(this,Pd)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Rg=function(t,i){const{width:s,height:r}=a(this,$e);let o=s,l=r,c=a(this,$e);for(;o>2*t||l>2*i;){const u=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,l),c=h.transferToImageBitmap()}return c},Ib=function(){const[t,i]=this.parentDimensions,{width:s,height:r}=this,o=new Vs,l=Math.ceil(s*t*o.sx),c=Math.ceil(r*i*o.sy),u=a(this,jr);if(!u||u.width===l&&u.height===c)return;u.width=l,u.height=c;const d=a(this,Gn)?a(this,$e):S(this,ve,Rg).call(this,l,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,l,c)},Mg=function(t){if(t){if(a(this,Gn)){const r=this._uiManager.imageManager.getSvgUrl(a(this,Et));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=a(this,$e),i.getContext("2d").drawImage(a(this,$e),0,0),i.toDataURL()}if(a(this,Gn)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*Da.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Da.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(a(this,$e),0,0,a(this,$e).width,a(this,$e).height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(a(this,$e))},n2=function(t){var l;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=t.pageIndex===i,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},$(Lb,"_type","stamp"),$(Lb,"_editorType",re.STAMP);var oc,Md,Os,da,Br,Xn,ha,Nd,ac,Yi,zr,Ct,$r,fa,Dd,ee,pa,He,i2,ds,Fb,jb,Ng;const Oi=class Oi{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:l,textLayer:c,viewport:u,l10n:d}){A(this,He);A(this,oc);A(this,Md,!1);A(this,Os,null);A(this,da,null);A(this,Br,null);A(this,Xn,new Map);A(this,ha,!1);A(this,Nd,!1);A(this,ac,!1);A(this,Yi,null);A(this,zr,null);A(this,Ct,null);A(this,$r,null);A(this,fa,null);A(this,Dd,-1);A(this,ee);const h=[...a(Oi,pa).values()];if(!Oi._initialized){Oi._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),m(this,ee,e),this.pageIndex=t,this.div=i,m(this,oc,r),m(this,Os,o),this.viewport=u,m(this,Ct,c),this.drawLayer=l,this._structTree=s,a(this,ee).addLayer(this)}get isEmpty(){return a(this,Xn).size===0}get isInvisible(){return this.isEmpty&&a(this,ee).getMode()===re.NONE}updateToolbar(e){a(this,ee).updateToolbar(e)}updateMode(e=a(this,ee).getMode()){switch(S(this,He,Ng).call(this),e){case re.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case re.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case re.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of a(Oi,pa).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Ct))==null?void 0:t.div)}setEditingState(e){a(this,ee).setEditingState(e)}addCommands(e){a(this,ee).addCommands(e)}cleanUndoStack(e){a(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,Os))==null||t.div.classList.toggle("disabled",!e)}async enable(){var i;m(this,ac,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=a(this,fa))==null||i.abort(),m(this,fa,null);const e=new Set;for(const s of a(this,Xn).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(a(this,ee).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!a(this,Os)){m(this,ac,!1);return}const t=a(this,Os).getEditableAnnotations();for(const s of t){if(s.hide(),a(this,ee).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}m(this,ac,!1)}disable(){var s;if(m(this,Nd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),a(this,Ct)&&!a(this,fa)){m(this,fa,new AbortController);const r=a(this,ee).combinedSignal(a(this,fa));a(this,Ct).div.addEventListener("pointerdown",o=>{const{clientX:c,clientY:u,timeStamp:d}=o,h=a(this,Dd);if(d-h>500){m(this,Dd,d);return}m(this,Dd,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,u);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let v;const g=new RegExp(`^${YT}[0-9]+$`);for(const y of p)if(g.test(y.id)){v=y.id;break}if(!v)return;const b=a(this,Xn).get(v);(b==null?void 0:b.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),b.dblclick())},{signal:r,capture:!0})}const e=new Map,t=new Map;for(const r of a(this,Xn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(a(this,Os)){const r=a(this,Os).getEditableAnnotations();for(const o of r){const{id:l}=o.data;if(a(this,ee).isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=t.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(l),c&&(a(this,ee).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}S(this,He,Ng).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of a(Oi,pa).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),m(this,Nd,!1)}getEditableAnnotation(e){var t;return((t=a(this,Os))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,ee).getActive()!==e&&a(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Ct))!=null&&e.div&&!a(this,$r)){m(this,$r,new AbortController);const t=a(this,ee).combinedSignal(a(this,$r));a(this,Ct).div.addEventListener("pointerdown",S(this,He,i2).bind(this),{signal:t}),a(this,Ct).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Ct))!=null&&e.div&&a(this,$r)&&(a(this,$r).abort(),m(this,$r,null),a(this,Ct).div.classList.remove("highlighting"))}enableClick(){if(a(this,da))return;m(this,da,new AbortController);const e=a(this,ee).combinedSignal(a(this,da));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,da))==null||e.abort(),m(this,da,null)}attach(e){a(this,Xn).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,ee).isDeletedAnnotationElement(t)&&a(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,Xn).delete(e.id),(t=a(this,oc))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,Nd)&&e.annotationElementId&&a(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,ee).addDeletedAnnotationElement(e.annotationElementId),De.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,ac)),a(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,Br)&&(e._focusEventsAllowed=!1,m(this,Br,setTimeout(()=>{m(this,Br,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(i=a(this,oc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return a(this,ee).getId()}combinedSignal(e){return a(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,He,ds))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,ee).updateMode(e.mode);const{offsetX:i,offsetY:s}=S(this,He,jb).call(this),r=this.getNextId(),o=S(this,He,Fb).call(this,{parent:this,id:r,x:i,y:s,uiManager:a(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=a(Oi,pa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,ee)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),r=S(this,He,Fb).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:a(this,ee),isCentered:t,...i});return r&&this.add(r),r}addNewEditor(e={}){this.createAndAddNewEditor(S(this,He,jb).call(this),!0,e)}setSelected(e){a(this,ee).setSelected(e)}toggleSelected(e){a(this,ee).toggleSelected(e)}unselect(e){a(this,ee).unselect(e)}pointerup(e){var s;const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,ha)||(m(this,ha,!1),(s=a(this,He,ds))!=null&&s.isDrawer&&a(this,He,ds).supportMultipleDrawings))return;if(!a(this,Md)){m(this,Md,!0);return}const i=a(this,ee).getMode();if(i===re.STAMP||i===re.SIGNATURE){a(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(a(this,ee).getMode()===re.HIGHLIGHT&&this.enableTextSelection(),a(this,ha)){m(this,ha,!1);return}const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(m(this,ha,!0),(s=a(this,He,ds))!=null&&s.isDrawer){this.startDrawingSession(e);return}const i=a(this,ee).getActive();m(this,Md,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,Yi)){a(this,He,ds).startDrawing(this,a(this,ee),!1,e);return}a(this,ee).setCurrentDrawingSession(this),m(this,Yi,new AbortController);const t=a(this,ee).combinedSignal(a(this,Yi));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(m(this,zr,null),this.commitOrRemove())},{signal:t}),a(this,He,ds).startDrawing(this,a(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&m(this,zr,t);return}a(this,zr)&&setTimeout(()=>{var t;(t=a(this,zr))==null||t.focus(),m(this,zr,null)},0)}endDrawingSession(e=!1){return a(this,Yi)?(a(this,ee).setCurrentDrawingSession(null),a(this,Yi).abort(),m(this,Yi,null),m(this,zr,null),a(this,He,ds).endDrawing(e)):null}findNewParent(e,t,i){const s=a(this,ee).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return a(this,Yi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,Yi)&&a(this,He,ds).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,ee).getActive())==null?void 0:e.parent)===this&&(a(this,ee).commitOrRemove(),a(this,ee).setActiveEditor(null)),a(this,Br)&&(clearTimeout(a(this,Br)),m(this,Br,null));for(const i of a(this,Xn).values())(t=a(this,oc))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,a(this,Xn).clear(),a(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,yc(this.div,e);for(const t of a(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,ee).commitOrRemove(),S(this,He,Ng).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,yc(this.div,{rotation:i}),t!==i)for(const s of a(this,Xn).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,ee).viewParameters.realScale}};oc=new WeakMap,Md=new WeakMap,Os=new WeakMap,da=new WeakMap,Br=new WeakMap,Xn=new WeakMap,ha=new WeakMap,Nd=new WeakMap,ac=new WeakMap,Yi=new WeakMap,zr=new WeakMap,Ct=new WeakMap,$r=new WeakMap,fa=new WeakMap,Dd=new WeakMap,ee=new WeakMap,pa=new WeakMap,He=new WeakSet,i2=function(e){a(this,ee).unselectAll();const{target:t}=e;if(t===a(this,Ct).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Ct).div.contains(t)){const{isMac:i}=zt.platform;if(e.button!==0||e.ctrlKey&&i)return;a(this,ee).showAllEditors("highlight",!0,!0),a(this,Ct).div.classList.add("free"),this.toggleDrawing(),xy.startHighlighting(this,a(this,ee).direction==="ltr",{target:a(this,Ct).div,x:e.x,y:e.y}),a(this,Ct).div.addEventListener("pointerup",()=>{a(this,Ct).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,ee)._signal}),e.preventDefault()}},ds=function(){return a(Oi,pa).get(a(this,ee).getMode())},Fb=function(e){const t=a(this,He,ds);return t?new t.prototype.constructor(e):null},jb=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+s),u=(r+l)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Ng=function(){for(const e of a(this,Xn).values())e.isEmpty()&&e.remove()},$(Oi,"_initialized",!1),A(Oi,pa,new Map([yb,Tb,Lb,xy,Db].map(e=>[e._editorType,e])));let Ob=Oi;var Ki,rn,lc,qp,$y,s2,Ws,zb,r2,$b;const ht=class ht{constructor({pageIndex:e}){A(this,Ws);A(this,Ki,null);A(this,rn,new Map);A(this,lc,new Map);this.pageIndex=e}setParent(e){if(!a(this,Ki)){m(this,Ki,e);return}if(a(this,Ki)!==e){if(a(this,rn).size>0)for(const t of a(this,rn).values())t.remove(),e.append(t);m(this,Ki,e)}}static get _svgFactory(){return he(this,"_svgFactory",new wy)}draw(e,t=!1,i=!1){const s=Ke(ht,qp)._++,r=S(this,Ws,zb).call(this),o=ht._svgFactory.createElement("defs");r.append(o);const l=ht._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,lc).set(s,l);const u=i?S(this,Ws,r2).call(this,o,c):null,d=ht._svgFactory.createElement("use");return r.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(r,e),a(this,rn).set(s,r),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=Ke(ht,qp)._++,s=S(this,Ws,zb).call(this),r=ht._svgFactory.createElement("defs");s.append(r);const o=ht._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=ht._svgFactory.createElement("mask");r.append(h),c=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=ht._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ht._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${l}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=ht._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return s.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),a(this,rn).set(i,s),i}finalizeDraw(e,t){a(this,lc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:s,rootClass:r,path:o}=t,l=typeof e=="number"?a(this,rn).get(e):e;if(l){if(i&&S(this,Ws,$b).call(this,l,i),s&&S(c=ht,$y,s2).call(c,l,s),r){const{classList:u}=l;for(const[d,h]of Object.entries(r))u.toggle(d,h)}if(o){const d=l.firstChild.firstChild;S(this,Ws,$b).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const i=a(this,rn).get(e);i&&(a(t,Ki).append(i),a(this,rn).delete(e),a(t,rn).set(e,i))}remove(e){a(this,lc).delete(e),a(this,Ki)!==null&&(a(this,rn).get(e).remove(),a(this,rn).delete(e))}destroy(){m(this,Ki,null);for(const e of a(this,rn).values())e.remove();a(this,rn).clear(),a(this,lc).clear()}};Ki=new WeakMap,rn=new WeakMap,lc=new WeakMap,qp=new WeakMap,$y=new WeakSet,s2=function(e,[t,i,s,r]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},Ws=new WeakSet,zb=function(){const e=ht._svgFactory.create(1,1,!0);return a(this,Ki).append(e),e.setAttribute("aria-hidden",!0),e},r2=function(e,t){const i=ht._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=ht._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),s},$b=function(e,t){for(const[i,s]of Object.entries(t))s===null?e.removeAttribute(i):e.setAttribute(i,s)},A(ht,$y),A(ht,qp,0);let Bb=ht;globalThis._pdfjsTestingUtils={HighlightOutliner:wb};globalThis.pdfjsLib={AbortException:Na,AnnotationEditorLayer:Ob,AnnotationEditorParamsType:me,AnnotationEditorType:re,AnnotationEditorUIManager:vc,AnnotationLayer:pb,AnnotationMode:yo,AnnotationType:ot,build:Xj,ColorPicker:yy,createValidAbsoluteUrl:KT,DOMSVGFactory:wy,DrawLayer:Bb,FeatureTest:zt,fetchData:sm,getDocument:Jk,getFilenameFromUrl:jF,getPdfFilenameFromUrl:BF,getRGB:xv,getUuid:JT,getXfaPageViewport:$F,GlobalWorkerOptions:js,ImageKind:ig,InvalidPDFException:Ew,isDataScheme:bv,isPdfFile:i1,isValidExplicitDest:ZF,MathClamp:an,noContextMenu:ki,normalizeUnicode:IF,OPS:ff,OutputScale:Vs,PasswordResponses:_F,PDFDataRangeTransport:eP,PDFDateString:fy,PDFWorker:gf,PermissionFlag:CF,PixelsPerInch:Da,RenderingCancelledException:n1,ResponseException:hy,setLayerDimensions:yc,shadow:he,SignatureExtractor:Hr,stopEvent:at,SupportedImageMimeTypes:_w,TextLayer:pf,TouchManager:my,updateUrlHash:QT,Util:J,VerbosityLevel:yv,version:Gj,XfaLayer:sP};js.workerSrc=new URL("/0x2nac0nda/assets/pdf.worker.min-r-TJsTTt.mjs",import.meta.url).toString();const gB=({file:n})=>{const e=P.useRef(null);return P.useEffect(()=>{(async()=>{const r=await(await Jk(n).promise).getPage(1),o=r.getViewport({scale:1.2}),l=document.createElement("canvas"),c=l.getContext("2d");l.height=o.height,l.width=o.width,e.current.innerHTML="",e.current.appendChild(l),r.render({canvasContext:c,canvas:l,viewport:o})})()},[n]),C.jsx("div",{ref:e,onContextMenu:t=>t.preventDefault(),className:"select-none overflow-auto",style:{width:"100%",height:"80vh"}})},yB=[{title:"OffSec Web Expert",short:"OSWE",issuer:"Offensive Security",year:"2023",id:"WEB-300",url:"/0x2nac0nda/certificates/OSWE.pdf",icon:"",description:"Completed WEB-300 (Advanced Web Attacks and Exploitation), demonstrating deep expertise in identifying and exploiting complex web application vulnerabilities."},{title:"Web Application Penetration Testing Extreme",short:"eWPTX",issuer:"eLearnSecurity (INE)",year:"2022",id:"",url:"/0x2nac0nda/certificates/eWPTXv2 Certification - eLearnSecurity Web Application Penetration Tester eXtreme v2.pdf",icon:"",description:"Earned the eWPTX certification, validating advanced skills in web application penetration testing and exploitation techniques."},{title:"eLearnSecurity Mobile Application Penetration Tester",short:"eMAPT",issuer:"eLearnSecurity (INE)",year:"2022",id:"",url:"/0x2nac0nda/certificates/eMAPT Certification - eLearnSecurity Mobile Application Penetration Tester.pdf",icon:"",description:"Completed eMAPT, demonstrating expertise in mobile application security assessments for Android and iOS platforms."},{title:"Hack The Box: Dante",short:"HTB Dante",issuer:"Hack The Box",year:"2022",id:"",url:"/0x2nac0nda/certificates/Dante.pdf",icon:"",description:"Solved the HTB Dante challenge  a complex lab emphasizing lateral movement, pivoting, and realistic enterprise red team scenarios."},{title:"Hack The Box: Zephyr",short:"HTB Zephyr",issuer:"Hack The Box",year:"2023",id:"",url:"/0x2nac0nda/certificates/Zephyr.pdf",icon:"",description:"Completed HTB Zephyr  focused on Active Directory exploitation, post-exploitation techniques, and privilege escalation in complex environments."},{title:"Hack The Box: Rastalabs",short:"HTB Rastalabs",issuer:"Hack The Box",year:"2023",id:"",url:"/0x2nac0nda/certificates/RastaLabs.pdf",icon:"",description:"Completed HTB Rastalabs  an advanced lab covering persistence, stealthy operations, and domain-wide compromise in Windows networks."},{title:"Hack The Box: Offshore",short:"HTB Offshore",issuer:"Hack The Box",year:"2024",id:"",url:"/0x2nac0nda/certificates/Offshore.pdf",icon:"",description:"Completed HTB Offshore  simulating segmented enterprise networks with VPN, web exploitation, and complex AD pivoting scenarios."},{title:"Hack The Box: Cybernetics",short:"HTB Cybernetics",issuer:"Hack The Box",year:"2024",id:"",url:"/0x2nac0nda/certificates/Cybernetics.pdf",icon:"",description:"Completed HTB Cybernetics  advanced network exploitation and red team tactics across hybrid cloud and on-prem infrastructures."}],vB=()=>{const[n,e]=P.useState(null);return C.jsx("section",{id:"certificates",className:"py-20 bg-background",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Certifications"}),C.jsx("div",{className:"section-divider"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:yB.map((t,i)=>C.jsxs("div",{className:"glow-card group animate-fade-in-up",style:{animationDelay:`${i*.1}s`},children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsx("div",{className:"text-4xl",children:t.icon}),C.jsx(WN,{className:"w-5 h-5 text-primary"})]}),C.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors",children:t.short}),C.jsx("p",{className:"text-sm text-foreground/70 mb-4",children:t.title}),C.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground mb-4",children:[C.jsx("p",{children:t.issuer}),C.jsx("p",{className:"mono text-primary",children:t.year}),C.jsx("p",{className:"mono text-xs",children:t.id}),C.jsx("p",{className:"text-justify text-foreground/80",children:t.description})]}),C.jsxs(eo,{variant:"outline",size:"sm",className:"w-full group-hover:border-primary group-hover:text-primary",onClick:()=>e(t.url),children:["Preview",C.jsx(KN,{className:"ml-2 h-3 w-3"})]})]},i))}),n&&C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white w-11/12 h-5/6 rounded-2xl overflow-hidden shadow-xl relative",children:[C.jsx("button",{onClick:()=>e(null),className:"absolute top-3 right-3 text-gray-600 hover:text-black",children:""}),C.jsx("div",{onContextMenu:t=>t.preventDefault(),children:C.jsx(gB,{file:`${n}`})})]})})]})})})},wB=[{name:"Black Hat MEA CTF",year:"2022",rank:"63rd Place",team:"0x2nac0nda",points:null,writeupUrl:"#",description:"Competed against 250 teams from over 35 countries in Riyadh, Saudi Arabia."},{name:"Sudan National Cybersecurity Competition",year:"2021",rank:"2nd Place",team:"0x2nac0nda",points:null,writeupUrl:"#",description:"Organized by Trend Micro and Cybertalents."},{name:"Sudan National Cybersecurity Competition",year:"2020",rank:"3rd Place",team:"0x2nac0nda",points:null,writeupUrl:"#",description:"Organized by Trend Micro and Cybertalents."}],bB=()=>C.jsx("section",{id:"ctf",className:"py-20 bg-muted/20",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"CTF Competitions & Rankings"}),C.jsx("div",{className:"section-divider"})]}),C.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:C.jsx("div",{className:"lg:col-span-3 space-y-6",children:wB.map((n,e)=>C.jsx("div",{className:"glow-card animate-slide-in-right",style:{animationDelay:`${e*.1}s`},children:C.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx(tD,{className:"w-5 h-5 text-accent"}),C.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n.name})]}),C.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[C.jsx("span",{className:"flex items-center gap-1",children:C.jsx("span",{className:"text-primary mono",children:n.year})}),C.jsx("span",{children:""}),C.jsxs("span",{className:"flex items-center gap-1",children:["Rank:"," ",C.jsx("span",{className:"text-primary font-semibold",children:n.rank})]})]}),C.jsx("p",{className:"mt-4 text-foreground/80",children:n.description})]})})},e))})})]})})}),xB=[{title:"OSWE-Preparation-Tudo",description:"This is an intentionally vulnerable web application. There are 3 steps to complete the challenge and multiple ways to complete each step.",tech:["Python","Deserialization","File Upload","SSTI"],githubUrl:"https://github.com/abdallaabdalrhman/OSWE-Preparation-Tudo",writeupUrl:"#",stars:245},{title:"Blind SQL injection with conditional responses",description:"TThe results of the SQL query are not returned, and no error messages are displayed. But the application includes a Welcome back message in the page if the query returns any rows.",tech:["Burp","SQL Injection","Blind SQL injection"],githubUrl:"https://medium.com/@0x2nac0nda/blind-sql-injection-with-conditional-responses-d548b6c01181",writeupUrl:"#",stars:245},{title:"Forensic Challenge at BlackHat MEA Qualification",description:"My work PC has suddenly crashed. I can no longer retrieve my secret file, also I dont remember the password. It is a hard password and securely generated, but i saved it locally. Can you help me recover the content?",tech:["Volatility","Digital forensics","Memory Forensics"],githubUrl:"https://medium.com/@0x2nac0nda/forensic-challenge-at-blackhat-mea-qualification-7f01d23ba74b",writeupUrl:"#",stars:245},{title:"First Bug in Bugcrowd Using Github Dork",description:"Exposed API keys and secrets in public GitHub repository discovered via GitHub dork - User names , Passwords , Emails , Token , Secret key , backup file , and More",tech:["GitHub","Sensitive Information","Github dorks"],githubUrl:"https://medium.com/@0x2nac0nda/first-bug-in-bugcrowd-using-github-dork-ef8c42944c26",writeupUrl:"#",stars:245}],AB=()=>C.jsx("section",{id:"projects",className:"py-20 bg-muted/20",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Projects & Writeups"}),C.jsx("div",{className:"section-divider"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xB.map((n,e)=>C.jsxs("div",{className:"glow-card group animate-fade-in-up",style:{animationDelay:`${e*.1}s`},children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsx(XN,{className:"w-6 h-6 text-primary"}),C.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[C.jsx(sy,{className:"w-4 h-4"}),C.jsx("span",{className:"mono",children:n.stars})]})]}),C.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3 group-hover:text-primary transition-colors",children:n.title}),C.jsx("p",{className:"text-foreground/80 text-sm mb-4 leading-relaxed",children:n.description}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.tech.map((t,i)=>C.jsx("span",{className:"tech-badge text-xs",children:t},i))}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[C.jsx(eo,{variant:"outline",size:"sm",className:"flex-1 group-hover:border-primary group-hover:text-primary",asChild:!0,children:C.jsxs("a",{href:n.githubUrl,target:"_blank",rel:"noopener noreferrer",children:[C.jsx(sy,{className:"mr-2 h-4 w-4"}),"GitHub"]})}),C.jsx(eo,{variant:"outline",size:"sm",className:"flex-1 group-hover:border-primary group-hover:text-primary",asChild:!0,children:C.jsxs("a",{href:n.writeupUrl,target:"_blank",rel:"noopener noreferrer",children:[C.jsx(QN,{className:"mr-2 h-4 w-4"}),"Writeup"]})})]})]},e))})]})})}),Hb=P.forwardRef(({className:n,type:e,...t},i)=>C.jsx("input",{type:e,className:Gs("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));Hb.displayName="Input";const o2=P.forwardRef(({className:n,...e},t)=>C.jsx("textarea",{className:Gs("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));o2.displayName="Textarea";const SB=()=>{const[n,e]=P.useState({name:"",email:"",message:""}),[t,i]=P.useState(!1),{toast:s}=d_(),r=async l=>{l.preventDefault(),i(!0),await new Promise(c=>setTimeout(c,1e3)),s({title:"Message Sent!",description:"Thank you for reaching out. I'll get back to you soon."}),e({name:"",email:"",message:""}),i(!1)},o=l=>{e({...n,[l.target.name]:l.target.value})};return C.jsx("section",{id:"contact",className:"py-20 bg-background",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[C.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Get In Touch"}),C.jsx("div",{className:"section-divider"}),C.jsx("p",{className:"text-muted-foreground mt-4",children:"Open for consulting opportunities, training engagements, and collaborations"})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx("div",{className:"lg:col-span-1 space-y-6",children:C.jsxs("div",{className:"glow-card animate-fade-in-up",children:[C.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:"Contact Information"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("a",{href:"mailto:abdallaabdalrhman629@gmail.com",className:"flex items-start gap-3 text-foreground/80 hover:text-primary transition-colors group",children:[C.jsx(U_,{className:"w-5 h-5 text-primary mt-0.5 group-hover:scale-110 transition-transform"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),C.jsx("p",{className:"text-sm break-all",children:"abdallaabdalrhman629@gmail.com"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 text-foreground/80",children:[C.jsx(eD,{className:"w-5 h-5 text-primary mt-0.5"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),C.jsx("p",{className:"text-sm",children:"Riyadh, Saudi Arabia"})]})]})]}),C.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[C.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect"}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("a",{href:"https://linkedin.com/in/0x2nac0nda",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"LinkedIn",children:C.jsx(H_,{size:24})}),C.jsx("a",{href:"https://github.com/abdallaabdalrhman",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"GitHub",children:C.jsx(sy,{size:24})}),C.jsx("a",{href:"https://twitter.com/0x2nac0nda",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Twitter/X",children:C.jsx(W_,{size:24})})]})]})]})}),C.jsx("div",{className:"lg:col-span-2",children:C.jsx("div",{className:"glow-card animate-fade-in-up",style:{animationDelay:"0.1s"},children:C.jsxs("form",{onSubmit:r,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Name"}),C.jsx(Hb,{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:o,className:"bg-muted/50 border-border focus:border-primary",placeholder:"Your name"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),C.jsx(Hb,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:o,className:"bg-muted/50 border-border focus:border-primary",placeholder:"your.email@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),C.jsx(o2,{id:"message",name:"message",required:!0,value:n.message,onChange:o,rows:6,className:"bg-muted/50 border-border focus:border-primary resize-none",placeholder:"Tell me about your project or inquiry..."})]}),C.jsx(eo,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:t,children:t?"Sending...":C.jsxs(C.Fragment,{children:[C.jsx(iD,{className:"mr-2 h-5 w-5"}),"Send Message"]})}),C.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" No spam. Data stored client-side or sent only to email."})]})})})]})]})})})},EB=()=>{const n=new Date().getFullYear();return C.jsx("footer",{className:"py-12 bg-muted/20 border-t border-primary/20",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsx("div",{className:"max-w-6xl mx-auto",children:C.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(V_,{className:"w-5 h-5 text-primary"}),C.jsx("span",{className:"mono text-lg font-bold text-primary",children:"0x2nac0nda"})]}),C.jsx("div",{className:"text-center",children:C.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",n," Abdalla Abdelrhman Mubarak. All rights reserved."]})}),C.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[C.jsx("a",{href:"#hero",className:"neon-link hover:text-primary",children:"Top"}),C.jsx("span",{children:""}),C.jsx("a",{href:"#about",className:"neon-link hover:text-primary",children:"About"}),C.jsx("span",{children:""}),C.jsx("a",{href:"#contact",className:"neon-link hover:text-primary",children:"Contact"})]})]})})})})},BS=()=>C.jsxs("div",{className:"min-h-screen bg-background",children:[C.jsx(yF,{}),C.jsx(wF,{}),C.jsx(bF,{}),C.jsx(AF,{}),C.jsx(EF,{}),C.jsx(vB,{}),C.jsx(bB,{}),C.jsx(AB,{}),C.jsx(SB,{}),C.jsx(EB,{})]}),CB=()=>{const n=qT();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),C.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background matrix-bg",children:C.jsxs("div",{className:"text-center max-w-md mx-auto px-4 animate-fade-in-up",children:[C.jsx(V_,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-glow-pulse"}),C.jsx("h1",{className:"mono text-6xl font-bold text-primary mb-4",children:"404"}),C.jsx("p",{className:"text-xl text-foreground mb-2",children:"Page Not Found"}),C.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),C.jsx(eo,{variant:"hero",asChild:!0,children:C.jsx("a",{href:"/",children:"Return to Home"})})]})})},_B=new kO,TB=()=>C.jsx(RO,{client:_B,children:C.jsxs(sO,{children:[C.jsx($D,{}),C.jsx(wL,{}),C.jsx(mF,{basename:"/0x2nac0nda",children:C.jsxs(hF,{children:[C.jsx(ng,{path:"/",element:C.jsx(BS,{})}),C.jsx(ng,{path:"/0x2nac0nda",element:C.jsx(BS,{})}),C.jsx(ng,{path:"*",element:C.jsx(CB,{})})]})})]})});u_(document.getElementById("root")).render(C.jsx(TB,{}));
//# sourceMappingURL=index-jfMgDPUu.js.map
